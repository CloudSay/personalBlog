import{r as e,o,a as c,b as n,e as p,F as l,c as t,d as s}from"./app.4ee60a11.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";const u={},i=t('<h1 id="\u5C0F\u7A0B\u5E8F" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F</h1><h2 id="\u5C0F\u7A0B\u5E8F-\u767B\u5F55" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F-\u767B\u5F55" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F-\u767B\u5F55</h2><h3 id="unionid\u548Copenid" tabindex="-1"><a class="header-anchor" href="#unionid\u548Copenid" aria-hidden="true">#</a> unionid\u548Copenid</h3><p>\u4E86\u89E3\u5C0F\u7A0B\u5E8F\u767B\u5F55\u4E4B\u524D\uFF0C\u6211\u4EEC\u5199\u4E86\u89E3\u4E0B\u5C0F\u7A0B\u5E8F/\u516C\u4F17\u53F7\u767B\u5F55\u6D89\u53CA\u5230\u4E24\u4E2A\u6700\u5173\u952E\u7684\u7528\u6237\u6807\u8BC6\uFF1A</p><ul><li><code>OpenId</code> \u662F\u4E00\u4E2A\u7528\u6237\u5BF9\u4E8E\u4E00\u4E2A\u5C0F\u7A0B\u5E8F\uFF0F\u516C\u4F17\u53F7\u7684\u6807\u8BC6\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E2A\u6807\u8BC6\u8BC6\u522B\u51FA\u7528\u6237\u3002</li><li><code>UnionId</code> \u662F\u4E00\u4E2A\u7528\u6237\u5BF9\u4E8E\u540C\u4E3B\u4F53\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\uFF0F\u516C\u4F17\u53F7\uFF0FAPP\u7684\u6807\u8BC6\uFF0C\u5F00\u53D1\u8005\u9700\u8981\u5728\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u4E0B\u7ED1\u5B9A\u76F8\u540C\u8D26\u53F7\u7684\u4E3B\u4F53\u3002\u5F00\u53D1\u8005\u53EF\u901A\u8FC7UnionId\uFF0C\u5B9E\u73B0\u591A\u4E2A\u5C0F\u7A0B\u5E8F\u3001\u516C\u4F17\u53F7\u3001\u751A\u81F3APP \u4E4B\u95F4\u7684\u6570\u636E\u4E92\u901A\u4E86\u3002</li></ul><h3 id="\u5173\u952Eapi" tabindex="-1"><a class="header-anchor" href="#\u5173\u952Eapi" aria-hidden="true">#</a> \u5173\u952EApi</h3>',6),k={href:"https://developers.weixin.qq.com/miniprogram/dev/api/api-login.html",target:"_blank",rel:"noopener noreferrer"},b=n("code",null,"wx.login",-1),m=s(" \u5B98\u65B9\u63D0\u4F9B\u7684\u767B\u5F55\u80FD\u529B"),d={href:"https://developers.weixin.qq.com/miniprogram/dev/api/signature.html#wxchecksessionobject",target:"_blank",rel:"noopener noreferrer"},h=n("code",null,"wx.checkSession",-1),g=s(" \u6821\u9A8C\u7528\u6237\u5F53\u524D\u7684session_key\u662F\u5426\u6709\u6548"),y={href:"https://developers.weixin.qq.com/miniprogram/dev/api/authorize.html",target:"_blank",rel:"noopener noreferrer"},_=n("code",null,"wx.authorize",-1),v=s(" \u63D0\u524D\u5411\u7528\u6237\u53D1\u8D77\u6388\u6743\u8BF7\u6C42"),f={href:"https://developers.weixin.qq.com/miniprogram/dev/api/api-login.html",target:"_blank",rel:"noopener noreferrer"},w=n("code",null,"wx.getUserInfo",-1),x=s(" \u83B7\u53D6\u7528\u6237\u57FA\u672C\u4FE1\u606F"),q=t(`<h3 id="\u767B\u5F55\u6D41\u7A0B\u8BBE\u8BA1" tabindex="-1"><a class="header-anchor" href="#\u767B\u5F55\u6D41\u7A0B\u8BBE\u8BA1" aria-hidden="true">#</a> \u767B\u5F55\u6D41\u7A0B\u8BBE\u8BA1</h3><p>\u4EE5\u4E0B\u4ECE\u7B14\u8005\u63A5\u89E6\u8FC7\u7684\u51E0\u79CD\u767B\u5F55\u6D41\u7A0B\u6765\u505A\u9610\u8FF0:</p><h4 id="\u5229\u7528\u73B0\u6709\u767B\u5F55\u4F53\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u5229\u7528\u73B0\u6709\u767B\u5F55\u4F53\u7CFB" aria-hidden="true">#</a> \u5229\u7528\u73B0\u6709\u767B\u5F55\u4F53\u7CFB</h4><p>\u76F4\u63A5\u590D\u7528\u73B0\u6709\u7CFB\u7EDF\u7684\u767B\u5F55\u4F53\u7CFB\uFF0C\u53EA\u9700\u8981\u5728\u5C0F\u7A0B\u5E8F\u7AEF\u8BBE\u8BA1\u7528\u6237\u540D\uFF0C\u5BC6\u7801/\u9A8C\u8BC1\u7801\u8F93\u5165\u9875\u9762\uFF0C\u4FBF\u53EF\u4EE5\u7B80\u4FBF\u7684\u5B9E\u73B0\u767B\u5F55\uFF0C\u53EA\u9700\u8981\u4FDD\u6301\u826F\u597D\u7684\u7528\u6237\u4F53\u9A8C\u5373\u53EF\u3002</p><h4 id="\u5229\u7528openid-\u521B\u5EFA\u7528\u6237\u4F53\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u5229\u7528openid-\u521B\u5EFA\u7528\u6237\u4F53\u7CFB" aria-hidden="true">#</a> \u5229\u7528OpenId \u521B\u5EFA\u7528\u6237\u4F53\u7CFB</h4><p>\u{1F446}\u63D0\u8FC7\uFF0C<code>OpenId</code> \u662F\u4E00\u4E2A\u5C0F\u7A0B\u5E8F\u5BF9\u4E8E\u4E00\u4E2A\u7528\u6237\u7684\u6807\u8BC6\uFF0C\u5229\u7528\u8FD9\u4E00\u70B9\u6211\u4EEC\u53EF\u4EE5\u8F7B\u677E\u7684\u5B9E\u73B0\u4E00\u5957\u57FA\u4E8E\u5C0F\u7A0B\u5E8F\u7684\u7528\u6237\u4F53\u7CFB\uFF0C\u503C\u5F97\u4E00\u63D0\u7684\u662F\u8FD9\u79CD\u7528\u6237\u4F53\u7CFB\u5BF9\u7528\u6237\u7684\u6253\u6270\u6700\u4F4E\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u9759\u9ED8\u767B\u5F55\u3002\u5177\u4F53\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><pre><code>1. \u5C0F\u7A0B\u5E8F\u5BA2\u6237\u7AEF\u901A\u8FC7 \`wx.login\` \u83B7\u53D6 code

2. \u4F20\u9012 code \u5411\u670D\u52A1\u7AEF\uFF0C\u670D\u52A1\u7AEF\u62FF\u5230 code \u8C03\u7528\u5FAE\u4FE1\u767B\u5F55\u51ED\u8BC1\u6821\u9A8C\u63A5\u53E3\uFF0C\u5FAE\u4FE1\u670D\u52A1\u5668\u8FD4\u56DE \`openid\` \u548C\u4F1A\u8BDD\u5BC6\u94A5 \`session_key\` \uFF0C\u6B64\u65F6\u5F00\u53D1\u8005\u670D\u52A1\u7AEF\u4FBF\u53EF\u4EE5\u5229\u7528 \`openid\` \u751F\u6210\u7528\u6237\u5165\u5E93\uFF0C\u518D\u5411\u5C0F\u7A0B\u5E8F\u5BA2\u6237\u7AEF\u8FD4\u56DE\u81EA\u5B9A\u4E49\u767B\u5F55\u6001

3. \u5C0F\u7A0B\u5E8F\u5BA2\u6237\u7AEF\u7F13\u5B58 \uFF08\u901A\u8FC7\`storage\`\uFF09\u81EA\u5B9A\u4E49\u767B\u5F55\u6001\uFF08token\uFF09\uFF0C\u540E\u7EED\u8C03\u7528\u63A5\u53E3\u65F6\u643A\u5E26\u8BE5\u767B\u5F55\u6001\u4F5C\u4E3A\u7528\u6237\u8EAB\u4EFD\u6807\u8BC6\u5373\u53EF
</code></pre><h4 id="\u5229\u7528-unionid-\u521B\u5EFA\u7528\u6237\u4F53\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u5229\u7528-unionid-\u521B\u5EFA\u7528\u6237\u4F53\u7CFB" aria-hidden="true">#</a> \u5229\u7528 Unionid \u521B\u5EFA\u7528\u6237\u4F53\u7CFB</h4><p>\u5982\u679C\u60F3\u5B9E\u73B0\u591A\u4E2A\u5C0F\u7A0B\u5E8F\uFF0C\u516C\u4F17\u53F7\uFF0C\u5DF2\u6709\u767B\u5F55\u7CFB\u7EDF\u7684\u6570\u636E\u4E92\u901A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u83B7\u53D6\u5230\u7528\u6237 unionid \u7684\u65B9\u5F0F\u5EFA\u7ACB\u7528\u6237\u4F53\u7CFB\u3002\u56E0\u4E3A unionid \u5728\u540C\u4E00\u5F00\u653E\u5E73\u53F0\u4E0B\u7684\u6240\u6240\u6709\u5E94\u7528\u90FD\u662F\u76F8\u540C\u7684\uFF0C\u901A\u8FC7 <code>unionid</code> \u5EFA\u7ACB\u7684\u7528\u6237\u4F53\u7CFB\u5373\u53EF\u5B9E\u73B0\u5168\u5E73\u53F0\u6570\u636E\u7684\u4E92\u901A\uFF0C\u66F4\u65B9\u4FBF\u7684\u63A5\u5165\u539F\u6709\u7684\u529F\u80FD\uFF0C\u90A3\u5982\u4F55\u83B7\u53D6 <code>unionid</code> \u5462\uFF0C\u6709\u4EE5\u4E0B\u4E24\u79CD\u65B9\u5F0F\uFF1A</p><pre><code>  1. \u5982\u679C\u6237\u5173\u6CE8\u4E86\u67D0\u4E2A\u76F8\u540C\u4E3B\u4F53\u516C\u4F17\u53F7\uFF0C\u6216\u66FE\u7ECF\u5728\u67D0\u4E2A\u76F8\u540C\u4E3B\u4F53App\u3001\u516C\u4F17\u53F7\u4E0A\u8FDB\u884C\u8FC7\u5FAE\u4FE1\u767B\u5F55\u6388\u6743\uFF0C\u901A\u8FC7 \`wx.login\` \u53EF\u4EE5\u76F4\u63A5\u83B7\u53D6 \u5230 \`unionid\`

  2. \u7ED3\u5408 \`wx.getUserInfo\` \u548C \`&lt;button open-type=&quot;getUserInfo&quot;&gt;&lt;button/&gt;\` \u8FD9\u4E24\u79CD\u65B9\u5F0F\u5F15\u5BFC\u7528\u6237\u4E3B\u52A8\u6388\u6743\uFF0C\u4E3B\u52A8\u6388\u6743\u540E\u901A\u8FC7\u8FD4\u56DE\u7684\u4FE1\u606F\u548C\u670D\u52A1\u7AEF\u4EA4\u4E92 (\u8FD9\u91CC\u6709\u4E00\u6B65\u9700\u8981\u670D\u52A1\u7AEF\u89E3\u5BC6\u6570\u636E\u7684\u8FC7\u7A0B\uFF0C\u5F88\u7B80\u5355\uFF0C\u5FAE\u4FE1\u63D0\u4F9B\u4E86\u793A\u4F8B\u4EE3\u7801) \u5373\u53EF\u62FF\u5230 \`unionid\` \u5EFA\u7ACB\u7528\u6237\u4F53\u7CFB\uFF0C \u7136\u540E\u7531\u670D\u52A1\u7AEF\u8FD4\u56DE\u767B\u5F55\u6001\uFF0C\u672C\u5730\u8BB0\u5F55\u5373\u53EF\u5B9E\u73B0\u767B\u5F55\uFF0C\u9644\u4E0A\u5FAE\u4FE1\u63D0\u4F9B\u7684\u6700\u4F73\u5B9E\u8DF5\uFF1A

  - \u8C03\u7528 wx.login \u83B7\u53D6 code\uFF0C\u7136\u540E\u4ECE\u5FAE\u4FE1\u540E\u7AEF\u6362\u53D6\u5230 session_key\uFF0C\u7528\u4E8E\u89E3\u5BC6 getUserInfo\u8FD4\u56DE\u7684\u654F\u611F\u6570\u636E\u3002

  - \u4F7F\u7528 wx.getSetting \u83B7\u53D6\u7528\u6237\u7684\u6388\u6743\u60C5\u51B5
    - \u5982\u679C\u7528\u6237\u5DF2\u7ECF\u6388\u6743\uFF0C\u76F4\u63A5\u8C03\u7528 API wx.getUserInfo \u83B7\u53D6\u7528\u6237\u6700\u65B0\u7684\u4FE1\u606F\uFF1B
    - \u7528\u6237\u672A\u6388\u6743\uFF0C\u5728\u754C\u9762\u4E2D\u663E\u793A\u4E00\u4E2A\u6309\u94AE\u63D0\u793A\u7528\u6237\u767B\u5165\uFF0C\u5F53\u7528\u6237\u70B9\u51FB\u5E76\u6388\u6743\u540E\u5C31\u83B7\u53D6\u5230\u7528\u6237\u7684\u6700\u65B0\u4FE1\u606F\u3002

  - \u83B7\u53D6\u5230\u7528\u6237\u6570\u636E\u540E\u53EF\u4EE5\u8FDB\u884C\u5C55\u793A\u6216\u8005\u53D1\u9001\u7ED9\u81EA\u5DF1\u7684\u540E\u7AEF\u3002
</code></pre><h4 id="\u6CE8\u610F\u4E8B\u9879" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a> \u6CE8\u610F\u4E8B\u9879</h4><ol><li>\u9700\u8981\u83B7\u53D6 <code>unionid</code> \u5F62\u5F0F\u7684\u767B\u5F55\u4F53\u7CFB\uFF0C\u5728\u4EE5\u524D\uFF0818\u5E744\u6708\u4E4B\u524D\uFF09\u662F\u901A\u8FC7\u4EE5\u4E0B\u8FD9\u79CD\u65B9\u5F0F\u6765\u5B9E\u73B0\uFF0C\u4F46\u540E\u7EED\u5FAE\u4FE1\u505A\u4E86\u8C03\u6574\uFF08\u56E0\u4E3A\u4E00\u8FDB\u5165\u5C0F\u7A0B\u5E8F\uFF0C\u4E3B\u52A8\u5F39\u8D77\u5404\u79CD\u6388\u6743\u5F39\u7A97\u7684\u8FD9\u79CD\u5F62\u5F0F\uFF0C\u6BD4\u8F83\u5BB9\u6613\u5BFC\u81F4\u7528\u6237\u6D41\u5931\uFF09\uFF0C\u8C03\u6574\u4E3A\u5FC5\u987B\u4F7F\u7528\u6309\u94AE\u5F15\u5BFC\u7528\u6237\u4E3B\u52A8\u6388\u6743\u7684\u65B9\u5F0F\uFF0C\u8FD9\u6B21\u8C03\u6574\u5BF9\u5F00\u53D1\u8005\u5F71\u54CD\u8F83\u5927\uFF0C\u5F00\u53D1\u8005\u9700\u8981\u6CE8\u610F\u9075\u5B88\u5FAE\u4FE1\u7684\u89C4\u5219\uFF0C\u5E76\u53CA\u65F6\u548C\u4E1A\u52A1\u65B9\u6C9F\u901A\u4E1A\u52A1\u5F62\u5F0F\uFF0C\u4E0D\u8981\u5B58\u5728\u4FA5\u5E78\u5FC3\u7406\uFF0C\u4EE5\u9632\u9020\u6210\u5C0F\u7A0B\u5E8F\u4E0D\u8FC7\u5BA1\u7B49\u60C5\u51B5\u3002</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>   wx.login(\u83B7\u53D6code) ===&gt; wx.getUserInfo(\u7528\u6237\u6388\u6743) ===&gt; \u83B7\u53D6 unionid
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="2"><li><p>\u56E0\u4E3A\u5C0F\u7A0B\u5E8F\u4E0D\u5B58\u5728 <code>cookie</code> \u7684\u6982\u5FF5\uFF0C \u767B\u5F55\u6001\u5FC5\u987B\u7F13\u5B58\u5728\u672C\u5730\uFF0C\u56E0\u6B64\u5F3A\u70C8\u5EFA\u8BAE\u4E3A\u767B\u5F55\u6001\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4</p></li><li><p>\u503C\u5F97\u4E00\u63D0\u7684\u662F\u5982\u679C\u9700\u8981\u652F\u6301\u98CE\u63A7\u5B89\u5168\u6821\u9A8C\uFF0C\u591A\u5E73\u53F0\u767B\u5F55\u7B49\u529F\u80FD\uFF0C\u53EF\u80FD\u9700\u8981\u52A0\u5165\u4E00\u4E9B\u516C\u5171\u53C2\u6570\uFF0C\u4F8B\u5982platform\uFF0Cchannel\uFF0CdeviceParam\u7B49\u53C2\u6570\u3002\u5728\u548C\u670D\u52A1\u7AEF\u786E\u5B9A\u65B9\u6848\u65F6\uFF0C\u4F5C\u4E3A\u524D\u7AEF\u540C\u5B66\u5E94\u8BE5\u53CA\u65F6\u63D0\u51FA\u8FD9\u4E9B\u5408\u7406\u7684\u5EFA\u8BAE\uFF0C\u8BBE\u8BA1\u5408\u7406\u7684\u7CFB\u7EDF\u3002</p></li><li><p><code>openid</code> \uFF0C <code>unionid</code> \u4E0D\u8981\u5728\u63A5\u53E3\u4E2D\u660E\u6587\u4F20\u8F93\uFF0C\u8FD9\u662F\u4E00\u79CD\u5371\u9669\u7684\u884C\u4E3A\uFF0C\u540C\u65F6\u4E5F\u5F88\u4E0D\u4E13\u4E1A\u3002</p></li></ol><h2 id="\u5C0F\u7A0B\u5E8F-\u56FE\u7247\u5BFC\u51FA" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F-\u56FE\u7247\u5BFC\u51FA" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F-\u56FE\u7247\u5BFC\u51FA</h2><p>\u7ECF\u5E38\u5F00\u53D1\u548C\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u7684\u540C\u5B66\u5BF9\u8FD9\u4E2A\u529F\u80FD\u4E00\u5B9A\u4E0D\u964C\u751F\uFF0C\u8FD9\u662F\u4E00\u79CD\u5E38\u89C1\u7684\u5F15\u6D41\u65B9\u5F0F\uFF0C\u4E00\u822C\u540C\u65F6\u4F1A\u5728\u56FE\u7247\u4E2D\u9644\u52A0\u4E00\u4E2A\u5C0F\u7A0B\u5E8F\u4E8C\u7EF4\u7801\u3002</p><h3 id="\u57FA\u672C\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u539F\u7406" aria-hidden="true">#</a> \u57FA\u672C\u539F\u7406</h3><ol><li><p>\u501F\u52A9 <code>canvas</code> \u5143\u7D20\uFF0C\u5C06\u9700\u8981\u5BFC\u51FA\u7684\u6837\u5F0F\u9996\u5148\u5728 <code>canvas</code> \u753B\u5E03\u4E0A\u7ED8\u5236\u51FA\u6765 \uFF08api\u57FA\u672C\u548Ch5\u4FDD\u6301\u4E00\u81F4\uFF0C\u4F46\u6709\u8F7B\u5FAE\u5DEE\u5F02\uFF0C\u4F7F\u7528\u65F6\u6CE8\u610F\u5373\u53EF\uFF09</p></li><li><p>\u501F\u52A9\u5FAE\u4FE1\u63D0\u4F9B\u7684 <code>canvasToTempFilePath</code> \u5BFC\u51FA\u56FE\u7247\uFF0C\u6700\u540E\u518D\u4F7F\u7528 <code>saveImageToPhotosAlbum</code> \uFF08\u9700\u8981\u6388\u6743\uFF09\u4FDD\u5B58\u56FE\u7247\u5230\u672C\u5730</p></li></ol><h3 id="\u5982\u4F55\u4F18\u96C5\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u4F18\u96C5\u5B9E\u73B0" aria-hidden="true">#</a> \u5982\u4F55\u4F18\u96C5\u5B9E\u73B0</h3><p>\u6839\u636E\u4E0A\u8FF0\u7684\u539F\u7406\u6765\u770B\uFF0C\u5B9E\u73B0\u662F\u5F88\u7B80\u5355\u7684\uFF0C\u53EA\u4E0D\u8FC7\u5C31\u662F\u8BBE\u8BA1\u7A3F\u7684\u63D0\u53D6\uFF0C\u7ED8\u5236\u5373\u53EF\uFF0C\u4F46\u662F\u4F5C\u4E3A\u4E00\u4E2A\u5E38\u7528\u529F\u80FD\uFF0C\u6BCF\u6B21\u90FD\u8FD9\u6837\u5199\u4E00\u5768\u4EE3\u7801\u5C82\u4E0D\u662F\u975E\u5E38\u7684\u96BE\u53D7\u3002\u90A3\u5C0F\u7A0B\u5E8F\u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2A\u901A\u7528\u7684\u65B9\u6CD5\u6765\u5E2E\u52A9\u6211\u4EEC\u5BFC\u51FA\u56FE\u7247\u5462\uFF1F\u601D\u8DEF\u5982\u4E0B\uFF1A</p><ol><li><p>\u7ED8\u5236\u51FA\u9700\u8981\u7684\u6837\u5F0F\u8FD9\u4E00\u6B65\u662F\u7701\u7565\u4E0D\u6389\u7684\u3002\u4F46\u662F\u6211\u4EEC\u53EF\u4EE5\u5C01\u88C5\u4E00\u4E2A\u7ED8\u5236\u5E93\uFF0C\u5305\u542B\u5E38\u89C1\u56FE\u5F62\u7684\u7ED8\u5236\uFF0C\u4F8B\u5982\u77E9\u5F62\uFF0C\u5706\u89D2\u77E9\u5F62\uFF0C\u5706\uFF0C \u6247\u5F62\uFF0C \u4E09\u89D2\u5F62\uFF0C \u6587\u5B57\uFF0C\u56FE\u7247\u51CF\u5C11\u7ED8\u5236\u4EE3\u7801\uFF0C\u53EA\u9700\u8981\u63D0\u70BC\u51FA\u6837\u5F0F\u4FE1\u606F\uFF0C\u4FBF\u53EF\u4EE5\u8F7B\u677E\u7684\u7ED8\u5236\uFF0C\u6700\u540E\u5BFC\u51FA\u56FE\u7247\u5B58\u5165\u76F8\u518C\u3002\u7B14\u8005\u89C9\u5F97\u4EE5\u4E0B\u8FD9\u79CD\u65B9\u5F0F\u7ED8\u5236\u66F4\u4E3A\u4F18\u96C5\u6E05\u6670\u4E00\u4E9B\uFF0C\u5176\u5B9E\u4E5F\u53EF\u4EE5\u4F7F\u7528\u52A0\u5165\u4E00\u4E2Atype\u53C2\u6570\u6765\u6307\u5B9A\u7ED8\u5236\u7C7B\u578B\uFF0C\u4F20\u5165\u7684\u4E00\u4E2A\u662F\u6837\u5F0F\u6570\u7EC4\uFF0C\u5B9E\u73B0\u7ED8\u5236\u3002</p></li><li><p>\u7ED3\u5408\u4E0A\u4E00\u6B65\u7684\u5B9E\u73B0\uFF0C\u5982\u679C\u5BF9\u4E8E\u540C\u4E00\u7C7B\u578B\u7684\u5361\u7247\u6709\u591A\u6B21\u5BFC\u51FA\u9700\u6C42\u7684\u573A\u666F\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u7684\u65B9\u5F0F\uFF0C\u5C01\u88C5\u540C\u4E00\u7C7B\u578B\u7684\u5361\u7247\u4E3A\u4E00\u4E2A\u901A\u7528\u7EC4\u4EF6\uFF0C\u5728\u9700\u8981\u5BFC\u51FA\u56FE\u7247\u529F\u80FD\u7684\u5730\u65B9\uFF0C\u5F15\u5165\u8BE5\u7EC4\u4EF6\u5373\u53EF\u3002</p></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    
  <span class="token keyword">class</span> <span class="token class-name">CanvasKit</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token function">drawImg</span><span class="token punctuation">(</span><span class="token parameter">option <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
    <span class="token function">drawRect</span><span class="token punctuation">(</span><span class="token parameter">option <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
    <span class="token function">drawText</span><span class="token punctuation">(</span><span class="token parameter">option <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token function">exportImg</span><span class="token punctuation">(</span><span class="token parameter">option <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> drawer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CanvasKit</span><span class="token punctuation">(</span><span class="token string">&#39;canvasId&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">drawImg</span><span class="token punctuation">(</span>styleObj1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span>styleObj2<span class="token punctuation">)</span>
  drawer<span class="token punctuation">.</span><span class="token function">exportImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="\u6CE8\u610F\u4E8B\u9879-1" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u610F\u4E8B\u9879-1" aria-hidden="true">#</a> \u6CE8\u610F\u4E8B\u9879</h3>`,23),j=n("li",null,"\u5C0F\u7A0B\u5E8F\u4E2D\u65E0\u6CD5\u7ED8\u5236\u7F51\u7EDC\u56FE\u7247\u5230canvas\u4E0A\uFF0C\u9700\u8981\u901A\u8FC7downLoadFile \u5148\u4E0B\u8F7D\u56FE\u7247\u5230\u672C\u5730\u4E34\u65F6\u6587\u4EF6\u624D\u53EF\u4EE5\u7ED8\u5236",-1),P=s("\u901A\u5E38\u9700\u8981\u7ED8\u5236\u4E8C\u7EF4\u7801\u5230\u5BFC\u51FA\u7684\u56FE\u7247\u4E0A\uFF0C\u6709"),C={href:"https://developers.weixin.qq.com/miniprogram/dev/api/qrcode.html",target:"_blank",rel:"noopener noreferrer"},S=s("\u4E00\u79CD\u65B9\u5F0F"),V=s("\u5BFC\u51FA\u4E8C\u7EF4\u7801\u65F6\uFF0C\u9700\u8981\u643A\u5E26\u7684\u53C2\u6570\u5FC5\u987B\u505A\u7F16\u7801\uFF0C\u800C\u4E14\u6709\u5177\u4F53\u7684\u957F\u5EA6\uFF0832\u53EF\u89C1\u5B57\u7B26\uFF09\u9650\u5236\uFF0C\u53EF\u4EE5\u501F\u52A9\u670D\u52A1\u7AEF\u751F\u6210 "),T=n("code",null,"\u77ED\u94FE\u63A5",-1),M=s(" \u7684\u65B9\u5F0F\u6765\u89E3\u51B3"),D=t(`<h2 id="\u5C0F\u7A0B\u5E8F-\u6570\u636E\u7EDF\u8BA1" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F-\u6570\u636E\u7EDF\u8BA1" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F-\u6570\u636E\u7EDF\u8BA1</h2><p>\u6570\u636E\u7EDF\u8BA1\u4F5C\u4E3A\u76EE\u524D\u4E00\u79CD\u5E38\u7528\u7684\u5206\u6790\u7528\u6237\u884C\u4E3A\u7684\u65B9\u5F0F\uFF0C\u5C0F\u7A0B\u5E8F\u7AEF\u4E5F\u662F\u5FC5\u4E0D\u53EF\u5C11\u7684\u3002\u5C0F\u7A0B\u5E8F\u91C7\u53D6\u7684\u66DD\u5149\uFF0C\u70B9\u51FB\u6570\u636E\u57CB\u70B9\u5176\u5B9E\u548Ch5\u539F\u7406\u662F\u4E00\u6837\u7684\u3002\u4F46\u662F\u57CB\u70B9\u4F5C\u4E3A\u4E00\u4E2A\u548C\u4E1A\u52A1\u903B\u8F91\u4E0D\u76F8\u5173\u7684\u9700\u6C42\uFF0C\u6211\u4EEC\u5982\u679C\u5728\u6BCF\u4E00\u4E2A\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u6BCF\u4E00\u4E2A\u751F\u547D\u5468\u671F\u52A0\u5165\u5404\u79CD\u57CB\u70B9\u4EE3\u7801\uFF0C\u5219\u4F1A\u5E72\u6270\u6B63\u5E38\u7684\u4E1A\u52A1\u903B\u8F91\uFF0C\u548C\u4F7F\u4EE3\u7801\u53D8\u7684\u81C3\u80BF\uFF0C\u7B14\u8005\u63D0\u4F9B\u4EE5\u4E0B\u51E0\u79CD\u601D\u8DEF\u6765\u89E3\u51B3\u6570\u636E\u57CB\u70B9\uFF1A</p><h3 id="\u8BBE\u8BA1\u4E00\u4E2A\u57CB\u70B9sdk" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u8BA1\u4E00\u4E2A\u57CB\u70B9sdk" aria-hidden="true">#</a> \u8BBE\u8BA1\u4E00\u4E2A\u57CB\u70B9sdk</h3><p>\u5C0F\u7A0B\u5E8F\u7684\u4EE3\u7801\u7ED3\u6784\u662F\uFF0C\u6BCF\u4E00\u4E2A Page \u4E2D\u90FD\u6709\u4E00\u4E2A Page \u65B9\u6CD5\uFF0C\u63A5\u53D7\u4E00\u4E2A\u5305\u542B\u751F\u547D\u5468\u671F\u51FD\u6570\uFF0C\u6570\u636E\u7684 <code>\u4E1A\u52A1\u903B\u8F91\u5BF9\u8C61</code> \u5305\u88C5\u8FD9\u5C42\u6570\u636E\uFF0C\u501F\u52A9\u5C0F\u7A0B\u5E8F\u7684\u5E95\u5C42\u903B\u8F91\u5B9E\u73B0\u9875\u9762\u7684\u4E1A\u52A1\u903B\u8F91\u3002\u901A\u8FC7\u8FD9\u4E2A\u6211\u4EEC\u53EF\u4EE5\u60F3\u5230\u601D\u8DEF\uFF0C\u5BF9Page\u8FDB\u884C\u4E00\u6B21\u5305\u88C5\uFF0C\u7BE1\u6539\u5B83\u7684\u751F\u547D\u5468\u671F\u548C\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u6DF7\u5165\u57CB\u70B9\u4EE3\u7801\uFF0C\u4E0D\u5E72\u6270\u4E1A\u52A1\u903B\u8F91\uFF0C\u53EA\u8981\u505A\u4E00\u4E9B\u7B80\u5355\u7684\u914D\u7F6E\u5373\u53EF\u57CB\u70B9\uFF0C\u7B80\u5355\u7684\u4EE3\u7801\u5B9E\u73B0\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  
  \u4EE3\u7801\u4EC5\u4F9B\u7406\u89E3\u601D\u8DEF
  <span class="token function-variable function">page</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> keys <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">===</span> <span class="token string">&#39;onLoad&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          params<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">stat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//\u66DD\u5149\u57CB\u70B9\u4EE3\u7801</span>
            params<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          params<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">funciton</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token keyword">let</span> data <span class="token operator">=</span> event<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>config
            <span class="token function">stat</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>  <span class="token comment">// \u70B9\u51FB\u57CB\u70B9</span>
            param<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>\u8FD9\u79CD\u601D\u8DEF\u4E0D\u5149\u9002\u7528\u4E8E\u57CB\u70B9\uFF0C\u4E5F\u53EF\u4EE5\u7528\u6765\u4F5C\u5168\u5C40\u5F02\u5E38\u5904\u7406\uFF0C\u8BF7\u6C42\u7684\u7EDF\u4E00\u5904\u7406\u7B49\u573A\u666F\u3002</p><h3 id="\u5206\u6790\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#\u5206\u6790\u63A5\u53E3" aria-hidden="true">#</a> \u5206\u6790\u63A5\u53E3</h3><p>\u5BF9\u4E8E\u7279\u6B8A\u7684\u4E00\u4E9B\u4E1A\u52A1\uFF0C\u6211\u4EEC\u53EF\u4EE5\u91C7\u53D6 <code>\u63A5\u53E3\u57CB\u70B9</code>\uFF0C\u4EC0\u4E48\u53EB\u63A5\u53E3\u57CB\u70B9\u5462\uFF1F\u5F88\u591A\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u6709\u7684api\u5E76\u4E0D\u662F\u591A\u5904\u8C03\u7528\u7684\uFF0C\u53EA\u4F1A\u5728\u67D0\u4E00\u4E2A\u7279\u5B9A\u7684\u9875\u9762\u8C03\u7528\uFF0C\u901A\u8FC7\u8FD9\u4E2A\u601D\u8DEF\u6211\u4EEC\u53EF\u4EE5\u5206\u6790\u51FA\uFF0C\u8BE5\u63A5\u53E3\u88AB\u8BF7\u6C42\uFF0C\u5219\u8FD9\u4E2A\u884C\u4E3A\u88AB\u89E6\u53D1\u4E86\uFF0C\u5219\u5B8C\u5168\u53EF\u4EE5\u901A\u8FC7\u670D\u52A1\u7AEF\u65E5\u5FD7\u5F97\u51FA\u57CB\u70B9\u6570\u636E\uFF0C\u4F46\u662F\u8FD9\u79CD\u65B9\u5F0F\u5C40\u9650\u6027\u8F83\u5927\uFF0C\u800C\u4E14\u5C5E\u4E8E\u5206\u6790\u7ED3\u679C\u5F97\u51FA\u8FC7\u7A0B\uFF0C\u53EF\u80FD\u5B58\u5728\u8BEF\u5DEE\uFF0C\u4F46\u53EF\u4EE5\u4F5C\u4E3A\u4E00\u79CD\u601D\u8DEF\u4E86\u89E3\u4E00\u4E0B\u3002</p>`,8),A={id:"\u5FAE\u4FE1\u81EA\u5B9A\u4E49\u6570\u636E\u5206\u6790",tabindex:"-1"},E=n("a",{class:"header-anchor",href:"#\u5FAE\u4FE1\u81EA\u5B9A\u4E49\u6570\u636E\u5206\u6790","aria-hidden":"true"},"#",-1),W=s(),I={href:"https://developers.weixin.qq.com/miniprogram/analysis/index.html?t=18081011",target:"_blank",rel:"noopener noreferrer"},B=s("\u5FAE\u4FE1\u81EA\u5B9A\u4E49\u6570\u636E\u5206\u6790"),L=t('<p>\u5FAE\u4FE1\u672C\u8EAB\u63D0\u4F9B\u7684\u6570\u636E\u5206\u6790\u80FD\u529B\uFF0C\u5FAE\u4FE1\u672C\u8EAB\u63D0\u4F9B\u4E86\u5E38\u89C4\u5206\u6790\u548C\u81EA\u5B9A\u4E49\u5206\u6790\u4E24\u79CD\u6570\u636E\u5206\u6790\u65B9\u5F0F\uFF0C\u5728\u5C0F\u7A0B\u5E8F\u540E\u53F0\u914D\u7F6E\u5373\u53EF\u3002\u501F\u52A9<code>\u5C0F\u7A0B\u5E8F\u6570\u636E\u52A9\u624B</code>\u8FD9\u6B3E\u5C0F\u7A0B\u5E8F\u53EF\u4EE5\u5F88\u65B9\u4FBF\u7684\u67E5\u770B\u3002</p><h2 id="\u5C0F\u7A0B\u5E8F-\u5DE5\u7A0B\u5316" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F-\u5DE5\u7A0B\u5316" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F-\u5DE5\u7A0B\u5316</h2><h3 id="\u5DE5\u7A0B\u5316\u505A\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#\u5DE5\u7A0B\u5316\u505A\u4EC0\u4E48" aria-hidden="true">#</a> \u5DE5\u7A0B\u5316\u505A\u4EC0\u4E48</h3><p>\u76EE\u524D\u7684\u524D\u7AEF\u5F00\u53D1\u8FC7\u7A0B\uFF0C\u5DE5\u7A0B\u5316\u662F\u5FC5\u4E0D\u53EF\u5C11\u7684\u4E00\u73AF\uFF0C\u90A3\u5C0F\u7A0B\u5E8F\u5DE5\u7A0B\u5316\u90FD\u9700\u8981\u505A\u4E9B\u4EC0\u4E48\u5462\uFF0C\u5148\u770B\u4E0B\u76EE\u524D\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u5F53\u4E2D\u5B58\u5728\u54EA\u4E9B\u95EE\u9898\u9700\u8981\u89E3\u51B3\uFF1A</p><ol><li>\u4E0D\u652F\u6301 css\u9884\u7F16\u8BD1\u5668,\u4F5C\u4E3A\u4E00\u79CD\u4E3B\u6D41\u7684 css\u89E3\u51B3\u65B9\u6848\uFF0C\u4E0D\u8BBA\u662F less,sass,stylus \u90FD\u53EF\u4EE5\u63D0\u5347css\u6548\u7387</li><li>\u4E0D\u652F\u6301\u5F15\u5165npm\u5305 \uFF08\u8FD9\u4E00\u6761\uFF0C\u4ECE\u5FAE\u4FE1\u516C\u5F00\u8BFE\u4E2D\u542C\u95FB\uFF0C\u5FAE\u4FE1\u51C6\u5907\u652F\u6301\uFF09</li><li>\u4E0D\u652F\u6301ES7\u7B49\u540E\u7EED\u7684js\u7279\u6027\uFF0C\u597D\u7528\u7684async await\u7B49\u7279\u6027\u90FD\u65E0\u6CD5\u4F7F\u7528</li><li>\u4E0D\u652F\u6301\u5F15\u5165\u5916\u90E8\u5B57\u4F53\u6587\u4EF6\uFF0C\u53EA\u652F\u6301base64</li><li>\u6CA1\u6709 eslint \u7B49\u4EE3\u7801\u68C0\u67E5\u5DE5\u5177</li></ol><h3 id="\u65B9\u6848\u9009\u578B" tabindex="-1"><a class="header-anchor" href="#\u65B9\u6848\u9009\u578B" aria-hidden="true">#</a> \u65B9\u6848\u9009\u578B</h3><p>\u5BF9\u4E8E\u76EE\u524D\u5E38\u7528\u7684\u5DE5\u7A0B\u5316\u65B9\u6848\uFF0Cwebpack\uFF0Crollup\uFF0Cparcel\u7B49\u6765\u770B\uFF0C\u90FD\u5E38\u7528\u4E0E\u5355\u9875\u5E94\u7528\u7684\u6253\u5305\u548C\u5904\u7406\uFF0C\u800C\u5C0F\u7A0B\u5E8F\u5929\u751F\u662F \u201C\u591A\u9875\u5E94\u7528\u201D \u5E76\u4E14\u5B58\u5728\u4E00\u4E9B\u7279\u5B9A\u7684\u914D\u7F6E\u3002\u6839\u636E\u8981\u89E3\u51B3\u7684\u95EE\u9898\u6765\u770B\uFF0C\u65E0\u975E\u662F\u6587\u4EF6\u7684\u7F16\u8BD1\uFF0C\u4FEE\u6539\uFF0C\u62F7\u8D1D\u8FD9\u4E9B\u5904\u7406\uFF0C\u5BF9\u4E8E\u8FD9\u4E9B\u9700\u6C42\uFF0C\u6211\u4EEC\u60F3\u5230\u57FA\u4E8E\u6D41\u7684 <code>gulp</code>\u975E\u5E38\u7684\u9002\u5408\u5904\u7406\uFF0C\u5E76\u4E14\u76F8\u5BF9\u4E8Ewebpack\u914D\u7F6E\u591A\u9875\u5E94\u7528\u66F4\u52A0\u7B80\u5355\u3002\u6240\u4EE5\u5C0F\u7A0B\u5E8F\u5DE5\u7A0B\u5316\u65B9\u6848\u63A8\u8350\u4F7F\u7528 <code>gulp</code></p><h3 id="\u5177\u4F53\u5F00\u53D1\u601D\u8DEF" tabindex="-1"><a class="header-anchor" href="#\u5177\u4F53\u5F00\u53D1\u601D\u8DEF" aria-hidden="true">#</a> \u5177\u4F53\u5F00\u53D1\u601D\u8DEF</h3><p>\u901A\u8FC7 gulp \u7684 task \u5B9E\u73B0\uFF1A</p><ol><li>\u5B9E\u65F6\u7F16\u8BD1 less \u6587\u4EF6\u81F3\u76F8\u5E94\u76EE\u5F55</li><li>\u5F15\u5165\u652F\u6301async\uFF0Cawait\u7684\u8FD0\u884C\u65F6\u6587\u4EF6</li><li>\u7F16\u8BD1\u5B57\u4F53\u6587\u4EF6\u4E3Abase64 \u5E76\u751F\u6210\u76F8\u5E94css\u6587\u4EF6\uFF0C\u65B9\u4FBF\u4F7F\u7528</li><li>\u4F9D\u8D56\u5206\u6790\u54EA\u4E9B\u5730\u65B9\u5F15\u7528\u4E86npm\u5305\uFF0C\u5C06npm\u5305\u6253\u6210\u4E00\u4E2A\u6587\u4EF6\uFF0C\u62F7\u8D1D\u81F3\u76F8\u5E94\u76EE\u5F55</li><li>\u68C0\u67E5\u4EE3\u7801\u89C4\u8303</li></ol><p>\u4E0A\u8FF0\u5B9E\u73B0\u8D77\u6765\u5176\u5B9E\u5E76\u4E0D\u662F\u5F88\u96BE\uFF0C\u4F46\u662F\u8FD9\u6837\u7684\u8BDD\u5C31\u662F\u4E00\u4EFD\u7EAF\u7CB9\u7684 gulp \u6784\u5EFA\u811A\u672C\u548C \u7EA6\u5B9A\u597D\u7684\u76EE\u5F55\u800C\u5DF2\uFF0C\u6BCF\u6B21\u90FD\u6709\u4E00\u4E2A\u65B0\u7684\u5C0F\u7A0B\u5E8F\u90FD\u6765\u62F7\u8D1D\u8FD9\u4EFD\u811A\u672C\u6765\u5904\u7406\u5417\uFF1F\u663E\u7136\u4E0D\u5408\u9002\uFF0C\u90A3\u5982\u4F55\u771F\u6B63\u7684\u5B9E\u73B0 <code>\u5C0F\u7A0B\u5E8F\u5DE5\u7A0B\u5316</code> \u5462\uFF1F \u6211\u4EEC\u53EF\u80FD\u9700\u8981\u4E00\u4E2A\u7B80\u5355\u7684\u811A\u624B\u67B6\uFF0C\u811A\u624B\u67B6\u9700\u8981\u652F\u6301\u7684\u529F\u80FD\uFF1A</p><ol><li>\u652F\u6301\u65B0\u5EFA\u9879\u76EE\uFF0C\u521B\u5EFAPage\uFF0C\u521B\u5EFAComponent</li><li>\u652F\u6301\u5185\u7F6E\u6784\u5EFA\u811A\u672C</li><li>\u652F\u6301\u53D1\u5E03\u5C0F\u7A0B\u5E8F\uFF0C\u4E5F\u53EF\u4EE5\u60F3\u529E\u6CD5\u63A5\u5165Jenkins\u7B49\u5DE5\u5177\u505A\u6301\u7EED\u96C6\u6210 ...</li></ol>',12),O=s("\u9650\u4E8E\u7BC7\u5E45\uFF0C\u6CA1\u6709\u5C06\u5B8C\u6574\u7684\u4EE3\u7801\u8D34\u4E0A\u6765\uFF0C\u5982\u679C\u611F\u5174\u8DA3\uFF0C\u53EF\u4EE5\u53C2\u8003\u7B14\u8005\u516C\u53F8\u5B9E\u73B0\u548C\u5728\u751F\u4EA7\u73AF\u5883\u5B9E\u8DF5\u8FC7\u7684\u4E00\u6574\u5957\u5C0F\u7A0B\u5E8F\u5DE5\u7A0B\u5316\u65B9\u6848"),F={href:"https://github.com/pandolajs/pandora-cli",target:"_blank",rel:"noopener noreferrer"},R=s("pandora-cli"),H=s("\u3002"),$=n("h2",{id:"\u5C0F\u7A0B\u5E8F-\u6301\u7EED\u96C6\u6210",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5C0F\u7A0B\u5E8F-\u6301\u7EED\u96C6\u6210","aria-hidden":"true"},"#"),s(" \u5C0F\u7A0B\u5E8F-\u6301\u7EED\u96C6\u6210")],-1),J=n("p",null,[s("\u5F88\u591A\u6210\u719F\u7684\u516C\u53F8\u7684\u8F6F\u4EF6\u5F00\u53D1\u6D41\u7A0B\u4E2D\u4E3A\u4E86\u89C4\u8303\u5316\u548C\u4FDD\u8BC1\u4EA7\u54C1\u8D28\u91CF\uFF0C\u90FD\u6709 "),n("code",null,"\u6301\u7EED\u96C6\u6210"),s(" \u8FD9\u4E2A\u73AF\u8282\u3002\u5728\u5C0F\u7A0B\u5E8F\u8FD9\u4E00\u4FA7\uFF0C\u7531\u4E8E\u4F9D\u8D56\u5FAE\u4FE1\u5F00\u53D1\u8005\u5E73\u53F0\uFF0C\u548C\u4EE5\u5F80\u7684web\u5F00\u53D1\u6709\u4E00\u5B9A\u7684\u533A\u522B\uFF0C\u672C\u8282\u4E3B\u8981\u4ECB\u7ECD\u5982\u4F55\u81EA\u52A8\u5316\u7684\u505A\u5C0F\u7A0B\u5E8F\u7684\u9884\u89C8\uFF0C\u53D1\u5E03\uFF0C\u63D0\u5BA1\uFF0C\u4EE5\u5B9E\u73B0\u89C4\u8303\u5316\u7684\u5F00\u53D1\uFF0C\u4E0A\u7EBF\u3002")],-1),N=n("h3",{id:"\u89C4\u8303\u5316\u7684\u5F00\u53D1\u6D41\u7A0B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u89C4\u8303\u5316\u7684\u5F00\u53D1\u6D41\u7A0B","aria-hidden":"true"},"#"),s(" \u89C4\u8303\u5316\u7684\u5F00\u53D1\u6D41\u7A0B")],-1),z=n("p",null,"\u5C0F\u7A0B\u5E8F\u5728\u63D0\u5BA1\u4E4B\u524D\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u901A\u8FC7\u4E8C\u7EF4\u7801\u6D4B\u8BD5\uFF0C\u9884\u89C8\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C\u6CA1\u6709\u89C4\u8303\u5316\u7684\u6D41\u7A0B\uFF0C\u5F00\u53D1\u6D4B\u8BD5\u6D41\u7A0B\u5C31\u4F1A\u6BD4\u8F83\u6DF7\u4E71\uFF0C\u4E5F\u4F1A\u5B58\u5728\u4E00\u4E9B\u95EE\u9898(\u4F8B\u5982\u4E0D\u540C\u540C\u5B66\u7684\u529F\u80FD\u6D4B\u8BD5\uFF0C\u624B\u52A8\u63D0\u4F9B\u4E8C\u7EF4\u7801\u7ED9\u6D4B\u8BD5\u540C\u5B66\uFF0C\u4E8C\u7EF4\u7801\u5931\u6548)\uFF0C\u6240\u4EE5\u5728\u5F00\u53D1\u65F6\u7B14\u8005\u5EFA\u8BAE\u91C7\u7528\u5982\u4E0B\u5F00\u53D1\u6D41\u7A0B\uFF08\u672A\u63A5\u5165\u6301\u7EED\u96C6\u6210\uFF09\uFF1A",-1),U=n("li",null,"\u4E0D\u540C\u7684\u5F00\u53D1\u540C\u5B66\u6839\u636E\u5F00\u53D1\u4EFB\u52A1\u62C9\u5206\u652F\u5728\u672C\u5730\u5F00\u53D1\uFF0C\u81EA\u6D4B",-1),G=n("li",null,[s("\u5F00\u53D1\u5B8C\u6210\u540E\u63D0\u4EA4\u5230\u8FDC\u7AEF\uFF0C\u7ECF\u8FC7 "),n("code",null,"review"),s(" \u6216\u8005 "),n("code",null,"\u4EE3\u7801\u5BA1\u6838"),s(" \u4E4B\u540E\uFF0C\u5408\u5E76\u5230develop\u5206\u652F\u5E76\u4E0A\u4F20\u4F53\u9A8C\u5305\uFF0C\u4F5C\u4E3A\u53EF\u63D0\u6D4B\u7684\u7248\u672C")],-1),X=s("\u544A\u77E5\u6D4B\u8BD5\u540C\u5B66\u53EF\u4EE5\u6D4B\u8BD5\uFF0C\u6D4B\u8BD5\u540C\u5B66\u53EF\u4EE5\u901A\u8FC7"),K={href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/mydev.html",target:"_blank",rel:"noopener noreferrer"},Q=s("\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u52A9\u624B"),Y=s("\u6253\u5F00\u4F53\u9A8C\u7248\u672C\u6765\u6D4B\u8BD5"),Z=n("li",null,[s("\u6D4B\u8BD5\u5B8C\u6210\u4E4B\u540E\uFF0C\u5408\u5E76 "),n("code",null,"develop"),s(" \u4EE3\u7801\u81F3 "),n("code",null,"master"),s(" \u5206\u652F\uFF0C\u5E76\u63D0\u5BA1\u4E0A\u7EBF\uFF0C\u4E0A\u7EBF\u5B8C\u6210\u540E\u5220\u9664\u65E0\u7528\u5206\u652F\uFF0C\u6253\u4E0A\u7248\u672C"),n("code",null,"tag")],-1),nn=n("h3",{id:"\u5982\u4F55\u505A\u5C0F\u7A0B\u5E8F\u7684\u6301\u7EED\u96C6\u6210",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5982\u4F55\u505A\u5C0F\u7A0B\u5E8F\u7684\u6301\u7EED\u96C6\u6210","aria-hidden":"true"},"#"),s(" \u5982\u4F55\u505A\u5C0F\u7A0B\u5E8F\u7684\u6301\u7EED\u96C6\u6210")],-1),sn=n("h4",{id:"\u51C6\u5907\u5DE5\u4F5C",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u51C6\u5907\u5DE5\u4F5C","aria-hidden":"true"},"#"),s(" \u51C6\u5907\u5DE5\u4F5C")],-1),an=n("li",null,[s("\u64CD\u4F5C\u7CFB\u7EDF\u4E3A "),n("code",null,"windows"),s(" \u6216\u8005 "),n("code",null,"macOS"),s(" \u7684\u670D\u52A1\u5668")],-1),pn=s("\u670D\u52A1\u7AEF\u5B89\u88C5\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u8005\u5DE5\u5177 "),tn={href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html",target:"_blank",rel:"noopener noreferrer"},en=s("\u4E0B\u8F7D\u5730\u5740"),on=n("li",null,"\u51C6\u5907\u4E00\u4E2A\u901A\u7528\u6253\u5305\u6784\u5EFA\u89D2\u8272\u5FAE\u4FE1\u53F7\uFF0C\u5E76\u5C06\u6539\u5FAE\u4FE1\u53F7\u6DFB\u52A0\u5230\u6240\u6709\u5C0F\u7A0B\u5E8F\u7684\u5F00\u53D1\u8005\u4E2D\uFF0C\u63D0\u4F9B\u5F00\u53D1\u8005\u6743\u9650",-1),cn=n("h4",{id:"\u5F00\u53D1\u5C0F\u7A0B\u5E8F\u7684\u96C6\u6210\u811A\u672C-\u53EF\u4EE5\u4F7F\u7528\u5404\u79CD\u8BED\u8A00shell-js-python",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5F00\u53D1\u5C0F\u7A0B\u5E8F\u7684\u96C6\u6210\u811A\u672C-\u53EF\u4EE5\u4F7F\u7528\u5404\u79CD\u8BED\u8A00shell-js-python","aria-hidden":"true"},"#"),s(" \u5F00\u53D1\u5C0F\u7A0B\u5E8F\u7684\u96C6\u6210\u811A\u672C\uFF08\u53EF\u4EE5\u4F7F\u7528\u5404\u79CD\u8BED\u8A00"),n("code",null,"shell"),s(", "),n("code",null,"js"),s(", "),n("code",null,"python"),s("...\uFF09")],-1),ln=s("\u5F00\u53D1\u8005\u5DE5\u5177\u6839\u636E\u63D0\u4F9B\u4E86 [cli](https://developers.weixin.qq.com/miniprogram/dev/devtools/cli.html \u548C "),rn={href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/http.html",target:"_blank",rel:"noopener noreferrer"},un=s("http"),kn=s("\u4E24\u79CD\u65B9\u5F0F\u4F9B\u5916\u90E8\u8C03\u7528\u6765\u5B9E\u73B0\u767B\u5F55\uFF0C\u9884\u89C8\uFF0C\u4E0A\u4F20\uFF0C\u4E0B\u9762\u4ECB\u7ECD\u4E0B "),bn=n("code",null,"http",-1),mn=s(" \u8C03\u7528\uFF0C"),dn=n("code",null,"cli",-1),hn=s(" \u65B9\u5F0F\u4E5F\u5F88\u7C7B\u4F3C\u3002 \u5F00\u53D1\u8005\u5DE5\u5177\u6253\u5F00\u4E4B\u540E\uFF0C\u672C\u5730\u4F1A\u542F\u52A8\u4E00\u4E2A "),gn=n("code",null,"http",-1),yn=s(" \u670D\u52A1\uFF0C\u7AEF\u53E3\u53F7\u5728\u7528\u6237\u76EE\u5F55\u7684 "),_n=n("code",null,".ide",-1),vn=s(" \u6587\u4EF6\u4E2D\uFF0C\u5E76\u4E14\u63D0\u4F9B\u4EE5\u4E0B\u51E0\u4E2A\u63A5\u53E3\u4F9B\u5F00\u53D1\u8005\u8C03\u7528\uFF1A"),fn=t(`<ul><li><code>/open</code> \u6253\u5F00\u6307\u5B9A\u8DEF\u5F84\u9879\u76EE</li><li><code>/login</code> \u767B\u5F55</li><li><code>/preview</code> \u9884\u89C8\u6307\u5B9A\u9879\u76EE</li><li><code>/upload</code> \u4E0A\u4F20\u6307\u5B9A\u9879\u76EE</li><li><code>/test</code> \u63D0\u4EA4\u9879\u76EE</li></ul><p>\u6839\u636E\u63D0\u4F9B\u7684\u8FD9\u4E9B\u80FD\u529B\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7F16\u5199\u51FA\u53D1\u5E03\u811A\u672C(\u4EE5\u4E0B\u662F\u7B80\u5355\u793A\u4F8B)\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>
  <span class="token keyword">function</span> <span class="token function">getPort</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> home <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">homedir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> portPath <span class="token operator">=</span> process<span class="token punctuation">.</span>platform <span class="token operator">===</span> <span class="token string">&#39;win32&#39;</span> 
      <span class="token operator">?</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>home<span class="token punctuation">,</span> <span class="token string">&#39;/AppData/Local/\u5FAE\u4FE1web\u5F00\u53D1\u8005\u5DE5\u5177/User Data/Default/.ide&#39;</span><span class="token punctuation">)</span> 
      <span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>home<span class="token punctuation">,</span> <span class="token string">&#39;/Library/Application Support/\u5FAE\u4FE1web\u5F00\u53D1\u8005\u5DE5\u5177/Default/.ide&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>portPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> port <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>portPath<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">encoding</span><span class="token operator">:</span> <span class="token string">&#39;utf8&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token operator">+</span>port
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/upload?projectpath=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;version=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>version<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;desc=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> statusCode <span class="token punctuation">}</span> <span class="token operator">=</span> res
      <span class="token keyword">if</span> <span class="token punctuation">(</span>statusCode <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// success</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// fail</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="\u96C6\u6210" tabindex="-1"><a class="header-anchor" href="#\u96C6\u6210" aria-hidden="true">#</a> \u96C6\u6210</h4><p>\u4E0D\u540C\u516C\u53F8\u4F7F\u7528\u7684\u5DE5\u5177\u6709\u4E00\u4E9B\u533A\u522B\uFF0C\u4E0B\u9762\u7B80\u5355\u4ECB\u7ECD\u4E00\u4E0B\u5E38\u89C1\u7684\u4E24\u79CD(\u4E00\u822C\u662F\u8FD0\u7EF4\u540C\u5B66\u6765\u6267\u884C\uFF0C\u7B14\u8005\u4E0D\u662F\u7279\u522B\u719F\u6089\uFF0C\u6240\u4EE5\u53EA\u662F\u7B80\u5355\u4ECB\u7ECD)\uFF1A</p>`,5),wn=n("p",null,"gitlab",-1),xn=s("\u5B89\u88C5"),qn={href:"https://docs.gitlab.com.cn/runner/register/index.html",target:"_blank",rel:"noopener noreferrer"},jn=s("gitlab runner"),Pn=s("\uFF0C\u642D\u914Dgitlab\u63D0\u4F9B\u7684CI \u7F16\u5199CI\u6587\u4EF6\uFF0C\u8FD9\u4EFD\u6587\u4EF6\u4F1A\u5305\u542B\u6784\u5EFA\u547D\u4EE4\uFF0C\u5C06\u4E0A\u4E00\u6B65\u7F16\u5199\u7684\u811A\u672C\u96C6\u6210\u8FDB\u6267\u884C\u547D\u4EE4\u5373\u53EF"),Cn=n("p",null,"Jenkis",-1),Sn=s("\u5B89\u88C5"),Vn={href:"https://jenkins.io/download/",target:"_blank",rel:"noopener noreferrer"},Tn=s("Jenkis"),Mn=s("\u540E\u65B0\u5EFA\u6784\u5EFA\u4EFB\u52A1\uFF0C\u914D\u7F6E\u4EFB\u52A1(\u6307\u5B9A\u4EE3\u7801\u4ED3\u5E93\uFF0C\u5206\u652F\uFF0C\u6784\u5EFA\u53C2\u6570)\uFF0C\u6307\u660E\u6784\u5EFA\u65B9\u5F0F\uFF08\u53EF\u4EE5\u9009\u62E9shell\uFF0C\u7136\u540E\u7F16\u5199shell\u6765\u6267\u884C\u4F60\u7684\u811A\u672C\uFF09"),Dn=n("p",null,[s("\u505A\u5B8C\u96C6\u6210\u540E\uFF0C\u5C31\u53EF\u4EE5\u4F18\u5316\u4E0A\u9762\u4ECB\u7ECD\u7684\u5F00\u53D1\u6D41\u7A0B\uFF0C\u5C06"),n("code",null,"\u6253\u6D4B\u8BD5\u5305"),s("\u548C"),n("code",null,"\u53D1\u5E03"),s("\u7684\u6743\u5229\u4EA4\u7ED9\u6D4B\u8BD5\u540C\u5B66\uFF0C\u5F00\u53D1\u8005\u5B89\u5FC3\u7684\u5F00\u53D1\u5566\u3002")],-1),An=n("h3",{id:"\u603B\u7ED3",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u603B\u7ED3","aria-hidden":"true"},"#"),s(" \u603B\u7ED3")],-1),En=s("\u4EE5\u4E0A\u662F\u7B14\u8005\u5B9E\u8DF5\u8FC7\u7684\u5BF9\u5C0F\u7A0B\u5E8F\u6301\u7EED\u96C6\u6210\u7684\u6574\u4E2A\u6D41\u7A0B\uFF0C\u4E0D\u7BA1\u516C\u53F8\u6709\u6CA1\u6709\u63A5\u5165\u6301\u7EED\u96C6\u6210\uFF0C\u4E0A\u9762\u7684\u65B9\u5F0F\u90FD\u53EF\u4EE5\u65B9\u4FBF\u5F00\u53D1\u8005\u81EA\u52A8\u5316\u7684\u9884\u89C8\uFF0C\u53D1\u5E03\uFF0C\u4E5F\u53EF\u4EE5\u96C6\u6210\u5230\u5DE5\u7A0B\u5316\u6D41\u7A0B\u4E2D\uFF0C\u4F7F\u7528\u8D77\u6765\u4F1A\u66F4\u52A0\u65B9\u4FBF\u3002\u5177\u4F53\u7684\u5B9E\u73B0\u53EF\u4EE5\u53C2\u8003"),Wn={href:"https://github.com/pandolajs/pandora-cli",target:"_blank",rel:"noopener noreferrer"},In=s("pandora-cli"),Bn=s("\u3002"),Ln=t(`<h2 id="\u5C0F\u7A0B\u5E8F\u67B6\u6784" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8F\u67B6\u6784" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8F\u67B6\u6784</h2><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042747.png" alt="architecture"></p><p>\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u7684\u6846\u67B6\u5305\u542B\u4E24\u90E8\u5206 View \u89C6\u56FE\u5C42\u3001App Service\u903B\u8F91\u5C42\u3002View \u5C42\u7528\u6765\u6E32\u67D3\u9875\u9762\u7ED3\u6784\uFF0CAppService \u5C42\u7528\u6765\u903B\u8F91\u5904\u7406\u3001\u6570\u636E\u8BF7\u6C42\u3001\u63A5\u53E3\u8C03\u7528\u3002</p><p>\u5B83\u4EEC\u5728<strong>\u4E24\u4E2A\u7EBF\u7A0B\u91CC</strong>\u8FD0\u884C\u3002</p><p>\u5B83\u4EEC\u5728<strong>\u4E24\u4E2A\u7EBF\u7A0B\u91CC</strong>\u8FD0\u884C\u3002</p><p>\u5B83\u4EEC\u5728<strong>\u4E24\u4E2A\u7EBF\u7A0B\u91CC</strong>\u8FD0\u884C\u3002</p><p>\u89C6\u56FE\u5C42\u548C\u903B\u8F91\u5C42\u901A\u8FC7\u7CFB\u7EDF\u5C42\u7684 JSBridage \u8FDB\u884C\u901A\u4FE1\uFF0C\u903B\u8F91\u5C42\u628A\u6570\u636E\u53D8\u5316\u901A\u77E5\u5230\u89C6\u56FE\u5C42\uFF0C\u89E6\u53D1\u89C6\u56FE\u5C42\u9875\u9762\u66F4\u65B0\uFF0C\u89C6\u56FE\u5C42\u628A\u89E6\u53D1\u7684\u4E8B\u4EF6\u901A\u77E5\u5230\u903B\u8F91\u5C42\u8FDB\u884C\u4E1A\u52A1\u5904\u7406\u3002</p><p>\u8865\u5145</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042750.png" alt="one-context"></p><p><strong>\u89C6\u56FE\u5C42\u4F7F\u7528 WebView \u6E32\u67D3\uFF0CiOS \u4E2D\u4F7F\u7528\u81EA\u5E26 WKWebView\uFF0C\u5728 Android \u4F7F\u7528\u817E\u8BAF\u7684 x5 \u5185\u6838\uFF08\u57FA\u4E8E Blink\uFF09\u8FD0\u884C\u3002</strong></p><p><strong>\u903B\u8F91\u5C42\u4F7F\u7528\u5728 iOS \u4E2D\u4F7F\u7528\u81EA\u5E26\u7684 JSCore \u8FD0\u884C\uFF0C\u5728 Android \u4E2D\u4F7F\u7528\u817E\u8BAF\u7684 x5 \u5185\u6838\uFF08\u57FA\u4E8E Blink\uFF09\u8FD0\u884C\u3002</strong></p><p><strong>\u5F00\u53D1\u5DE5\u5177\u4F7F\u7528 nw.js \u540C\u65F6\u63D0\u4F9B\u4E86\u89C6\u56FE\u5C42\u548C\u903B\u8F91\u5C42\u7684\u8FD0\u884C\u73AF\u5883\u3002</strong></p><p>\u5728 Mac\u4E0B \u4F7F\u7528 js-beautify \u5BF9\u5FAE\u4FE1\u5F00\u53D1\u5DE5\u5177 @v1.02.1808080\u4EE3\u7801\u6279\u91CF\u683C\u5F0F\u5316\uFF1A</p><div class="language-Shell ext-Shell line-numbers-mode"><pre class="language-Shell"><code>cd /Applications/wechatwebdevtools.app/Contents/Resources/package.nw
find . -type f -name &#39;*.js&#39; -not -path &quot;./node_modules/*&quot; -not -path -exec js-beautify -r -s 2 -p -f &#39;{}&#39; \\;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5728 <code>js/extensions/appservice/index.js</code> \u4E2D\u627E\u5230\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token number">267</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      e <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">227</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      f <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">226</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      g <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">228</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      h <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">229</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      i <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">230</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> j <span class="token operator">=</span> window<span class="token punctuation">.</span>__global<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">,</span>
      k <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">!==</span> j<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;game&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    k <span class="token operator">||</span> <span class="token function">i</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>__global<span class="token punctuation">.</span><span class="token function-variable function">getNewWeixinJSBridge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">invoke</span><span class="token operator">:</span> b
      <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">publish</span><span class="token operator">:</span> c
      <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">g</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">subscribe</span><span class="token operator">:</span> d<span class="token punctuation">,</span>
        <span class="token literal-property property">triggerSubscribeEvent</span><span class="token operator">:</span> i
      <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">on</span><span class="token operator">:</span> j<span class="token punctuation">,</span>
        <span class="token literal-property property">triggerOnEvent</span><span class="token operator">:</span> k
      <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">e</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">invoke</span><span class="token operator">:</span> b<span class="token punctuation">,</span>
        <span class="token literal-property property">publish</span><span class="token operator">:</span> c<span class="token punctuation">,</span>
        <span class="token literal-property property">subscribe</span><span class="token operator">:</span> d<span class="token punctuation">,</span>
        <span class="token literal-property property">on</span><span class="token operator">:</span> j<span class="token punctuation">,</span>
        <span class="token keyword">get</span> <span class="token function">__triggerOnEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> k
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">get</span> <span class="token function">__triggerSubscribeEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> i
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>WeixinJSBridge <span class="token operator">=</span> window<span class="token punctuation">.</span>__global<span class="token punctuation">.</span>WeixinJSBridge <span class="token operator">=</span> window<span class="token punctuation">.</span>__global<span class="token punctuation">.</span><span class="token function">getNewWeixinJSBridge</span><span class="token punctuation">(</span><span class="token string">&#39;global&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>__global<span class="token punctuation">.</span>WeixinJSBridgeMap <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">__globalBridge</span><span class="token operator">:</span> window<span class="token punctuation">.</span>WeixinJSBridge
    <span class="token punctuation">}</span><span class="token punctuation">,</span> __devtoolsConfig<span class="token punctuation">.</span>online <span class="token operator">&amp;&amp;</span> __devtoolsConfig<span class="token punctuation">.</span>autoTest <span class="token operator">&amp;&amp;</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1e4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>__global<span class="token punctuation">.</span>XMLHttpRequest</span><span class="token punctuation">;</span>
      l<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">&#39;text&#39;</span><span class="token punctuation">,</span> l<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">http://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>host<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/calibration/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> l<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>\u5728 <code>js/extensions/gamenaitveview/index.js</code> \u4E2D\u627E\u5230\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token number">299</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token string">&#39;__esModule&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">242</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      e <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">241</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      f <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">243</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      g <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">244</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>WeixinJSBridge <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">on</span><span class="token operator">:</span> d<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
      <span class="token literal-property property">invoke</span><span class="token operator">:</span> e<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
      <span class="token literal-property property">publish</span><span class="token operator">:</span> f<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
      <span class="token literal-property property">subscribe</span><span class="token operator">:</span> g<span class="token punctuation">.</span>a
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u5728 <code>js/extensions/pageframe/index.js </code>\u4E2D\u627E\u5230\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">317</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span>WeixinJSBridge <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">on</span><span class="token operator">:</span> e<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
        <span class="token literal-property property">invoke</span><span class="token operator">:</span> f<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
        <span class="token literal-property property">publish</span><span class="token operator">:</span> g<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
        <span class="token literal-property property">subscribe</span><span class="token operator">:</span> h<span class="token punctuation">.</span>a
      <span class="token punctuation">}</span><span class="token punctuation">,</span> k<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">&#39;UIEvent&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      a<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token string">&#39;WeixinJSBridgeReady&#39;</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token string">&#39;__esModule&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">254</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      f <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">253</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      g <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      h <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      i <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">86</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      j <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">257</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      k <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token string">&#39;complete&#39;</span> <span class="token operator">===</span> document<span class="token punctuation">.</span>readyState <span class="token operator">?</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">d</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>\u6211\u4EEC\u90FD\u770B\u5230\u4E86 WeixinJSBridge \u7684\u5B9A\u4E49\u3002\u5206\u522B\u90FD\u6709 <code>on</code>\u3001<code>invoke</code>\u3001<code>publish</code>\u3001<code>subscribe</code> \u8FD9\u4E2A\u51E0\u4E2A\u5173\u952E\u65B9\u6CD5\u3002</p><p>\u62FF <code>invoke</code> \u4E3E\u4F8B\uFF0C\u5728 <code>js/extensions/appservice/index.js </code>\u4E2D\u53D1\u73B0\u8FD9\u6BB5\u4EE3\u7801\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">f</span> <span class="token punctuation">(</span><span class="token operator">!</span>r<span class="token punctuation">)</span> p<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">,</span> f<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">command</span><span class="token operator">:</span> <span class="token string">&#39;APPSERVICE_INVOKE&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">api</span><span class="token operator">:</span> c<span class="token punctuation">,</span>
        <span class="token literal-property property">args</span><span class="token operator">:</span> e<span class="token punctuation">,</span>
        <span class="token literal-property property">callbackID</span><span class="token operator">:</span> b
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u5728 <code>js/extensions/pageframe/index.js</code> \u4E2D\u53D1\u73B0\u8FD9\u6BB5\u4EE3\u7801\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>g<span class="token punctuation">[</span>d<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">,</span> e<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">command</span><span class="token operator">:</span> <span class="token string">&#39;WEBVIEW_INVOKE&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">api</span><span class="token operator">:</span> a<span class="token punctuation">,</span>
        <span class="token literal-property property">args</span><span class="token operator">:</span> b<span class="token punctuation">,</span>
        <span class="token literal-property property">callbackID</span><span class="token operator">:</span> d
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u7B80\u5355\u7684\u5206\u6790\u5F97\u77E5\uFF1A\u5B57\u6BB5 <code>command</code> \u7528\u6765\u533A\u5206\u884C\u4E3A\uFF0C<code>invoke</code> \u7528\u6765\u8C03\u7528 Native \u7684 Api\u3002\u5728\u4E0D\u540C\u7684\u6765\u6E90\u8981\u4F7F\u7528\u4E0D\u540C\u7684\u524D\u7F00\u3002<code>data</code> \u91CC\u9762\u5305\u542B Api \u540D\uFF0C\u53C2\u6570\u3002\u53E6\u5916 <code>callbackID</code> \u6307\u5B9A\u63A5\u53D7\u56DE\u8C03\u7684\u65B9\u6CD5\u53E5\u67C4\u3002Appservice \u548C Webview \u4F7F\u7528\u7684\u901A\u4FE1\u534F\u8BAE\u662F\u4E00\u81F4\u7684\u3002</p><p>\u6211\u4EEC\u4E0D\u80FD\u5728\u4EE3\u7801\u91CC\u4F7F\u7528 BOM \u548C DOM \u662F\u56E0\u4E3A\u6839\u672C\u6CA1\u6709\uFF0C\u53E6\u4E00\u65B9\u9762\u4E5F\u4E0D\u5E0C\u671B JS \u4EE3\u7801\u76F4\u63A5\u64CD\u4F5C\u89C6\u56FE\u3002</p><p>\u5728\u5F00\u53D1\u5DE5\u5177\u4E2D <code>remote-helper.js</code> \u4E2D\u627E\u5230\u4E86\u8FD9\u6837\u7684\u4EE3\u7801\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> vmGlobal <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">require</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token literal-property property">eval</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token literal-property property">process</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//...\u7701\u7565\u4EE3\u7801</span>
        <span class="token keyword">return</span> timerCount<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> timer <span class="token operator">=</span> timers<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">delete</span> timers<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//...\u7701\u7565\u4EE3\u7801</span>
        <span class="token keyword">return</span> timerCount<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> timer <span class="token operator">=</span> timers<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">delete</span> timers<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">console</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">//...\u7701\u7565\u4EE3\u7801</span>
        <span class="token keyword">return</span> consoleClone<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> jsVm <span class="token operator">=</span> vm<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span>vmGlobal<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u7701\u7565\u5927\u91CF\u4EE3\u7801...</span>
<span class="token keyword">function</span> <span class="token function">loadCode</span><span class="token punctuation">(</span><span class="token parameter">filePath<span class="token punctuation">,</span> sourceURL<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ret<span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> script <span class="token operator">=</span> <span class="token keyword">typeof</span> content <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span> <span class="token operator">?</span> content <span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ret <span class="token operator">=</span> vm<span class="token punctuation">.</span><span class="token function">runInContext</span><span class="token punctuation">(</span>script<span class="token punctuation">,</span> jsVm<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">filename</span><span class="token operator">:</span> sourceURL<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// something went wrong in user code</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p>\u8FD9\u6837\u7684\u5206\u5C42\u8BBE\u8BA1\u663E\u7136\u662F\u6709\u610F\u4E3A\u4E4B\u7684\uFF0C\u5B83\u7684\u4E2D\u95F4\u5C42\u5B8C\u5168\u63A7\u5236\u4E86\u7A0B\u5E8F\u5BF9\u4E8E\u754C\u9762\u8FDB\u884C\u7684\u64CD\u4F5C\uFF0C \u540C\u65F6\u5BF9\u4E8E\u4F20\u9012\u7684\u6570\u636E\u548C\u54CD\u5E94\u65F6\u95F4\u4E5F\u80FD\u505A\u5230\u76D1\u63A7\u3002\u4E00\u65B9\u9762\u7A0B\u5E8F\u7684\u884C\u4E3A\u53D7\u5230\u4E86\u6781\u5927\u9650\u5236\uFF0C \u53E6\u4E00\u65B9\u9762\u5FAE\u4FE1\u53EF\u4EE5\u786E\u4FDD\u4ED6\u4EEC\u5BF9\u4E8E\u5C0F\u7A0B\u5E8F\u5185\u5BB9\u548C\u4F53\u9A8C\u6709\u7EDD\u5BF9\u7684\u63A7\u5236\u3002</p><p>\u8FD9\u6837\u7684\u7ED3\u6784\u4E5F\u8BF4\u660E\u4E86\u5C0F\u7A0B\u5E8F\u7684\u52A8\u753B\u548C\u7ED8\u56FE API \u88AB\u8BBE\u8BA1\u6210\u751F\u6210\u4E00\u4E2A\u6700\u7EC8\u5BF9\u8C61\u800C\u4E0D\u662F\u4E00\u6B65\u4E00\u6B65\u6267\u884C\u7684\u6837\u5B50\uFF0C \u539F\u56E0\u5C31\u662F Json \u683C\u5F0F\u7684\u6570\u636E\u4F20\u9012\u548C\u89E3\u6790\u76F8\u6BD4\u4E0E\u539F\u751F API \u90FD\u662F\u635F\u8017\u4E0D\u83F2\u7684\uFF0C\u5982\u679C\u9891\u7E41\u8C03\u7528\u5F88\u53EF\u80FD\u635F\u8017\u8FC7\u591A\u6027\u80FD\uFF0C\u8FDB\u800C\u5F71\u54CD\u7528\u6237\u4F53\u9A8C\u3002</p><h3 id="\u4E0B\u8F7D\u5C0F\u7A0B\u5E8F\u5B8C\u6574\u5305" tabindex="-1"><a class="header-anchor" href="#\u4E0B\u8F7D\u5C0F\u7A0B\u5E8F\u5B8C\u6574\u5305" aria-hidden="true">#</a> \u4E0B\u8F7D\u5C0F\u7A0B\u5E8F\u5B8C\u6574\u5305</h3><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042751.png" alt="download"></p><h3 id="app-service-life-cylce" tabindex="-1"><a class="header-anchor" href="#app-service-life-cylce" aria-hidden="true">#</a> App Service - Life Cylce</h3><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042757.png" alt="lifecycle"></p><h3 id="\u9762\u8BD5\u9898" tabindex="-1"><a class="header-anchor" href="#\u9762\u8BD5\u9898" aria-hidden="true">#</a> \u9762\u8BD5\u9898</h3><p><strong>1.\u52A8\u753B\u9700\u8981\u7ED1\u5B9A\u5728 data \u4E0A\uFF0C\u800C\u7ED8\u56FE\u5374\u4E0D\u7528\u3002\u4F60\u89C9\u5F97\u662F\u4E3A\u4EC0\u4E48\u5462\uFF1F</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> context <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createCanvasContext</span><span class="token punctuation">(</span><span class="token string">&#39;firstCanvas&#39;</span><span class="token punctuation">)</span>
    
context<span class="token punctuation">.</span><span class="token function">setStrokeStyle</span><span class="token punctuation">(</span><span class="token string">&quot;#00ff00&quot;</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">setLineWidth</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">setStrokeStyle</span><span class="token punctuation">(</span><span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">setLineWidth</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-Js ext-Js line-numbers-mode"><pre class="language-Js"><code>Page({
  data: {
    animationData: {}
  },
  onShow: function(){
    var animation = wx.createAnimation({
      duration: 1000,
      timingFunction: &#39;ease&#39;,
    })

    this.animation = animation
    
    animation.scale(2,2).rotate(45).step()
    
    this.setData({
      animationData:animation.export()
    })
  }
})
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>2.\u5C0F\u7A0B\u5E8F\u7684 Http Rquest \u8BF7\u6C42\u662F\u4E0D\u662F\u7528\u7684\u6D4F\u89C8\u5668 Fetch API?</strong></p><p>\u77E5\u8BC6\u70B9\u8003\u5BDF</p><ul><li>\u77E5\u9053 Request \u662F\u7531 Native \u5B9E\u73B0\u7684</li><li>JSCore \u662F\u4E0D\u5E26 Http Request\u3001Websocket\u3001Storage\u7B49\u529F\u80FD\u7684\uFF0C\u90A3\u662F Webkit \u5E26\u7684</li><li>\u5C0F\u7A0B\u5E8F\u7684 <code>wx.request</code> \u662F\u4E0D\u662F\u9075\u5FAA fetch API \u89C4\u8303\u5B9E\u73B0\u7684\u5462\uFF1F\u7B54\u6848\uFF0C\u663E\u7136\u4E0D\u662F\u3002\u56E0\u4E3A\u6CA1\u6709 <code>Promise</code></li></ul><h2 id="view-wxml" tabindex="-1"><a class="header-anchor" href="#view-wxml" aria-hidden="true">#</a> View - WXML</h2><p>WXML\uFF08WeiXin Markup Language\uFF09</p><ul><li>\u652F\u6301\u6570\u636E\u7ED1\u5B9A</li><li>\u652F\u6301\u903B\u8F91\u7B97\u672F\u3001\u8FD0\u7B97</li><li>\u652F\u6301\u6A21\u677F\u3001\u5F15\u7528</li><li>\u652F\u6301\u6DFB\u52A0\u4E8B\u4EF6\uFF08bindtap\uFF09</li></ul><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042759.jpg" alt="WXML"></p><p>Wxml\u7F16\u8BD1\u5668\uFF1AWcc \u628A Wxml\u6587\u4EF6 \u8F6C\u4E3A JS</p><p>\u6267\u884C\u65B9\u5F0F\uFF1AWcc index.wxml</p><p><strong>\u4F7F\u7528 Virtual DOM\uFF0C\u8FDB\u884C\u5C40\u90E8\u66F4\u65B0</strong></p><h2 id="view-wxss" tabindex="-1"><a class="header-anchor" href="#view-wxss" aria-hidden="true">#</a> View - WXSS</h2><p>WXSS(WeiXin Style Sheets)</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042800.jpg" alt="WXSS"></p><p>wxss\u7F16\u8BD1\u5668\uFF1Awcsc \u628Awxss\u6587\u4EF6\u8F6C\u5316\u4E3A js</p><p>\u6267\u884C\u65B9\u5F0F\uFF1A wcsc index.wxss</p><h3 id="\u652F\u6301\u5927\u90E8\u5206css\u7279\u6027" tabindex="-1"><a class="header-anchor" href="#\u652F\u6301\u5927\u90E8\u5206css\u7279\u6027" aria-hidden="true">#</a> \u652F\u6301\u5927\u90E8\u5206CSS\u7279\u6027</h3><p>\u4EB2\u6D4B\u5305\u542B\u4F46\u4E0D\u9650\u4E8E\u5982\u4E0B\u5185\u5BB9\uFF1A</p>`,56),On=n("li",null,"Transition",-1),Fn=n("li",null,[s("Animation "),n("ul",null,[n("li",null,"Keyframes")])],-1),Rn=n("li",null,"border-radius",-1),Hn=n("li",null,"calc()",-1),$n=s("\u9009\u62E9\u5668\uFF0C\u9664\u4E86"),Jn={href:"https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html",target:"_blank",rel:"noopener noreferrer"},Nn=s("\u5B98\u65B9\u6587\u6863"),zn=t("\u5217\u51FA\u7684\uFF0C\u5176\u5B9E\u8FD8\u652F\u6301 <ul><li>element&gt;element</li><li>element+element</li><li>element element</li><li>element:first-letter</li><li>element:first-line</li><li>element:first-child</li><li>element:last-child</li><li>element~element</li><li>element:first-of-type</li><li>element:last-of-type</li><li>element:only-of-type</li><li>element:only-child</li><li>element:nth-child(n)</li><li>element:nth-last-child(n)</li><li>element:nth-of-type(n)</li><li>element:nth-last-of-type(n)</li><li>:root</li><li>element:empty</li><li>:not(element)</li></ul>",2),Un=n("li",null,"iconfont",-1),Gn=t(`<p>\u5EFA\u8BAE Css3 \u7684\u7279\u6027\u90FD\u53EF\u4EE5\u505A\u4E00\u4E0B\u5C1D\u8BD5\u3002</p><h3 id="\u5C3A\u5BF8\u5355\u4F4D-rpx" tabindex="-1"><a class="header-anchor" href="#\u5C3A\u5BF8\u5355\u4F4D-rpx" aria-hidden="true">#</a> \u5C3A\u5BF8\u5355\u4F4D rpx</h3><p>rpx\uFF08responsive pixel\uFF09: \u53EF\u4EE5\u6839\u636E\u5C4F\u5E55\u5BBD\u5EA6\u8FDB\u884C\u81EA\u9002\u5E94\u3002\u89C4\u5B9A\u5C4F\u5E55\u5BBD\u4E3A 750rpx\u3002\u516C\u5F0F\uFF1A</p><div class="language-Js ext-Js line-numbers-mode"><pre class="language-Js"><code>const dsWidth = 750

export const screenHeightOfRpx = function () {
  return 750 / env.screenWidth * env.screenHeight
}

export const rpxToPx = function (rpx) {
  return env.screenWidth / 750 * rpx
}

export const pxToRpx = function (px) {
  return 750 / env.screenWidth * px
}

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><table><thead><tr><th>\u8BBE\u5907</th><th>rpx\u6362\u7B97px (\u5C4F\u5E55\u5BBD\u5EA6/750)</th><th>px\u6362\u7B97rpx (750/\u5C4F\u5E55\u5BBD\u5EA6)</th></tr></thead><tbody><tr><td>iPhone5</td><td>1rpx = 0.42px</td><td>1px = 2.34rpx</td></tr><tr><td>iPhone6</td><td>1rpx = 0.5px</td><td>1px = 2rpx</td></tr><tr><td>iPhone6 Plus</td><td>1rpx = 0.552px</td><td>1px = 1.81rpx</td></tr></tbody></table>`,5),Xn=s("\u53EF\u4EE5\u4E86\u89E3\u4E00\u4E0B "),Kn={href:"https://github.com/mpvue/px2rpx-loader",target:"_blank",rel:"noopener noreferrer"},Qn=s("pr2rpx-loader "),Yn=s("\u8FD9\u4E2A\u5E93\u3002"),Zn=t('<h3 id="\u6837\u5F0F\u5BFC\u5165" tabindex="-1"><a class="header-anchor" href="#\u6837\u5F0F\u5BFC\u5165" aria-hidden="true">#</a> \u6837\u5F0F\u5BFC\u5165</h3><p>\u4F7F\u7528 <code>@import </code>\u8BED\u53E5\u53EF\u4EE5\u5BFC\u5165\u5916\u8054\u6837\u5F0F\u8868\uFF0C<code>@import </code>\u540E\u8DDF\u9700\u8981\u5BFC\u5165\u7684\u5916\u8054\u6837\u5F0F\u8868\u7684\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u7528 <code>;</code> \u8868\u793A\u8BED\u53E5\u7ED3\u675F\u3002</p><h3 id="\u5185\u8054\u6837\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u5185\u8054\u6837\u5F0F" aria-hidden="true">#</a> \u5185\u8054\u6837\u5F0F</h3><p>\u9759\u6001\u7684\u6837\u5F0F\u7EDF\u4E00\u5199\u5230 class \u4E2D\u3002style \u63A5\u6536\u52A8\u6001\u7684\u6837\u5F0F\uFF0C\u5728\u8FD0\u884C\u65F6\u4F1A\u8FDB\u884C\u89E3\u6790\uFF0C<strong>\u8BF7\u5C3D\u91CF\u907F\u514D\u5C06\u9759\u6001\u7684\u6837\u5F0F\u5199\u8FDB style \u4E2D\uFF0C\u4EE5\u514D\u5F71\u54CD\u6E32\u67D3\u901F\u5EA6</strong>\u3002</p><h3 id="\u5168\u5C40\u6837\u5F0F\u4E0E\u5C40\u90E8\u6837\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40\u6837\u5F0F\u4E0E\u5C40\u90E8\u6837\u5F0F" aria-hidden="true">#</a> \u5168\u5C40\u6837\u5F0F\u4E0E\u5C40\u90E8\u6837\u5F0F</h3><p>\u5B9A\u4E49\u5728 app.wxss \u4E2D\u7684\u6837\u5F0F\u4E3A\u5168\u5C40\u6837\u5F0F\uFF0C\u4F5C\u7528\u4E8E\u6BCF\u4E00\u4E2A\u9875\u9762\u3002\u5728 page \u7684 wxss \u6587\u4EF6\u4E2D\u5B9A\u4E49\u7684\u6837\u5F0F\u4E3A\u5C40\u90E8\u6837\u5F0F\uFF0C\u53EA\u4F5C\u7528\u5728\u5BF9\u5E94\u7684\u9875\u9762\uFF0C\u5E76\u4F1A\u8986\u76D6 app.wxss \u4E2D\u76F8\u540C\u7684\u9009\u62E9\u5668\u3002</p><h3 id="iconfont" tabindex="-1"><a class="header-anchor" href="#iconfont" aria-hidden="true">#</a> iconfont</h3><p><strong>\u622A\u6B6220180810</strong></p>',8),ns=s("\u5C0F\u7A0B\u5E8F\u672A\u6765\u6709\u8BA1\u5212\u652F\u6301\u5B57\u4F53\u3002\u53C2\u8003"),ss={href:"http://daxue.qq.com/content/content/id/4113",target:"_blank",rel:"noopener noreferrer"},as=s("\u5FAE\u4FE1\u516C\u5F00\u8BFE"),ps=s("\u3002"),ts=t(`<p>\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u4E0E\u5E73\u65F6 Web\u5F00\u53D1\u7C7B\u4F3C\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u5B57\u4F53\u56FE\u6807\uFF0C\u4F46\u662F <code>src:url()</code> \u65E0\u8BBA\u672C\u5730\u8FD8\u662F\u8FDC\u7A0B\u5730\u5740\u90FD\u4E0D\u884C\uFF0Cbase64 \u503C\u5219\u90FD\u662F\u53EF\u4EE5\u663E\u793A\u7684\u3002</p><p>\u5C06 ttf \u6587\u4EF6\u8F6C\u6362\u6210 base64\u3002\u6253\u5F00\u8FD9\u4E2A\u5E73\u53F0 transfonter.org/\u3002\u70B9\u51FB Add fonts \u6309\u94AE\uFF0C\u52A0\u8F7Dttf\u683C\u5F0F\u7684\u90A3\u4E2A\u6587\u4EF6\u3002\u5C06\u4E0B\u8FB9\u7684 base64 encode \u6539\u4E3A on\u3002\u70B9\u51FB Convert \u6309\u94AE\u8FDB\u884C\u8F6C\u6362\uFF0C\u8F6C\u6362\u540E\u70B9\u51FB download \u4E0B\u8F7D\u3002</p><p>\u590D\u5236\u4E0B\u8F7D\u7684\u538B\u7F29\u6587\u4EF6\u4E2D\u7684 stylesheet.css \u7684\u5185\u5BB9\u5230 font.wxss \uFF0C\u5E76\u4E14\u5C06 icomoon \u4E2D\u7684 style.css \u9664\u4E86 @font-face \u6240\u6709\u7684\u4EE3\u7801\u4E5F\u590D\u5236\u5230 font.wxss \u5E76\u5C06i\u9009\u62E9\u5668\u6362\u6210 .iconfont\uFF0C\u6700\u540E\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-home<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span>50px<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="view-component" tabindex="-1"><a class="header-anchor" href="#view-component" aria-hidden="true">#</a> View - Component</h2><p>\u5C0F\u7A0B\u5E8F\u63D0\u4F9B\u4E86\u4E00\u7CFB\u5217\u7EC4\u4EF6\u7528\u4E8E\u5F00\u53D1\u4E1A\u52A1\u529F\u80FD\uFF0C\u6309\u7167\u529F\u80FD\u4E0EHTML5\u7684\u6807\u7B7E\u8FDB\u884C\u5BF9\u6BD4\u5982\u4E0B\uFF1A</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042801.jpg" alt="Component"></p><p>\u5C0F\u7A0B\u5E8F\u7684\u7EC4\u4EF6\u57FA\u4E8EWeb Component\u6807\u51C6</p><p>\u4F7F\u7528Polymer\u6846\u67B6\u5B9E\u73B0Web Component</p><h2 id="view-native-component" tabindex="-1"><a class="header-anchor" href="#view-native-component" aria-hidden="true">#</a> View - Native Component</h2><p>\u76EE\u524DNative\u5B9E\u73B0\u7684\u7EC4\u4EF6\u6709</p><ul><li><p>canvas</p></li><li><p>video</p></li><li><p>map</p></li><li><p>textarea</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042802.jpg" alt="Native Component"></p></li></ul><p>Native\u7EC4\u4EF6\u5C42\u5728 WebView \u5C42\u4E4B\u4E0A\u3002\u8FD9\u76EE\u524D\u5E26\u6765\u4E86\u4E00\u4E9B\u95EE\u9898\uFF1A</p><ul><li>Native \u5B9E\u73B0\u7684\u7EC4\u4EF6\u4F1A\u906E\u6321\u5176\u4ED6\u7EC4\u4EF6</li><li>WebView \u6E32\u67D3\u51FA\u6765\u7684\u89C6\u56FE\u5728\u6EDA\u52A8\u65F6\uFF0CNative \u5B9E\u73B0\u7684\u7EC4\u4EF6\u9700\u8981\u66F4\u65B0\u4F4D\u7F6E\uFF0C\u8FD9\u4F1A\u5E26\u6765\u6027\u80FD\u95EE\u9898\uFF0C\u5728\u5B89\u5353\u673A\u5668\u4E0A\u6BD4\u8F83\u660E\u663E</li><li>\u5C0F\u7A0B\u5E8F\u539F\u751F\u7EC4\u4EF6 <code>cover-view</code> \u53EF\u4EE5\u8986\u76D6 canvas video \u7B49\uFF0C\u4F46\u662F\u4E5F\u6709\u4E00\u4E0B\u5F0A\u7AEF\uFF0C\u6BD4\u5982\u5728 canvas \u4E0A\u8986\u76D6 <code>cover-view</code>\uFF0C\u5C31\u4F1A\u53D1\u73B0\u5750\u6807\u7CFB\u4E0D\u7EDF\u4E00\u5904\u7406\u9EBB\u70E6</li></ul><h2 id="\u76EE\u524D\u5C0F\u7A0B\u5E8F\u7684\u95EE\u9898\u6216\u9650\u5236" tabindex="-1"><a class="header-anchor" href="#\u76EE\u524D\u5C0F\u7A0B\u5E8F\u7684\u95EE\u9898\u6216\u9650\u5236" aria-hidden="true">#</a> \u76EE\u524D\u5C0F\u7A0B\u5E8F\u7684\u95EE\u9898\u6216\u9650\u5236</h2><p><strong>\u622A\u6B6220180810</strong></p><p>\u5305\u542B\u4F46\u4E0D\u9650\u4E8E\uFF1A</p>`,17),es=t("<li><p>\u5C0F\u7A0B\u5E8F\u4ECD\u7136\u4F7F\u7528 WebView \u6E32\u67D3\uFF0C\u5E76\u975E\u539F\u751F\u6E32\u67D3\u3002\uFF08\u90E8\u5206\u539F\u751F\uFF09</p></li><li><p>\u670D\u52A1\u7AEF\u63A5\u53E3\u8FD4\u56DE\u7684\u5934\u65E0\u6CD5\u6267\u884C\uFF0C\u6BD4\u5982\uFF1ASet-Cookie\u3002</p></li><li><p>\u4F9D\u8D56\u6D4F\u89C8\u5668\u73AF\u5883\u7684 JS \u5E93\u4E0D\u80FD\u4F7F\u7528\u3002</p></li><li><p>\u4E0D\u80FD\u4F7F\u7528 npm\uFF0C\u4F46\u662F\u53EF\u4EE5\u81EA\u642D\u6784\u5EFA\u5DE5\u5177\u6216\u8005\u4F7F\u7528 mpvue\u3002\uFF08\u672A\u6765\u5B98\u65B9\u6709\u8BA1\u5212\u652F\u6301\uFF09</p></li><li><p>\u4E0D\u80FD\u4F7F\u7528 ES7\uFF0C\u53EF\u4EE5\u81EA\u5DF1\u7528babel+webpack\u81EA\u642D\u6216\u8005\u4F7F\u7528 mpvue\u3002</p></li><li><p>\u4E0D\u652F\u6301\u4F7F\u7528\u81EA\u5DF1\u7684\u5B57\u4F53\uFF08\u672A\u6765\u5B98\u65B9\u8BA1\u5212\u652F\u6301\uFF09\u3002</p></li><li><p>\u53EF\u4EE5\u7528 base64 \u7684\u65B9\u5F0F\u6765\u4F7F\u7528 iconfont\u3002</p></li>",7),os=s("\u5C0F\u7A0B\u5E8F\u4E0D\u80FD\u53D1\u670B\u53CB\u5708\uFF08\u53EF\u4EE5\u901A\u8FC7\u4FDD\u5B58\u56FE\u7247\u5230\u672C\u5730\uFF0C\u53D1\u56FE\u7247\u5230\u670B\u53CB\u524D\u3002\u4E8C\u7EF4\u7801\u53EF\u4EE5\u4F7F\u7528"),cs={href:"https://developers.weixin.qq.com/miniprogram/dev/api/qrcode.html",target:"_blank",rel:"noopener noreferrer"},ls=s("B\u63A5\u53E3"),rs=s("\uFF09\u3002"),us=s("\u83B7\u53D6"),is={href:"https://developers.weixin.qq.com/miniprogram/dev/api/qrcode.html",target:"_blank",rel:"noopener noreferrer"},ks=s("\u4E8C\u7EF4\u7801/\u5C0F\u7A0B\u5E8F"),bs=s("\u63A5\u53E3\u7684\u9650\u5236\u3002"),ms=n("ul",null,[n("li",null,"B \u63A5\u53E3 scene \u6700\u592732\u4E2A\u53EF\u89C1\u5B57\u7B26\u3002"),n("li",null,"AC \u63A5\u53E3\u603B\u5171\u751F\u6210\u7684\u7801\u6570\u91CF\u9650\u5236\u4E3A 100,000\uFF0C\u8BF7\u8C28\u614E\u8C03\u7528\u3002"),n("li",null,"\u771F\u673A\u626B\u63CF\u4E8C\u7EF4\u7801\u53EA\u80FD\u8DF3\u8F6C\u5230\u7EBF\u4E0A\u7248\u672C\uFF0C\u6240\u4EE5\u6D4B\u8BD5\u73AF\u5883\u4E0B\u53EA\u53EF\u901A\u8FC7\u5F00\u53D1\u8005\u5DE5\u5177\u7684\u901A\u8FC7\u4E8C\u7EF4\u7801\u7F16\u8BD1\u8FDB\u884C\u8C03\u8BD5\u3002"),n("li",null,"\u6CA1\u6709\u53D1\u5E03\u5230\u7EBF\u4E0A\u7248\u672C\u7684\u5C0F\u7A0B\u5E8F\u9875\u9762\u8DEF\u5F84\u4F1A\u5BFC\u81F4\u751F\u6210\u4E8C\u7EF4\u7801\u5931\u8D25\uFF0C\u9700\u8981\u5148\u5C06\u6DFB\u52A0\u4E86\u9875\u9762\u7684\u5C0F\u7A0B\u5E8F\u53D1\u5E03\u5230\u7EBF\u4E0A\u7248\u672C\u3002")],-1),ds=n("li",null,[n("p",null,"\u5C0F\u7A0B\u5E8F\u63A8\u9001\u53EA\u80FD\u4F7F\u7528\u201C\u670D\u52A1\u901A\u77E5\u201D \u800C\u4E14\u9700\u8981\u7528\u6237\u4E3B\u52A8\u89E6\u53D1\u63D0\u4EA4 formId\uFF0CformId \u53EA\u67097\u5929\u6709\u6548\u671F\u3002\uFF08\u73B0\u5728\u7684\u505A\u6CD5\u662F\u5728\u6BCF\u4E2A\u9875\u9762\u90FD\u653E\u5165form\u5E76\u4E14\u9690\u85CF\u4EE5\u6B64\u83B7\u53D6\u66F4\u591A\u7684 formId\u3002\u540E\u7AEF\u4F7F\u7528\u539F\u5219\u4E3A\uFF1A\u4F18\u5148\u4F7F\u7528\u6709\u6548\u671F\u6700\u77ED\u7684\uFF09")],-1),hs=n("li",null,[n("p",null,"\u5C0F\u7A0B\u5E8F\u5927\u5C0F\u9650\u5236 2M\uFF0C\u5206\u5305\u603B\u8BA1\u4E0D\u8D85\u8FC7 8M")],-1),gs=s("\u8F6C\u53D1\uFF08\u5206\u4EAB\uFF09\u5C0F\u7A0B\u5E8F\u4E0D\u80FD\u62FF\u5230\u6210\u529F\u7ED3\u679C\uFF0C\u539F\u6765\u53EF\u4EE5\u3002"),ys={href:"https://mp.weixin.qq.com/s?__biz=MjM5NDAwMTA2MA==&mid=2695730124&idx=1&sn=666a448b047d657350de7684798f48d3&chksm=83d74a07b4a0c311569a748f4d11a5ebcce3ba8f6bd5a4b3183a4fea0b3442634a1c71d3cdd0&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"},_s=s("\u94FE\u63A5"),vs=s("\uFF08\u5C0F\u6E38\u620F\u9020\u7684\u5B7D\uFF09"),fs=n("li",null,[n("p",null,"\u62FF\u5230\u76F8\u540C\u7684 unionId \u5FC5\u987B\u7ED1\u5728\u540C\u4E00\u4E2A\u5F00\u653E\u5E73\u53F0\u4E0B\u3002\u5F00\u653E\u5E73\u53F0\u7ED1\u5B9A\u9650\u5236\uFF1A"),n("ul",null,[n("li",null,"50\u4E2A\u79FB\u52A8\u5E94\u7528"),n("li",null,"10\u4E2A\u7F51\u7AD9"),n("li",null,"50\u4E2A\u540C\u4E3B\u4F53\u516C\u4F17\u53F7"),n("li",null,"5\u4E2A\u4E0D\u540C\u4E3B\u4F53\u516C\u4F17\u53F7"),n("li",null,"50\u4E2A\u540C\u4E3B\u4F53\u5C0F\u7A0B\u5E8F"),n("li",null,"5\u4E2A\u4E0D\u540C\u4E3B\u4F53\u5C0F\u7A0B\u5E8F")])],-1),ws=s("\u516C\u4F17\u53F7\u5173\u8054\u5C0F\u7A0B\u5E8F\uFF0C"),xs={href:"https://developers.weixin.qq.com/miniprogram/introduction/#%E5%85%AC%E4%BC%97%E5%8F%B7%E5%85%B3%E8%81%94%E5%B0%8F%E7%A8%8B%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},qs=s("\u94FE\u63A5"),js=n("ul",null,[n("li",null,"\u6240\u6709\u516C\u4F17\u53F7\u90FD\u53EF\u4EE5\u5173\u8054\u5C0F\u7A0B\u5E8F\u3002"),n("li",null,"\u4E00\u4E2A\u516C\u4F17\u53F7\u53EF\u5173\u805410\u4E2A\u540C\u4E3B\u4F53\u7684\u5C0F\u7A0B\u5E8F\uFF0C3\u4E2A\u4E0D\u540C\u4E3B\u4F53\u7684\u5C0F\u7A0B\u5E8F\u3002"),n("li",null,"\u4E00\u4E2A\u5C0F\u7A0B\u5E8F\u53EF\u5173\u8054500\u4E2A\u516C\u4F17\u53F7\u3002"),n("li",null,"\u516C\u4F17\u53F7\u4E00\u4E2A\u6708\u53EF\u65B0\u589E\u5173\u8054\u5C0F\u7A0B\u5E8F13\u6B21\uFF0C\u5C0F\u7A0B\u5E8F\u4E00\u4E2A\u6708\u53EF\u65B0\u589E\u5173\u8054500\u6B21\u3002")],-1),Ps=t("<li><p>\u4E00\u4E2A\u516C\u4F17\u53F7\u5173\u8054\u768410\u4E2A\u540C\u4E3B\u4F53\u5C0F\u7A0B\u5E8F\u548C3\u4E2A\u975E\u540C\u4E3B\u4F53\u5C0F\u7A0B\u5E8F\u53EF\u4EE5\u4E92\u76F8\u8DF3\u8F6C</p></li><li><p>\u54C1\u724C\u641C\u7D22\u4E0D\u652F\u6301\u91D1\u878D\u3001\u533B\u7597</p></li><li><p>\u5C0F\u7A0B\u5E8F\u6388\u6743\u9700\u8981\u7528\u6237\u4E3B\u52A8\u70B9\u51FB</p></li><li><p>\u5C0F\u7A0B\u5E8F\u4E0D\u63D0\u4F9B\u6D4B\u8BD5 <strong>access_token</strong></p></li><li><p>\u5B89\u5353\u7CFB\u7EDF\u4E0B\uFF0C\u5C0F\u7A0B\u5E8F\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u4E4B\u540E\uFF0C\u5220\u9664\u5C0F\u7A0B\u5E8F\u518D\u91CD\u65B0\u83B7\u53D6\uFF0C\u5E76\u91CD\u65B0\u6388\u6743\uFF0C\u5F97\u5230\u65E7\u7B7E\u540D\uFF0C\u5BFC\u81F4\u7B2C\u4E00\u6B21\u6388\u6743\u5931\u8D25</p></li><li><p>\u5F00\u53D1\u8005\u5DE5\u5177\u4E0A\uFF0C\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u4E4B\u540E\uFF0C\u5982\u679C\u6E05\u7F13\u5B58\u9009\u62E9\u5168\u90E8\u6E05\u9664\uFF0C\u5219\u5373\u4F7F\u4F7F\u7528\u4E86wx.checkSession\uFF0C\u5E76\u4E14\u5728session_key\u6709\u6548\u671F\u5185\uFF0C\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u4E5F\u4F1A\u5F97\u5230\u65B0\u7684session_key</p></li>",6),Cs=t(`<h3 id="\u5C0F\u7A0B\u5E8Fhttp2\u652F\u6301\u60C5\u51B5" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7A0B\u5E8Fhttp2\u652F\u6301\u60C5\u51B5" aria-hidden="true">#</a> \u5C0F\u7A0B\u5E8FHTTP2\u652F\u6301\u60C5\u51B5</h3><h4 id="http2\u652F\u6301\u60C5\u51B5-\u6A21\u62DF\u5668\u4E0E\u771F\u673A\u5747\u4E0D\u652F\u6301" tabindex="-1"><a class="header-anchor" href="#http2\u652F\u6301\u60C5\u51B5-\u6A21\u62DF\u5668\u4E0E\u771F\u673A\u5747\u4E0D\u652F\u6301" aria-hidden="true">#</a> HTTP2\u652F\u6301\u60C5\u51B5\uFF1A\u6A21\u62DF\u5668\u4E0E\u771F\u673A\u5747\u4E0D\u652F\u6301</h4><p>\u4E3A\u4E86\u9A8C\u8BC1\u5C0F\u7A0B\u5E8F\u5BF9HTTP\u7684\u652F\u6301\u9002\u914D\u60C5\u51B5\uFF0C\u6211\u627E\u4E86\u4E24\u4E2A\u670D\u52A1\u5668\u505A\u6D4B\u8BD5\uFF0C\u4E00\u4E2A\u662F\u7F51\u4E0A\u641C\u7D22\u5230\u652F\u6301HTTP2\u7684\u670D\u52A1\u5668\uFF0C\u4E00\u4E2A\u662F\u6211\u672C\u5730\u8D77\u7684\u4E00\u4E2AHTTP2\u670D\u52A1\u5668\u3002\u6D4B\u8BD5\u4E2D\u6240\u6709\u8BF7\u6C42\u65B9\u6CD5\u5747\u4F7F\u7528 <code>wx.request</code>\u3002</p><ol><li><p>\u7F51\u4E0A\u652F\u6301HTTP2\u7684\u670D\u52A1\u5668\uFF1A<code>HTTPs://www.snel.com:443</code></p></li><li><p>\u5728Chrome\u4E0A\u67E5\u770B\u8BE5\u670D\u52A1\u5668\u4E3A HTTP2</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042808.jpg" alt="WechatIMG11"></p></li><li><p>\u5728\u6A21\u62DF\u5668\u4E0A\u8BF7\u6C42\u8BE5\u63A5\u53E3\uFF0C<code>\u8BF7\u6C42\u5934</code>\u7684HTTP\u7248\u672C\u4E3AHTTP1.1\uFF0C\u6A21\u62DF\u5668\u4E0D\u652F\u6301HTTP2</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042830.jpg" alt="WechatIMG12"></p></li><li><p>\u7531\u4E8E\u5C0F\u7A0B\u5E8F\u7EBF\u4E0A\u73AF\u5883\u9700\u8981\u5728\u9879\u76EE\u7BA1\u7406\u91CC\u914D\u7F6E\u8BF7\u6C42\u57DF\u540D\uFF0C\u800C\u8FD9\u4E2A\u57DF\u540D\u4E0D\u662F\u6211\u4EEC\u9700\u8981\u7684\u8BF7\u6C42\u57DF\u540D\uFF0C\u6CA1\u5FC5\u8981\u6D6A\u8D39\u4E00\u4E2A\u57DF\u540D\u4F4D\u7F6E\uFF0C\u6240\u4EE5\u6253\u5F00\u4E0D\u9A8C\u8BC1\u57DF\u540D\uFF0CTSL \u7B49\u9009\u9879\u8BF7\u6C42\u8BE5\u63A5\u53E3\uFF0C\u901A\u8FC7\u6293\u5305\u5DE5\u5177\u8868\u73B0\u4E0E\u6A21\u62DF\u5668\u76F8\u540C</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042850.png" alt="WechatIMG14"></p></li></ol><h4 id="http2\u670D\u52A1\u5668\u9700\u8981\u5BF9\u5C0F\u7A0B\u5E8F\u505A\u517C\u5BB9\u6027\u9002\u914D" tabindex="-1"><a class="header-anchor" href="#http2\u670D\u52A1\u5668\u9700\u8981\u5BF9\u5C0F\u7A0B\u5E8F\u505A\u517C\u5BB9\u6027\u9002\u914D" aria-hidden="true">#</a> HTTP2\u670D\u52A1\u5668\u9700\u8981\u5BF9\u5C0F\u7A0B\u5E8F\u505A\u517C\u5BB9\u6027\u9002\u914D</h4><p>\u7531\u4E0A\u53EF\u4EE5\u770B\u51FA\uFF0C\u5728\u771F\u673A\u4E0E\u6A21\u62DF\u5668\u90FD\u4E0D\u652F\u6301 HTTP2\uFF0C\u4F46\u662F\u90FD\u662F\u6210\u529F\u8BF7\u6C42\u7684\uFF0C\u5E76\u4E14 <code>\u54CD\u5E94\u5934</code> \u91CC\u7684 HTTP \u7248\u672C\u90FD\u53D8\u6210\u4E86HTTP1.1 \u7248\u672C\uFF0C\u8BF4\u660E\u670D\u52A1\u5668\u5BF9 HTTP1.1 \u505A\u4E86\u517C\u5BB9\u6027\u9002\u914D\u3002</p><ol><li><p>\u672C\u5730\u65B0\u542F\u4E00\u4E2A node \u670D\u52A1\u5668\uFF0C\u8FD4\u56DE JSON \u4E3A\u8BF7\u6C42\u7684 HTTP \u7248\u672C</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042908.jpg" alt="WechatIMG16"></p></li><li><p>\u5982\u679C\u670D\u52A1\u5668\u53EA\u652F\u6301 HTTP2\uFF0C\u5728\u6A21\u62DF\u5668\u8BF7\u6C42\u65F6\u53D1\u751F\u4E86\u4E00\u4E2A <code>ALPN</code> \u534F\u8BAE\u7684\u9519\u8BEF\u3002\u5E76\u4E14\u63D0\u9192\u4F7F\u7528\u9002\u914D HTTP1</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042921.jpg" alt="WechatIMG8"></p></li><li><p>\u5F53\u628A\u670D\u52A1\u5668\u7684 <code>allowHTTP1</code>\uFF0C\u8BBE\u7F6E\u4E3A <code>true</code>\uFF0C\u5E76\u5728\u8BF7\u6C42\u65F6\u5904\u7406\u76F8\u5173\u76F8\u5173\u8BF7\u6C42\u53C2\u6570\u540E\uFF0C\u6A21\u62DF\u5668\u80FD\u6B63\u5E38\u8BBF\u95EE\u63A5\u53E3\uFF0C\u5E76\u6253\u5370\u51FA\u5BF9\u5E94\u7684 HTTP \u8BF7\u6C42\u7248\u672C</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042931.jpg" alt="WechatIMG15"></p></li></ol><h2 id="\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u6D41\u7A0B" aria-hidden="true">#</a> \u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u6D41\u7A0B</h2><img src="https://user-images.githubusercontent.com/35895755/44379940-fa403c00-a53a-11e8-9165-21b217496aad.png" width="70%" height="70%"><ul><li>session_key \u6709\u6709\u6548\u671F\uFF0C\u6709\u6548\u671F\u5E76\u6CA1\u6709\u88AB\u544A\u77E5\u5F00\u53D1\u8005\uFF0C\u53EA\u77E5\u9053\u7528\u6237\u8D8A\u9891\u7E41\u4F7F\u7528\u5C0F\u7A0B\u5E8F\uFF0Csession_key \u6709\u6548\u671F\u8D8A\u957F</li><li>\u5728\u8C03\u7528 wx.login \u65F6\u4F1A\u76F4\u63A5\u66F4\u65B0 session_key\uFF0C\u5BFC\u81F4\u65E7 session_key \u5931\u6548</li><li>\u5C0F\u7A0B\u5E8F\u5185\u5148\u8C03\u7528 wx.checkSession \u68C0\u67E5\u767B\u5F55\u6001\uFF0C\u5E76\u4FDD\u8BC1\u6CA1\u6709\u8FC7\u671F\u7684 session_key \u4E0D\u4F1A\u88AB\u66F4\u65B0\uFF0C\u518D\u8C03\u7528 wx.login \u83B7\u53D6 code\u3002\u63A5\u7740\u7528\u6237\u6388\u6743\u5C0F\u7A0B\u5E8F\u83B7\u53D6\u7528\u6237\u4FE1\u606F\uFF0C\u5C0F\u7A0B\u5E8F\u62FF\u5230\u52A0\u5BC6\u540E\u7684\u7528\u6237\u6570\u636E\uFF0C\u628A\u52A0\u5BC6\u6570\u636E\u548C code \u4F20\u7ED9\u540E\u7AEF\u670D\u52A1\u3002\u540E\u7AEF\u901A\u8FC7 code \u62FF\u5230 session_key \u5E76\u89E3\u5BC6\u6570\u636E\uFF0C\u5C06\u89E3\u5BC6\u540E\u7684\u7528\u6237\u4FE1\u606F\u8FD4\u56DE\u7ED9\u5C0F\u7A0B\u5E8F</li></ul><p><strong>\u9762\u8BD5\u9898\uFF1A\u5148\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u518D login \u4F1A\u53D1\u751F\u4EC0\u4E48\uFF1F</strong></p><img src="https://user-images.githubusercontent.com/35895755/44244965-268d4d00-a209-11e8-8ef4-b80cc7a78af7.png" width="70%" height="70%"><img src="https://user-images.githubusercontent.com/35895755/44379952-0af0b200-a53b-11e8-86be-640bf651bc9e.png" width="50%" height="50%"><ul><li>\u7528\u6237\u6388\u6743\u65F6\uFF0C\u5F00\u653E\u5E73\u53F0\u4F7F\u7528\u65E7\u7684 session_key \u5BF9\u7528\u6237\u4FE1\u606F\u8FDB\u884C\u52A0\u5BC6\u3002\u8C03\u7528 wx.login \u91CD\u65B0\u767B\u5F55\uFF0C\u4F1A\u5237\u65B0 session_key\uFF0C\u8FD9\u65F6\u540E\u7AEF\u670D\u52A1\u4ECE\u5F00\u653E\u5E73\u53F0\u83B7\u53D6\u5230\u65B0 session_key\uFF0C\u4F46\u662F\u65E0\u6CD5\u5BF9\u8001 session_key \u52A0\u5BC6\u8FC7\u7684\u6570\u636E\u89E3\u5BC6\uFF0C\u7528\u6237\u4FE1\u606F\u83B7\u53D6\u5931\u8D25</li><li>\u5728\u7528\u6237\u4FE1\u606F\u6388\u6743\u4E4B\u524D\u5148\u8C03\u7528 wx.checkSession \u5462\uFF1Fwx.checkSession \u68C0\u67E5\u767B\u5F55\u6001\uFF0C\u5E76\u4E14\u4FDD\u8BC1 wx.login \u4E0D\u4F1A\u5237\u65B0 session_key\uFF0C\u4ECE\u800C\u8BA9\u540E\u7AEF\u670D\u52A1\u6B63\u786E\u89E3\u5BC6\u6570\u636E\u3002\u4F46\u662F\u8FD9\u91CC\u5B58\u5728\u4E00\u4E2A\u95EE\u9898\uFF0C\u5982\u679C\u5C0F\u7A0B\u5E8F\u8F83\u957F\u65F6\u95F4\u4E0D\u7528\u5BFC\u81F4 session_key \u8FC7\u671F\uFF0C\u5219 wx.login \u5FC5\u5B9A\u4F1A\u91CD\u65B0\u751F\u6210 session_key\uFF0C\u4ECE\u800C\u518D\u4E00\u6B21\u5BFC\u81F4\u7528\u6237\u4FE1\u606F\u89E3\u5BC6\u5931\u8D25\u3002</li></ul><h2 id="\u6027\u80FD\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u6027\u80FD\u4F18\u5316" aria-hidden="true">#</a> \u6027\u80FD\u4F18\u5316</h2><p><strong>\u6211\u4EEC\u77E5\u9053view\u90E8\u5206\u662F\u8FD0\u884C\u5728webview\u4E0A\u7684\uFF0C\u6240\u4EE5\u524D\u7AEF\u9886\u57DF\u7684\u5927\u591A\u6570\u4F18\u5316\u65B9\u5F0F\u90FD\u6709\u7528\u3002</strong></p><p><strong>\u6211\u4EEC\u77E5\u9053view\u90E8\u5206\u662F\u8FD0\u884C\u5728webview\u4E0A\u7684\uFF0C\u6240\u4EE5\u524D\u7AEF\u9886\u57DF\u7684\u5927\u591A\u6570\u4F18\u5316\u65B9\u5F0F\u90FD\u6709\u7528\u3002</strong></p><p><strong>\u6211\u4EEC\u77E5\u9053view\u90E8\u5206\u662F\u8FD0\u884C\u5728webview\u4E0A\u7684\uFF0C\u6240\u4EE5\u524D\u7AEF\u9886\u57DF\u7684\u5927\u591A\u6570\u4F18\u5316\u65B9\u5F0F\u90FD\u6709\u7528\u3002</strong></p><h3 id="\u52A0\u8F7D\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u52A0\u8F7D\u4F18\u5316" aria-hidden="true">#</a> \u52A0\u8F7D\u4F18\u5316</h3><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042945.png" alt="preload"></p><p>\u4EE3\u7801\u5305\u7684\u5927\u5C0F\u662F\u6700\u76F4\u63A5\u5F71\u54CD\u5C0F\u7A0B\u5E8F\u52A0\u8F7D\u542F\u52A8\u901F\u5EA6\u7684\u56E0\u7D20\u3002\u4EE3\u7801\u5305\u8D8A\u5927\u4E0D\u4EC5\u4E0B\u8F7D\u901F\u5EA6\u65F6\u95F4\u957F\uFF0C\u4E1A\u52A1\u4EE3\u7801\u6CE8\u5165\u65F6\u95F4\u4E5F\u4F1A\u53D8\u957F\u3002\u6240\u4EE5\u6700\u597D\u7684\u4F18\u5316\u65B9\u5F0F\u5C31\u662F\u51CF\u5C11\u4EE3\u7801\u5305\u7684\u5927\u5C0F\u3002</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042953.png" alt="load-time-series"></p><p>\u5C0F\u7A0B\u5E8F\u52A0\u8F7D\u7684\u4E09\u4E2A\u9636\u6BB5\u7684\u8868\u793A\u3002</p><p><strong>\u4F18\u5316\u65B9\u5F0F</strong></p><ul><li>\u4EE3\u7801\u538B\u7F29\u3002</li><li>\u53CA\u65F6\u6E05\u7406\u65E0\u7528\u4EE3\u7801\u548C\u8D44\u6E90\u6587\u4EF6\u3002</li><li>\u51CF\u5C11\u4EE3\u7801\u5305\u4E2D\u7684\u56FE\u7247\u7B49\u8D44\u6E90\u6587\u4EF6\u7684\u5927\u5C0F\u548C\u6570\u91CF\u3002</li><li>\u5206\u5305\u52A0\u8F7D\u3002</li></ul><p><strong>\u9996\u5C4F\u52A0\u8F7D\u7684\u4F53\u9A8C\u4F18\u5316\u5EFA\u8BAE</strong></p><ul><li>\u63D0\u524D\u8BF7\u6C42: \u5F02\u6B65\u6570\u636E\u8BF7\u6C42\u4E0D\u9700\u8981\u7B49\u5F85\u9875\u9762\u6E32\u67D3\u5B8C\u6210\u3002</li><li>\u5229\u7528\u7F13\u5B58: \u5229\u7528 storage API \u5BF9\u5F02\u6B65\u8BF7\u6C42\u6570\u636E\u8FDB\u884C\u7F13\u5B58\uFF0C\u4E8C\u6B21\u542F\u52A8\u65F6\u5148\u5229\u7528\u7F13\u5B58\u6570\u636E\u6E32\u67D3\u9875\u9762\uFF0C\u5728\u8FDB\u884C\u540E\u53F0\u66F4\u65B0\u3002</li><li>\u907F\u514D\u767D\u5C4F\uFF1A\u5148\u5C55\u793A\u9875\u9762\u9AA8\u67B6\u9875\u548C\u57FA\u7840\u5185\u5BB9\u3002</li><li>\u53CA\u65F6\u53CD\u9988\uFF1A\u5373\u65F6\u5730\u5BF9\u9700\u8981\u7528\u6237\u7B49\u5F85\u7684\u4EA4\u4E92\u64CD\u4F5C\u7ED9\u51FA\u53CD\u9988\uFF0C\u907F\u514D\u7528\u6237\u4EE5\u4E3A\u5C0F\u7A0B\u5E8F\u65E0\u54CD\u5E94\u3002</li></ul><h4 id="\u4F7F\u7528\u5206\u5305\u52A0\u8F7D\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u5206\u5305\u52A0\u8F7D\u4F18\u5316" aria-hidden="true">#</a> \u4F7F\u7528\u5206\u5305\u52A0\u8F7D\u4F18\u5316</h4><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-043010.png" alt="sub-package"></p><p>\u5728\u6784\u5EFA\u5C0F\u7A0B\u5E8F\u5206\u5305\u9879\u76EE\u65F6\uFF0C\u6784\u5EFA\u4F1A\u8F93\u51FA\u4E00\u4E2A\u6216\u591A\u4E2A\u529F\u80FD\u7684\u5206\u5305\uFF0C\u5176\u4E2D\u6BCF\u4E2A\u5206\u5305\u5C0F\u7A0B\u5E8F\u5FC5\u5B9A\u542B\u6709\u4E00\u4E2A\u4E3B\u5305\uFF0C\u6240\u8C13\u7684\u4E3B\u5305\uFF0C\u5373\u653E\u7F6E\u9ED8\u8BA4\u542F\u52A8\u9875\u9762/TabBar \u9875\u9762\uFF0C\u4EE5\u53CA\u4E00\u4E9B\u6240\u6709\u5206\u5305\u90FD\u9700\u7528\u5230\u516C\u5171\u8D44\u6E90/JS \u811A\u672C\uFF0C\u800C\u5206\u5305\u5219\u662F\u6839\u636E\u5F00\u53D1\u8005\u7684\u914D\u7F6E\u8FDB\u884C\u5212\u5206\u3002</p><p>\u5728\u5C0F\u7A0B\u5E8F\u542F\u52A8\u65F6\uFF0C\u9ED8\u8BA4\u4F1A\u4E0B\u8F7D\u4E3B\u5305\u5E76\u542F\u52A8\u4E3B\u5305\u5185\u9875\u9762\uFF0C\u5982\u679C\u7528\u6237\u9700\u8981\u6253\u5F00\u5206\u5305\u5185\u67D0\u4E2A\u9875\u9762\uFF0C\u5BA2\u6237\u7AEF\u4F1A\u628A\u5BF9\u5E94\u5206\u5305\u4E0B\u8F7D\u4E0B\u6765\uFF0C\u4E0B\u8F7D\u5B8C\u6210\u540E\u518D\u8FDB\u884C\u5C55\u793A\u3002</p><p>\u4F18\u70B9\uFF1A</p><ul><li>\u5BF9\u5F00\u53D1\u8005\u800C\u8A00\uFF0C\u80FD\u4F7F\u5C0F\u7A0B\u5E8F\u6709\u66F4\u5927\u7684\u4EE3\u7801\u4F53\u79EF\uFF0C\u627F\u8F7D\u66F4\u591A\u7684\u529F\u80FD\u4E0E\u670D\u52A1</li><li>\u5BF9\u7528\u6237\u800C\u8A00\uFF0C\u53EF\u4EE5\u66F4\u5FEB\u5730\u6253\u5F00\u5C0F\u7A0B\u5E8F\uFF0C\u540C\u65F6\u5728\u4E0D\u5F71\u54CD\u542F\u52A8\u901F\u5EA6\u524D\u63D0\u4E0B\u4F7F\u7528\u66F4\u591A\u529F\u80FD</li></ul><p>\u9650\u5236\uFF1A</p><ul><li>\u6574\u4E2A\u5C0F\u7A0B\u5E8F\u6240\u6709\u5206\u5305\u5927\u5C0F\u4E0D\u8D85\u8FC7 8M</li><li>\u5355\u4E2A\u5206\u5305/\u4E3B\u5305\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 2M</li></ul><p><strong>\u539F\u751F\u5206\u5305\u52A0\u8F7D\u7684\u914D\u7F6E</strong> \u5047\u8BBE\u652F\u6301\u5206\u5305\u7684\u5C0F\u7A0B\u5E8F\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u251C\u2500\u2500 app.js
\u251C\u2500\u2500 app.json
\u251C\u2500\u2500 app.wxss
\u251C\u2500\u2500 packageA
\u2502   \u2514\u2500\u2500 pages
\u2502       \u251C\u2500\u2500 cat
\u2502       \u2514\u2500\u2500 dog
\u251C\u2500\u2500 packageB
\u2502   \u2514\u2500\u2500 pages
\u2502       \u251C\u2500\u2500 apple
\u2502       \u2514\u2500\u2500 banana
\u251C\u2500\u2500 pages
\u2502   \u251C\u2500\u2500 index
\u2502   \u2514\u2500\u2500 logs
\u2514\u2500\u2500 utils

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u5F00\u53D1\u8005\u901A\u8FC7\u5728 app.json subPackages \u5B57\u6BB5\u58F0\u660E\u9879\u76EE\u5206\u5305\u7ED3\u6784\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{
  &quot;pages&quot;:[
    &quot;pages/index&quot;,
    &quot;pages/logs&quot;
  ],
  &quot;subPackages&quot;: [
    {
      &quot;root&quot;: &quot;packageA&quot;,
      &quot;pages&quot;: [
        &quot;pages/cat&quot;,
        &quot;pages/dog&quot;
      ]
    }, {
      &quot;root&quot;: &quot;packageB&quot;,
      &quot;pages&quot;: [
        &quot;pages/apple&quot;,
        &quot;pages/banana&quot;
      ]
    }
  ]
}

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>\u5206\u5305\u539F\u5219</strong></p><ul><li>\u58F0\u660E subPackages \u540E\uFF0C\u5C06\u6309 subPackages \u914D\u7F6E\u8DEF\u5F84\u8FDB\u884C\u6253\u5305\uFF0CsubPackages \u914D\u7F6E\u8DEF\u5F84\u5916\u7684\u76EE\u5F55\u5C06\u88AB\u6253\u5305\u5230 app\uFF08\u4E3B\u5305\uFF09 \u4E2D</li><li>app\uFF08\u4E3B\u5305\uFF09\u4E5F\u53EF\u4EE5\u6709\u81EA\u5DF1\u7684 pages\uFF08\u5373\u6700\u5916\u5C42\u7684 pages \u5B57\u6BB5</li><li>subPackage \u7684\u6839\u76EE\u5F55\u4E0D\u80FD\u662F\u53E6\u5916\u4E00\u4E2A subPackage \u5185\u7684\u5B50\u76EE\u5F55</li><li>\u9996\u9875\u7684 TAB \u9875\u9762\u5FC5\u987B\u5728 app\uFF08\u4E3B\u5305\uFF09\u5185</li></ul><p><strong>\u5F15\u7528\u539F\u5219</strong></p><ul><li>packageA \u65E0\u6CD5 require packageB JS \u6587\u4EF6\uFF0C\u4F46\u53EF\u4EE5 require app\u3001\u81EA\u5DF1 package \u5185\u7684 JS \u6587\u4EF6</li><li>packageA \u65E0\u6CD5 import packageB \u7684 template\uFF0C\u4F46\u53EF\u4EE5 require app\u3001\u81EA\u5DF1 package \u5185\u7684 template</li><li>packageA \u65E0\u6CD5\u4F7F\u7528 packageB \u7684\u8D44\u6E90\uFF0C\u4F46\u53EF\u4EE5\u4F7F\u7528 app\u3001\u81EA\u5DF1 package \u5185\u7684\u8D44\u6E90</li></ul><p><strong>\u5B98\u65B9\u5373\u5C06\u63A8\u51FA</strong> \u5206\u5305\u9884\u52A0\u8F7D</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-043026.png" alt="preload-sub-package"></p><p>\u72EC\u7ACB\u5206\u5305</p><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-043041.png" alt="single-sub-package"></p><h3 id="\u6E32\u67D3\u6027\u80FD\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u6E32\u67D3\u6027\u80FD\u4F18\u5316" aria-hidden="true">#</a> \u6E32\u67D3\u6027\u80FD\u4F18\u5316</h3><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-043047.png" alt="render"></p><ul><li><p>\u6BCF\u6B21 setData \u7684\u8C03\u7528\u90FD\u662F\u4E00\u6B21\u8FDB\u7A0B\u95F4\u901A\u4FE1\u8FC7\u7A0B\uFF0C\u901A\u4FE1\u5F00\u9500\u4E0E setData \u7684\u6570\u636E\u91CF\u6B63\u76F8\u5173\u3002</p></li><li><p>setData \u4F1A\u5F15\u53D1\u89C6\u56FE\u5C42\u9875\u9762\u5185\u5BB9\u7684\u66F4\u65B0\uFF0C\u8FD9\u4E00\u8017\u65F6\u64CD\u4F5C\u4E00\u5B9A\u65F6\u95F4\u4E2D\u4F1A\u963B\u585E\u7528\u6237\u4EA4\u4E92\u3002</p></li><li><p><strong>setData \u662F\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u4F7F\u7528\u6700\u9891\u7E41\uFF0C\u4E5F\u662F\u6700\u5BB9\u6613\u5F15\u53D1\u6027\u80FD\u95EE\u9898\u7684\u3002</strong></p></li></ul><p><strong>\u907F\u514D\u4E0D\u5F53\u4F7F\u7528 setData</strong></p><ul><li>\u4F7F\u7528 data \u5728\u65B9\u6CD5\u95F4\u5171\u4EAB\u6570\u636E\uFF0C<strong>\u53EF\u80FD\u589E\u52A0 setData \u4F20\u8F93\u7684\u6570\u636E\u91CF</strong>\u3002data \u5E94\u4EC5\u5305\u62EC\u4E0E\u9875\u9762\u6E32\u67D3\u76F8\u5173\u7684\u6570\u636E\u3002</li><li>\u4F7F\u7528 setData \u4F20\u8F93\u5927\u91CF\u6570\u636E\uFF0C<strong>\u901A\u8BAF\u8017\u65F6\u4E0E\u6570\u636E\u6B63\u76F8\u5173\uFF0C\u9875\u9762\u66F4\u65B0\u5EF6\u8FDF\u53EF\u80FD\u9020\u6210\u9875\u9762\u66F4\u65B0\u5F00\u9500\u589E\u52A0</strong>\u3002\u4EC5\u4F20\u8F93\u9875\u9762\u4E2D\u53D1\u751F\u53D8\u5316\u7684\u6570\u636E\uFF0C\u4F7F\u7528 setData \u7684\u7279\u6B8A key \u5B9E\u73B0\u5C40\u90E8\u66F4\u65B0\u3002</li><li>\u77ED\u65F6\u95F4\u5185\u9891\u7E41\u8C03\u7528 setData\uFF0C<strong>\u64CD\u4F5C\u5361\u987F\uFF0C\u4EA4\u4E92\u5EF6\u8FDF\uFF0C\u963B\u585E\u901A\u4FE1\uFF0C\u9875\u9762\u6E32\u67D3\u5EF6\u8FDF</strong>\u3002\u907F\u514D\u4E0D\u5FC5\u8981\u7684 setData\uFF0C\u5BF9\u8FDE\u7EED\u7684setData\u8C03\u7528\u8FDB\u884C\u5408\u5E76\u3002</li><li>\u5728\u540E\u53F0\u9875\u9762\u8FDB\u884C setData\uFF0C<strong>\u62A2\u5360\u524D\u53F0\u9875\u9762\u7684\u6E32\u67D3\u8D44\u6E90</strong>\u3002\u9875\u9762\u5207\u5165\u540E\u53F0\u540E\u7684 setData \u8C03\u7528\uFF0C\u5EF6\u8FDF\u5230\u9875\u9762\u91CD\u65B0\u5C55\u793A\u65F6\u6267\u884C\u3002</li></ul><p><img src="https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042750.png" alt="one-context"></p><p><strong>\u907F\u514D\u4E0D\u5F53\u4F7F\u7528onPageScroll</strong></p><ul><li>\u53EA\u5728\u6709\u5FC5\u8981\u7684\u65F6\u5019\u76D1\u542C pageScroll \u4E8B\u4EF6\u3002\u4E0D\u76D1\u542C\uFF0C\u5219\u4E0D\u4F1A\u6D3E\u53D1\u3002</li><li>\u907F\u514D\u5728 onPageScroll \u4E2D\u6267\u884C\u590D\u6742\u903B\u8F91</li><li>\u907F\u514D\u5728 onPageScroll \u4E2D\u9891\u7E41\u8C03\u7528 setData</li><li>\u907F\u514D\u6ED1\u52A8\u65F6\u9891\u7E41\u67E5\u8BE2\u8282\u70B9\u4FE1\u606F\uFF08SelectQuery\uFF09\u7528\u4EE5\u5224\u65AD\u662F\u5426\u663E\u793A\uFF0C\u90E8\u5206\u573A\u666F\u5EFA\u8BAE\u4F7F\u7528\u8282\u70B9\u5E03\u5C40\u6A61\u80F6\u72B6\u6001\u76D1\u542C\uFF08inersectionObserver\uFF09\u66FF\u4EE3</li></ul><p><strong>\u4F7F\u7528\u81EA\u5B9A\u4E49\u7EC4\u4EF6</strong></p><p>\u5728\u9700\u8981\u9891\u7E41\u66F4\u65B0\u7684\u573A\u666F\u4E0B\uFF0C\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u7684\u66F4\u65B0\u53EA\u5728\u7EC4\u4EF6\u5185\u90E8\u8FDB\u884C\uFF0C\u4E0D\u53D7\u9875\u9762\u5176\u4ED6\u90E8\u5206\u5185\u5BB9\u590D\u6742\u6027\u5F71\u54CD\u3002</p><h2 id="\u5B98\u65B9\u5C0F\u7A0B\u5E8F\u6280\u672F\u80FD\u529B\u89C4\u5212" tabindex="-1"><a class="header-anchor" href="#\u5B98\u65B9\u5C0F\u7A0B\u5E8F\u6280\u672F\u80FD\u529B\u89C4\u5212" aria-hidden="true">#</a> \u5B98\u65B9\u5C0F\u7A0B\u5E8F\u6280\u672F\u80FD\u529B\u89C4\u5212</h2><h3 id="\u81EA\u5B9A\u4E49\u7EC4\u4EF62-0" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u7EC4\u4EF62-0" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u7EC4\u4EF62.0</h3><p>\u5C0F\u7A0B\u5E8F\u7684\u51E0\u4E2A\u9875\u9762\u95F4\uFF0C\u5B58\u5728\u4E00\u4E9B\u76F8\u540C\u6216\u662F\u7C7B\u4F3C\u7684\u533A\u57DF\uFF0C\u8FD9\u65F6\u5019\u53EF\u4EE5\u628A\u8FD9\u4E9B\u533A\u57DF\u903B\u8F91\u5C01\u88C5\u6210\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7EC4\u4EF6\uFF0C\u4EE3\u7801\u5C31\u53EF\u4EE5\u91CD\u7528\uFF0C\u6216\u8005\u5BF9\u4E8E\u6BD4\u8F83\u72EC\u7ACB\u903B\u8F91\uFF0C\u4E5F\u53EF\u4EE5\u628A\u5B83\u5C01\u88C5\u6210\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7EC4\u4EF6\uFF0C\u4E5F\u5C31\u662F\u5FAE\u4FE1\u53BB\u5E74\u53D1\u5E03\u7684\u81EA\u5B9A\u4E49\u7EC4\u4EF6\uFF0C\u5B83\u8BA9\u4EE3\u7801\u5F97\u5230\u590D\u7528\u3001\u51CF\u5C11\u4EE3\u7801\u91CF\uFF0C\u66F4\u65B9\u4FBF\u6A21\u5757\u5316\uFF0C\u4F18\u5316\u4EE3\u7801\u67B6\u6784\u7EC4\u7EC7\uFF0C\u4E5F\u4F7F\u5F97\u6A21\u5757\u6E05\u6670\uFF0C\u540E\u671F\u66F4\u597D\u5730\u7EF4\u62A4\uFF0C\u4ECE\u800C\u4FDD\u8BC1\u66F4\u597D\u7684\u6027\u80FD\u3002</p><p>\u4F46\u5FAE\u4FE1\u6253\u7B97\u5728\u539F\u6765\u7684\u57FA\u7840\u4E0A\u63A8\u51FA\u7684\u81EA\u5B9A\u4E49\u7EC4\u4EF6 2.0\uFF0C\u5B83\u5C06\u62E5\u6709\u66F4\u9AD8\u7EA7\u7684\u6027\u80FD\uFF1A</p><ul><li>usingComponents \u8BA1\u5212\u652F\u6301\u5168\u5C40\u5B9A\u4E49\u548C\u901A\u914D\u7B26\u5B9A\u4E49\uFF1A\u8FD9\u610F\u5473\u7740\u4E0D\u7528\u5728\u6BCF\u4E2A\u9875\u9762\u53CD\u590D\u5B9A\u4E49\uFF0C\u53EF\u4EE5\u6279\u91CF\u5BFC\u5165\u76EE\u5F55\u4E0B\u7684\u6240\u6709\u81EA\u5B9A\u4E49\u7EC4\u4EF6</li><li>\u8BA1\u5212\u652F\u6301\u7C7B\u4F3C Computed \u548C watch \u7684\u529F\u80FD\uFF0C\u5B83\u80FD\u4F7F\u4EE3\u7801\u903B\u8F91\u66F4\u6E05\u6670</li><li>\u8BA1\u5212\u652F\u6301 Component \u6784\u9020\u5668\u63D2\u4EF6\uFF0C\u5728\u5B9E\u4F8B\u5316\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u7684\u65F6\u5019\uFF0C\u5141\u8BB8\u4F60\u5728\u6784\u9020\u5668\u7684\u8FD9\u4E2A\u9636\u6BB5\uFF0C\u52A0\u5165\u4E00\u4E9B\u903B\u8F91\uFF0C\u65B9\u4FBF\u8FDB\u884C\u4E00\u4E9B\u6269\u5C55\uFF0C\u751A\u81F3\u662F\u53EF\u4EE5\u6269\u5C55\u6210 Vue \u7684\u8BED\u6CD5</li></ul><h3 id="npm\u652F\u6301" tabindex="-1"><a class="header-anchor" href="#npm\u652F\u6301" aria-hidden="true">#</a> npm\u652F\u6301</h3><p>\u76EE\u524D\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u7684\u75DB\u70B9\u662F\uFF1A\u5F00\u6E90\u7EC4\u4EF6\u8981\u624B\u52A8\u590D\u5236\u5230\u9879\u76EE\uFF0C\u540E\u7EED\u66F4\u65B0\u7EC4\u4EF6\u4E5F\u9700\u8981\u624B\u52A8\u64CD\u4F5C\u3002\u4E0D\u4E45\u7684\u5C06\u6765\uFF0C\u5C0F\u7A0B\u5E8F\u5C06\u652F\u6301npm\u5305\u7BA1\u7406\uFF0C\u6709\u4E86\u8FD9\u4E2A\u4E4B\u540E\uFF0C\u60F3\u8981\u5F15\u5165\u4E00\u4E9B\u5F00\u6E90\u7684\u9879\u76EE\u5C31\u53D8\u5F97\u5F88\u7B80\u5355\u4E86\uFF0C\u53EA\u8981\u5728\u9879\u76EE\u91CC\u9762\u58F0\u660E\uFF0C\u7136\u540E\u7528\u7B80\u5355\u7684\u547D\u4EE4\u5B89\u88C5\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528\u4E86\u3002</p><h3 id="\u5B98\u65B9\u81EA\u5B9A\u4E49\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5B98\u65B9\u81EA\u5B9A\u4E49\u7EC4\u4EF6" aria-hidden="true">#</a> \u5B98\u65B9\u81EA\u5B9A\u4E49\u7EC4\u4EF6</h3><p>\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u56E2\u961F\u8868\u793A\uFF0C\u4ED6\u4EEC\u5728\u8003\u8651\u63A8\u51FA\u4E00\u4E9B\u5B98\u65B9\u81EA\u5B9A\u4E49\u7EC4\u4EF6\uFF0C\u4E3A\u4EC0\u4E48\u4E0D\u5185\u7F6E\u5230\u57FA\u7840\u5E93\u91CC\u5462\uFF1F\u56E0\u4E3A\u5185\u7F6E\u7EC4\u4EF6\u8981\u63D0\u4F9B\u7ED9\u5F00\u53D1\u8005\uFF0C\u8FD9\u4E2A\u7EC4\u4EF6\u4E00\u5B9A\u662F\u5F00\u53D1\u8005\u5F88\u96BE\u5B9E\u73B0\u6216\u8005\u662F\u65E0\u6CD5\u5B9E\u73B0\u7684\u4E00\u4E2A\u80FD\u529B\u3002\u6240\u4EE5\u4ED6\u4EEC\u66F4\u503E\u5411\u4E8E\u5C01\u88C5\u6210\u81EA\u5B9A\u4E49\u7EC4\u4EF6\uFF0C\u60F3\u57FA\u4E8E\u8FD9\u4E9B\u5185\u7F6E\u7EC4\u4EF6\u91CC\uFF0C\u5C01\u88C5\u4E00\u4E9B\u6BD4\u8F83\u5E38\u89C1\u7684\u3001\u4EA4\u4E92\u903B\u8F91\u6BD4\u8F83\u590D\u6742\u7684\u7EC4\u4EF6\u7ED9\u5927\u5BB6\u4F7F\u7528\uFF0C\u8BA9\u5927\u5BB6\u66F4\u5BB9\u6613\u5F00\u53D1\u3002\u7C7B\u4F3C\u5F39\u5E55\u7EC4\u4EF6\uFF0C\u5F00\u53D1\u8005\u5C31\u4E0D\u7528\u5173\u6CE8\u5F39\u5E55\u600E\u4E48\u98D8\uFF0C\u53EF\u4EE5\u8282\u7701\u5F00\u53D1\u8005\u7684\u5F00\u53D1\u6210\u672C\u3002</p><p>\u540C\u65F6\uFF0C\u4ED6\u4EEC\u4E5F\u60F3\u7ED9\u5F00\u53D1\u8005\u63D0\u4F9B\u4E00\u4E9B\u89C4\u8303\u548C\u4E00\u4E9B\u6A21\u677F\uFF0C\u8BA9\u5F00\u53D1\u8005\u8BBE\u8BA1\u51FA\u597D\u7528\u7684\u81EA\u5B9A\u4E49\u7EC4\u4EF6\uFF0C\u66F4\u597D\u5730\u88AB\u5927\u5BB6\u53BB\u4F7F\u7528\u3002</p><h3 id="\u6DFB\u52A0\u4F53\u9A8C\u8BC4\u5206" tabindex="-1"><a class="header-anchor" href="#\u6DFB\u52A0\u4F53\u9A8C\u8BC4\u5206" aria-hidden="true">#</a> \u6DFB\u52A0\u4F53\u9A8C\u8BC4\u5206</h3><p>\u5F53\u5C0F\u7A0B\u5E8F\u52A0\u8F7D\u592A\u6162\u65F6\uFF0C\u53EF\u80FD\u4F1A\u5BFC\u81F4\u7528\u6237\u7684\u6D41\u5931\uFF0C\u800C\u5C0F\u7A0B\u5E8F\u7684\u5F00\u53D1\u8005\u53EF\u80FD\u4F1A\u9762\u4E34\u7740\u4E0D\u77E5\u9053\u5982\u4F55\u5B9A\u4F4D\u95EE\u9898\u6216\u4E0D\u77E5\u5982\u4F55\u89E3\u51B3\u95EE\u9898\u7684\u56F0\u5883\u3002</p><p>\u4E3A\u6B64\uFF0C\u5C0F\u7A0B\u5E8F\u5373\u5C06\u63A8\u51FA\u4E00\u4E2A\u4F53\u9A8C\u8BC4\u5206\u7684\u529F\u80FD\uFF0C\u8FD9\u662F\u4E3A\u4E86\u5E2E\u52A9\u5F00\u53D1\u8005\u53EF\u4EE5\u68C0\u67E5\u51FA\u5C0F\u7A0B\u5E8F\u6709\u4E00\u4E9B\u4EC0\u4E48\u4F53\u9A8C\u4E0D\u597D\u7684\u5730\u65B9\uFF0C\u4E5F\u4F1A\u540C\u65F6\u7ED9\u51FA\u4E00\u4EFD\u4F18\u5316\u7684\u6307\u5F15\u5EFA\u8BAE\u3002</p><h3 id="\u539F\u751F\u7EC4\u4EF6\u540C\u5C42\u6E32\u67D3" tabindex="-1"><a class="header-anchor" href="#\u539F\u751F\u7EC4\u4EF6\u540C\u5C42\u6E32\u67D3" aria-hidden="true">#</a> \u539F\u751F\u7EC4\u4EF6\u540C\u5C42\u6E32\u67D3</h3><p>\u5C0F\u7A0B\u5E8F\u5728\u6700\u521D\u7684\u6280\u672F\u9009\u578B\u65F6\uFF0C\u5F15\u5165\u4E86\u539F\u751F\u7EC4\u4EF6\u7684\u6982\u5FF5\uFF0C\u56E0\u4E3A\u539F\u751F\u7EC4\u4EF6\u53EF\u4EE5\u4F7F\u5C0F\u7A0B\u5E8F\u7684\u80FD\u529B\u66F4\u52A0\u4E30\u5BCC\uFF0C\u6BD4\u5982\u5730\u56FE\u3001\u97F3\u89C6\u9891\u7684\u80FD\u529B\uFF0C\u4F46\u662F\u539F\u751F\u7EC4\u4EF6\u662F\u7531\u5BA2\u6237\u7AEF\u539F\u751F\u6E32\u67D3\u7684\uFF0C\u5BFC\u81F4\u4E86\u539F\u751F\u7EC4\u4EF6\u7684\u5C42\u7EA7\u662F\u6700\u9AD8\u7684\uFF0C\u5F00\u53D1\u8005\u5F88\u5BB9\u6613\u9047\u5230\u6253\u5F00\u8C03\u8BD5\u7684\u95EE\u9898\uFF0C\u53D1\u73B0\u89C6\u9891\u7EC4\u4EF6\u6321\u5728\u4E86 vConsole \u4E0A\u3002</p><p>\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u5F53\u65F6\u5FAE\u4FE1\u505A\u4E86\u4E00\u4E2A\u8FC7\u6E21\u7684\u65B9\u6848\uFF1Acover-view\u3002cover-view\u53EF\u4EE5\u8986\u76D6\u5728\u539F\u751F\u7EC4\u4EF6\u4E4B\u4E0A\uFF0C\u8FD9\u4E00\u5957\u65B9\u6848\u89E3\u51B3\u4E86\u5927\u90E8\u5206\u7684\u9700\u6C42\u573A\u666F\u3002\u6BD4\u5982\u8BF4\u89C6\u9891\u7EC4\u4EF6\u4E0A\u5F88\u591A\u7684\u6309\u94AE\u3001\u6807\u9898\u751A\u81F3\u8FD8\u6709\u52A8\u753B\u7684\u5F39\u5E55\uFF0C\u8FD9\u4E9B\u90FD\u662F\u7528 cover-view \u53BB\u5B9E\u73B0\u7684\uFF0C\u4F46\u5B83\u8FD8\u662F\u6CA1\u6709\u5B8C\u5168\u89E3\u51B3\u539F\u751F\u7EC4\u4EF6\u7684\u5F00\u53D1\u4F53\u9A8C\u95EE\u9898\uFF0C\u56E0\u4E3A cover-view \u6709\u4E00\u4E9B\u9650\u5236\uFF1A</p><ul><li>\u65E0\u6CD5\u4E0E\u5176\u4ED6\u7EC4\u4EF6\u6DF7\u5728\u4E00\u8D77\u6E32\u67D3</li><li>\u6CA1\u6709\u5B8C\u6574\u7684\u89E6\u6478\u4E8B\u4EF6</li><li>cover-view \u5BF9\u6837\u5F0F\u7684\u8868\u73B0\u6709\u5DEE\u5F02</li><li>cover-view \u5BF9\u6837\u5F0F\u7684\u652F\u6301\u5EA6\u4E0D\u591F\u9AD8</li></ul><p>\u56E0\u6B64\u5FAE\u4FE1\u51B3\u5B9A\u5C06\u7528\u540C\u5C42\u6E32\u67D3\u53D6\u4EE3 cover-view\uFF0C\u5B83\u80FD\u50CF\u666E\u901A\u7EC4\u4EF6\u4E00\u6837\u4F7F\u7528\uFF0C\u539F\u751F\u7EC4\u4EF6\u7684\u5C42\u7EA7\u4E0D\u518D\u662F\u6700\u9AD8\uFF0C\u800C\u662F\u548C\u5176\u4ED6\u7684\u975E\u539F\u751F\u7EC4\u4EF6\u5728\u540C\u4E00\u5C42\u7EA7\u6E32\u67D3\uFF0C\u53EF\u5B8C\u5168\u7531 z-index \u63A7\u5236\uFF0C\u53EF\u5B8C\u5168\u652F\u6301\u89E6\u6478\u4E8B\u4EF6\u3002</p><p>\u5FAE\u4FE1\u8868\u793A\uFF0C\u540C\u5C42\u6E32\u67D3\u5728 iOS \u5E73\u53F0\u5C0F\u7A0B\u5E8F\u4E0A\u5DF2\u7ECF\u5F00\u59CB\u5185\u6D4B\uFF0C\u4F1A\u5F88\u5FEB\u5F00\u653E\u7ED9\u5F00\u53D1\u8005\uFF0CAndroid \u5E73\u53F0\u5DF2\u7ECF\u53D6\u5F97\u7A81\u7834\u6027\u8FDB\u5C55\uFF0C\u76EE\u524D\u6B63\u5728\u505A\u4E00\u8F6E\u5C01\u88C5\u7684\u5DE5\u4F5C\uFF0C\u5F00\u653E\u6307\u65E5\u53EF\u5F85\u3002</p><h2 id="wepy-vs-mpvue" tabindex="-1"><a class="header-anchor" href="#wepy-vs-mpvue" aria-hidden="true">#</a> wepy vs mpvue</h2><h3 id="\u6570\u636E\u6D41\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u6D41\u7BA1\u7406" aria-hidden="true">#</a> \u6570\u636E\u6D41\u7BA1\u7406</h3><p>\u76F8\u6BD4\u4F20\u7EDF\u7684\u5C0F\u7A0B\u5E8F\u6846\u67B6\uFF0C\u8FD9\u4E2A\u4E00\u76F4\u662F\u6211\u4EEC\u4F5C\u4E3A\u8D44\u6DF1\u5F00\u53D1\u8005\u6BD4\u8F83\u671F\u671B\u53BB\u89E3\u51B3\u7684\uFF0C\u5728 Web \u5F00\u53D1\u4E2D\uFF0C\u968F\u7740 Flux\u3001Redux\u3001Vuex \u7B49\u591A\u4E2A\u6570\u636E\u6D41\u5DE5\u5177\u51FA\u73B0\uFF0C\u6211\u4EEC\u4E5F\u671F\u671B\u5728\u4E1A\u52A1\u590D\u6742\u7684\u5C0F\u7A0B\u5E8F\u4E2D\u4F7F\u7528\u3002</p><ul><li><p>WePY \u9ED8\u8BA4\u652F\u6301 Redux\uFF0C\u5728\u811A\u624B\u67B6\u751F\u6210\u9879\u76EE\u7684\u65F6\u5019\u53EF\u4EE5\u5185\u7F6E</p></li><li><p>Mpvue \u4F5C\u4E3A Vue \u7684\u79FB\u690D\u7248\u672C\uFF0C\u5F53\u7136\u652F\u6301 Vuex\uFF0C\u540C\u6837\u5728\u811A\u624B\u67B6\u751F\u6210\u9879\u76EE\u7684\u65F6\u5019\u53EF\u4EE5\u5185\u7F6E</p></li></ul><h3 id="\u7EC4\u4EF6\u5316" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u5316" aria-hidden="true">#</a> \u7EC4\u4EF6\u5316</h3><p>\u5982\u679C\u4F60\u548C\u6211\u4EEC\u4E00\u6837\uFF0C\u7ECF\u5386\u4E86\u4ECE\u65E0\u5230\u6709\u7684\u5C0F\u7A0B\u5E8F\u4E1A\u52A1\u5F00\u53D1\uFF0C\u5EFA\u8BAE\u9605\u8BFB\u3010\u5C0F\u7A0B\u5E8F\u7684\u7EC4\u4EF6\u5316\u5F00\u53D1\u3011\u7AE0\u8282\uFF0C\u8FDB\u884C\u5B98\u65B9\u8BED\u6CD5\u7684\u7EC4\u4EF6\u5E93\u5F00\u53D1\uFF08\u4ECE\u57FA\u7840\u5E93 1.6.3 \u5F00\u59CB\uFF0C\u5B98\u65B9\u63D0\u4F9B\u4E86\u7EC4\u4EF6\u5316\u89E3\u51B3\u65B9\u6848\uFF09\u3002</p><ul><li>WePY \u7C7B\u4F3C Vue \u5B9E\u73B0\u4E86\u5355\u6587\u4EF6\u7EC4\u4EF6\uFF0C\u6700\u5927\u7684\u5DEE\u522B\u662F\u6587\u4EF6\u540E\u7F00 .wpy\uFF0C\u53EA\u662F\u5199\u6CD5\u4E0A\u4F1A\u6709\u5DEE\u5F02\uFF0C\u5177\u4F53\u53EF\u4EE5\u67E5\u770B\u3010\u4E3B\u6D41\u6846\u67B6\u4F7F\u7528\u6848\u4F8B 1\uFF1AWePY\u3011\u7AE0\u8282\uFF0C\u5B66\u4E60\u8D77\u6765\u6709\u4E00\u5B9A\u6210\u672C\uFF0C\u4E0D\u8FC7\u4E5F\u4F1A\u5F88\u5FEB\u9002\u5E94\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>export default class Index extends wepy.page {}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>Mpvue \u4F5C\u4E3A Vue \u7684\u79FB\u690D\u7248\u672C\uFF0C\u652F\u6301\u5355\u6587\u4EF6\u7EC4\u4EF6\uFF0Ctemplate\u3001script \u548C style \u90FD\u5728\u4E00\u4E2A .vue \u6587\u4EF6\u4E2D\uFF0C\u548C vue \u7684\u5199\u6CD5\u7C7B\u4F3C\uFF0C\u6240\u4EE5\u5BF9 Vue \u5F00\u53D1\u719F\u6089\u7684\u540C\u5B66\u4F1A\u6BD4\u8F83\u9002\u5E94\u3002</li></ul><h3 id="\u5DE5\u7A0B\u5316" tabindex="-1"><a class="header-anchor" href="#\u5DE5\u7A0B\u5316" aria-hidden="true">#</a> \u5DE5\u7A0B\u5316</h3><p>\u6240\u6709\u7684\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u4F9D\u8D56\u5B98\u65B9\u63D0\u4F9B\u7684\u5F00\u53D1\u8005\u5DE5\u5177\u3002\u5F00\u53D1\u8005\u5DE5\u5177\u7B80\u5355\u76F4\u89C2\uFF0C\u5BF9\u8C03\u8BD5\u5C0F\u7A0B\u5E8F\u5F88\u6709\u5E2E\u52A9\uFF0C\u73B0\u5728\u4E5F\u652F\u6301\u817E\u8BAF\u4E91\uFF08\u76EE\u524D\u6211\u4EEC\u8FD8\u6CA1\u6709\u4F7F\u7528\uFF0C\u4F46\u662F\u5BF9\u65B0\u7684\u4E00\u4E9B\u5F00\u53D1\u8005\u8FD8\u662F\u6709\u5E2E\u52A9\u7684\uFF09\uFF0C\u53EF\u4EE5\u7533\u8BF7\u6D4B\u8BD5\u62A5\u544A\u67E5\u770B\u5C0F\u7A0B\u5E8F\u5728\u771F\u5B9E\u7684\u79FB\u52A8\u8BBE\u5907\u4E0A\u8FD0\u884C\u6027\u80FD\u548C\u8FD0\u884C\u6548\u679C\uFF0C\u4F46\u662F\u5B83\u672C\u8EAB\u6CA1\u6709\u7C7B\u4F3C\u524D\u7AEF\u5DE5\u7A0B\u5316\u4E2D\u7684\u6982\u5FF5\u548C\u5DE5\u5177\u3002</p><ul><li>wepy \u5185\u7F6E\u4E86\u6784\u5EFA\uFF0C\u901A\u8FC7 wepy init \u547D\u4EE4\u521D\u59CB\u5316\u9879\u76EE\uFF0C\u5927\u81F4\u6D41\u7A0B\u5982\u4E0B\uFF1A</li></ul><ul><li>wepy-cli \u4F1A\u5224\u65AD\u6A21\u7248\u662F\u5728\u8FDC\u7A0B\u4ED3\u5E93\u8FD8\u662F\u5728\u672C\u5730\uFF0C\u5982\u679C\u5728\u672C\u5730\u5219\u4F1A\u7ACB\u5373\u8DF3\u5230\u7B2C 3 \u6B65\uFF0C\u53CD\u4E4B\u7EE7\u7EED\u8FDB\u884C\u3002</li><li>\u4F1A\u4ECE\u8FDC\u7A0B\u4ED3\u5E93\u4E0B\u8F7D\u6A21\u7248\uFF0C\u5E76\u4FDD\u5B58\u5230\u672C\u5730\u3002</li><li>\u8BE2\u95EE\u5F00\u53D1\u8005 Project name \u7B49\u95EE\u9898\uFF0C\u4F9D\u636E\u5F00\u53D1\u8005\u7684\u56DE\u7B54\uFF0C\u521B\u5EFA\u9879\u76EE\u3002</li></ul><ul><li>mpvue \u6CBF\u7528\u4E86 vue \u4E2D\u63A8\u5D07\u7684 webpack \u4F5C\u4E3A\u6784\u5EFA\u5DE5\u5177\uFF0C\u4F46\u540C\u65F6\u63D0\u4F9B\u4E86\u4E00\u4E9B\u81EA\u5DF1\u7684\u63D2\u4EF6\u4EE5\u53CA\u914D\u7F6E\u6587\u4EF6\u7684\u4E00\u4E9B\u4FEE\u6539\uFF0C\u6BD4\u5982\uFF1A</li></ul><ul><li>\u4E0D\u518D\u9700\u8981 html-webpack-plugin</li><li>\u57FA\u4E8E webpack-dev-middleware \u4FEE\u6539\u6210 webpack-dev-middleware-hard-disk</li><li>\u6700\u5927\u7684\u53D8\u5316\u662F\u57FA\u4E8E webpack-loader \u4FEE\u6539\u6210 mpvue-loader</li><li>\u4F46\u662F\u914D\u7F6E\u65B9\u5F0F\u8FD8\u662F\u7C7B\u4F3C\uFF0C\u5206\u73AF\u5883\u914D\u7F6E\u6587\u4EF6\uFF0C\u6700\u7EC8\u90FD\u4F1A\u7F16\u8BD1\u6210\u5C0F\u7A0B\u5E8F\u652F\u6301\u7684\u76EE\u5F55\u7ED3\u6784\u548C\u6587\u4EF6\u540E\u7F00\u3002</li></ul><h3 id="\u7EFC\u5408\u6BD4\u8F83" tabindex="-1"><a class="header-anchor" href="#\u7EFC\u5408\u6BD4\u8F83" aria-hidden="true">#</a> \u7EFC\u5408\u6BD4\u8F83</h3><table><thead><tr><th>\u5BF9\u6BD4\\\u6846\u67B6</th><th>\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F</th><th>mpvue</th><th>wepy</th></tr></thead><tbody><tr><td>\u8BED\u6CD5\u89C4\u8303</td><td>\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u89C4\u8303</td><td>vue.js</td><td>\u7C7Bvue.js</td></tr><tr><td>\u6807\u7B7E\u96C6\u5408</td><td>\u5C0F\u7A0B\u5E8F</td><td>htm l + \u5C0F\u7A0B\u5E8F</td><td>\u5C0F\u7A0B\u5E8F</td></tr><tr><td>\u6837\u5F0F\u89C4\u8303</td><td>wxss</td><td>sass,less,postcss</td><td>sass,less,styus</td></tr><tr><td>\u7EC4\u4EF6\u5316</td><td>\u57FA\u7840\u5E93@2.2.3\u81EA\u5B9A\u4E49\u7EC4\u4EF6</td><td>vue\u89C4\u8303</td><td>\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u89C4\u8303</td></tr><tr><td>\u591A\u6BB5\u590D\u7528</td><td>\u4E0D\u53EF\u590D\u7528</td><td>\u652F\u6301h5</td><td>\u652F\u6301h5</td></tr><tr><td>\u81EA\u52A8\u6784\u5EFA</td><td>\u65E0\u81EA\u52A8\u6784\u5EFA</td><td>webpack</td><td>\u6846\u67B6\u5185\u7F6E</td></tr><tr><td>\u4E0A\u624B\u6210\u672C</td><td>\u5168\u65B0\u5B66\u4E60</td><td>vue \u5B66\u4E60</td><td>vue \u548C wepy</td></tr><tr><td>\u6570\u636E\u7BA1\u7406</td><td>\u4E0D\u652F\u6301</td><td>vuex</td><td>redux</td></tr></tbody></table><h3 id="\u9009\u578B\u7684\u4E2A\u4EBA\u770B\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u9009\u578B\u7684\u4E2A\u4EBA\u770B\u6CD5" aria-hidden="true">#</a> \u9009\u578B\u7684\u4E2A\u4EBA\u770B\u6CD5</h3><p>\u5148\u8BF4\u7ED3\u8BBA\uFF1A\u9009\u62E9 mpvue\u3002</p><p>wepy vs mpvue\u3002</p><p>\u7406\u7531\uFF1A</p>`,97),Ss=n("strong",null,"\u5DE5\u7A0B\u5316",-1),Vs=s(" \u539F\u751F\u5F00\u53D1\u56E0\u4E3A\u4E0D\u5E26\u5DE5\u7A0B\u5316\uFF0C\u8BF8\u5982NPM\u5305\uFF08\u672A\u6765\u4F1A\u5F15\u5165\uFF09\u3001ES7\u3001\u56FE\u7247\u538B\u7F29\u3001PostCss\u3001pug\u3001ESLint\u7B49\u7B49\u4E0D\u80FD\u7528\u3002\u5982\u679C\u81EA\u5DF1\u8981\u642D\u5DE5\u7A0B\u5316\uFF0C\u4E0D\u5982\u76F4\u63A5\u4F7F\u7528wepy\u6216mpvue\u3002mpvue\u548Cwepy\u90FD\u53EF\u4EE5\u548C\u5C0F\u7A0B\u5E8F\u539F\u751F\u5F00\u53D1\u6DF7\u5199\u3002"),Ts=n("a",{href:"#https://github.com/mpvue/examples/tree/master/echarts"},"\u53C2\u8003mpvue-echart",-1),Ms=s("\uFF0C"),Ds={href:"https://github.com/Tencent/wepy/issues/1560",target:"_blank",rel:"noopener noreferrer"},As=s("\u53C2\u8003wepy"),Es=s("\u3002 \u800C\u95EE\u9898\u5728\u4E8Ewepy\u6CA1\u6709\u5F15\u5165webpack(wepy@2.0.x\u4F9D\u7136\u6CA1\u6709\u5F15\u5165)\uFF0C\u4EE5\u4E0A\u8BF4\u7684\u8FD9\u4E9B\u4E1C\u897F\u90FD\u8981\u9020\u8F6E\u5B50\uFF08\u4F5C\u8005\u9020\u6216\u81EA\u5DF1\u9020\uFF09\u3002\u6CA1\u6709\u5F15\u5165 Webpack \u662F\u4E00\u4E2A\u91CD\u5927\u7684\u786C\u4F24\u3002\u793E\u533A\u7EF4\u62A4\u7684\u6210\u719F Webpack \u663E\u7136\u66F4\u7A33\u5B9A\uFF0C\u8F6E\u5B50\u66F4\u591A\u3002"),Ws=n("strong",null,"\u7EF4\u62A4",-1),Is=s(" wepy \u4E5F\u662F\u793E\u533A\u7EF4\u62A4\u7684\uFF0C\u662F\u5B98\u65B9\u7684\uFF1F\u5176\u5B9E wepy \u7684\u4E3B\u8981\u5F00\u53D1\u8005\u53EA\u6709\u4F5C\u8005\u4E00\u4EBA\uFF0C\u9644\u4E0A\u4E00\u4E2A"),Bs={href:"https://github.com/Tencent/wepy/graphs/contributors",target:"_blank",rel:"noopener noreferrer"},Ls=s("contrubutors"),Os=s("\u94FE\u63A5\u3002\u53E6\u5916\u88AB\u5B98\u65B9\u62DB\u5B89\u4E86\u4E5F\u662F\u540E\u6765\u7684\u4E8B\uFF0C\u518D\u8BF4\u817E\u8BAF\u8981\u6709\u7CBE\u529B\u5E2E\u7740\u4E00\u8D77\u7EF4\u62A4\u597D wepy\uFF0C\u4E3A\u4EC0\u4E48\u4E0D\u82B1\u7CBE\u529B\u5728\u5C0F\u7A0B\u5E8F\u539F\u751F\u5F00\u53D1\u4E0A\u5462\uFF1F\u518D\u6765\u770B\u770B mpvue\uFF0C\u662F\u7F8E\u56E2\u4E00\u4E2A\u524D\u7AEF\u5C0F\u7EC4\u7EF4\u62A4\u7684\u3002"),Fs=n("p",null,[n("strong",null,"\u5B66\u4E60\u6210\u672C"),s(" Vue \u7684\u5B66\u4E60\u66F2\u7EBF\u6BD4\u8F83\u5E73\u7F13\u3002mpvue \u662F Vue\u7684\u5B50\u96C6\u3002\u6240\u4EE5 mpvue \u7684\u5B66\u4E60\u6210\u672C\u4F1A\u4F4E\u4E8E wepy\u3002\u5C24\u5176\u662F\u4E4B\u524D\u6280\u672F\u6808\u6709\u5B66\u8FC7\u7528\u8FC7 Vue \u7684\u3002")],-1),Rs=n("p",null,[n("strong",null,"\u672A\u6765\u89C4\u5212"),s(" mpvue \u5DF2\u7ECF\u652F\u6301 web \u548C\u5C0F\u7A0B\u5E8F\u3002\u56E0\u4E3A mpvue \u57FA\u4E8EAST\uFF0C\u6240\u4EE5\u672A\u6765\u53EF\u4EE5\u652F\u6301\u652F\u4ED8\u5B9D\u5C0F\u7A0B\u5E8F\u548C\u5FEB\u5E94\u7528\u3002\u4ED6\u4EEC\u4E5F\u662F\u6709\u8FD9\u6837\u7684\u89C4\u5212\u3002")],-1),Hs=n("p",null,[s("\u8BF7\u5728\u9700\u6C42\u6C60\u4E0B\u9762\u81EA\u5DF1\u627E "),n("img",{src:"https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-043107.jpg",alt:"mpvue-feature"})],-1),$s=n("strong",null,"\u5751",-1),Js=s(" \u4E24\u8005\u90FD\u6709\u5404\u81EA\u7684\u5751\u3002\u4F46\u662F\u6211\u89C9\u5F97\u6709\u4E00\u4E9Bwepy\u7684\u5751\u662F\u6CA1\u6CD5\u5BB9\u5FCD\u7684\u3002\u6BD4\u5982"),Ns={href:"https://github.com/Tencent/wepy/issues/1231",target:"_blank",rel:"noopener noreferrer"},zs=s("repeat\u7EC4\u5EFA\u91CC\u9762\u7528computed\u5F97\u5230\u7684\u5217\u8868\u5168\u662F\u540C\u4E00\u5957\u6570\u636E"),Us=s("\u800C\u4E141.x\u662F\u6CA1\u6CD5\u89E3\u51B3\u7684\u3002 wepy\u548Cmpvue\u6211\u90FD\u5F00\u53D1\u8FC7\u5B8C\u6574\u5C0F\u7A0B\u5E8F\u7684\u4F53\u9A8C\u4E0B\uFF0C\u6211\u89C9\u5F97wepy\u7684\u5751\u66F4\u591A\uFF0C\u800C\u4E14wepy\u6709\u4E9B\u5751\u788D\u4E8E\u67B6\u6784\u8BBE\u8BA1\u6CA1\u529E\u6CD5\u89E3\u51B3\u3002"),Gs=t('<h2 id="mpvue" tabindex="-1"><a class="header-anchor" href="#mpvue" aria-hidden="true">#</a> mpvue</h2><blockquote><p>Vue.js \u5C0F\u7A0B\u5E8F\u7248, fork \u81EA vuejs/vue@2.4.1\uFF0C\u4FDD\u7559\u4E86 vue runtime \u80FD\u529B\uFF0C\u6DFB\u52A0\u4E86\u5C0F\u7A0B\u5E8F\u5E73\u53F0\u7684\u652F\u6301\u3002 <code>mpvue</code> \u662F\u4E00\u4E2A\u4F7F\u7528 <code>Vue.js</code> \u5F00\u53D1\u5C0F\u7A0B\u5E8F\u7684\u524D\u7AEF\u6846\u67B6\u3002\u6846\u67B6\u57FA\u4E8E <code>Vue.js</code> \u6838\u5FC3\uFF0C<code>mpvue</code> \u4FEE\u6539\u4E86 <code>Vue.js</code> \u7684 runtime \u548C compiler \u5B9E\u73B0\uFF0C\u4F7F\u5176\u53EF\u4EE5\u8FD0\u884C\u5728\u5C0F\u7A0B\u5E8F\u73AF\u5883\u4E2D\uFF0C\u4ECE\u800C\u4E3A\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u5F15\u5165\u4E86\u6574\u5957 <code>Vue.js</code> \u5F00\u53D1\u4F53\u9A8C\u3002</p></blockquote><h3 id="\u6846\u67B6\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#\u6846\u67B6\u539F\u7406" aria-hidden="true">#</a> \u6846\u67B6\u539F\u7406</h3><p><strong>\u4E24\u4E2A\u5927\u65B9\u5411</strong></p><ul><li>\u901A\u8FC7<code>mpvue</code>\u63D0\u4F9B mp \u7684 runtime \u9002\u914D\u5C0F\u7A0B\u5E8F</li><li>\u901A\u8FC7<code>mpvue-loader</code>\u4EA7\u51FA\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6240\u9700\u8981\u7684\u6587\u4EF6\u7ED3\u6784\u548C\u6A21\u5757\u5185\u5BB9\u3002</li></ul><p><strong>\u4E03\u4E2A\u5177\u4F53\u95EE\u9898</strong></p>',6),Xs=s("\u8981\u4E86\u89E3 mpvue \u539F\u7406\u5FC5\u7136\u8981\u4E86\u89E3 Vue \u539F\u7406\uFF0C\u8FD9\u662F\u5927\u524D\u63D0\u3002\u4F46\u662F\u8981\u8BB2\u6E05\u695A Vue \u539F\u7406\u9700\u8981\u82B1\u8D39\u5927\u91CF\u7684\u7BC7\u5E45\uFF0C\u4E0D\u5982\u53C2\u8003"),Ks={href:"https://github.com/answershuto/learnVue",target:"_blank",rel:"noopener noreferrer"},Qs=s("learnVue"),Ys=s("\u3002"),Zs=n("p",null,"\u73B0\u5728\u5047\u8BBE\u60A8\u5BF9 Vue \u539F\u7406\u6709\u4E2A\u5927\u6982\u7684\u4E86\u89E3\u3002",-1),na=s("\u7531\u4E8E Vue \u4F7F\u7528\u4E86 Virtual DOM\uFF0C\u6240\u4EE5 Virtual DOM \u53EF\u4EE5\u5728\u4EFB\u4F55\u652F\u6301 JavaScript \u8BED\u8A00\u7684\u5E73\u53F0\u4E0A\u64CD\u4F5C\uFF0C\u8B6C\u5982\u8BF4\u76EE\u524D Vue \u652F\u6301\u6D4F\u89C8\u5668\u5E73\u53F0\u6216 weex\uFF0C\u4E5F\u53EF\u4EE5\u662F mp(\u5C0F\u7A0B\u5E8F)\u3002\u90A3\u4E48\u6700\u540E Virtual DOM \u5982\u4F55\u6620\u5C04\u5230\u771F\u5B9E\u7684 DOM \u8282\u70B9\u4E0A\u5462\uFF1Fvue\u4E3A\u5E73\u53F0\u505A\u4E86\u4E00\u5C42\u9002\u914D\u5C42\uFF0C\u6D4F\u89C8\u5668\u5E73\u53F0\u89C1 "),sa={href:"https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/web/runtime/node-ops.js",target:"_blank",rel:"noopener noreferrer"},aa=s("runtime/node-ops.js"),pa=s("\u3001weex\u5E73\u53F0\u89C1"),ta={href:"https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/weex/runtime/node-ops.js",target:"_blank",rel:"noopener noreferrer"},ea=s("runtime/node-ops.js"),oa=s("\uFF0C\u5C0F\u7A0B\u5E8F\u89C1"),ca={href:"https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/mp/runtime/node-ops.js",target:"_blank",rel:"noopener noreferrer"},la=s("runtime/node-ops.js"),ra=s("\u3002\u4E0D\u540C\u5E73\u53F0\u4E4B\u95F4\u901A\u8FC7\u9002\u914D\u5C42\u5BF9\u5916\u63D0\u4F9B\u76F8\u540C\u7684\u63A5\u53E3\uFF0CVirtual DOM\u8FDB\u884C\u64CD\u4F5CReal DOM\u8282\u70B9\u7684\u65F6\u5019\uFF0C\u53EA\u9700\u8981\u8C03\u7528\u8FD9\u4E9B\u9002\u914D\u5C42\u7684\u63A5\u53E3\u5373\u53EF\uFF0C\u800C\u5185\u90E8\u5B9E\u73B0\u5219\u4E0D\u9700\u8981\u5173\u5FC3\uFF0C\u5B83\u4F1A\u6839\u636E\u5E73\u53F0\u7684\u6539\u53D8\u800C\u6539\u53D8\u3002"),ua=n("p",null,[s("\u6240\u4EE5\u601D\u8DEF\u80AF\u5B9A\u662F\u5F80\u589E\u52A0\u4E00\u4E2A mp \u5E73\u53F0\u7684 runtime \u65B9\u5411\u8D70\u3002\u4F46\u95EE\u9898\u662F\u5C0F\u7A0B\u5E8F\u4E0D\u80FD\u64CD\u4F5C DOM\uFF0C\u6240\u4EE5 mp \u4E0B\u7684"),n("code",null,"node-ops.js"),s(" \u91CC\u9762\u7684\u5B9E\u73B0\u90FD\u662F\u76F4\u63A5 "),n("code",null,"return obj"),s("\u3002")],-1),ia=n("p",null,[s("\u65B0 Virtual DOM \u548C\u65E7 Virtual DOM \u4E4B\u95F4\u9700\u8981\u505A\u4E00\u4E2A patch\uFF0C\u627E\u51FA diff\u3002patch\u5B8C\u4E86\u4E4B\u540E\u7684 diff \u600E\u4E48\u66F4\u65B0\u89C6\u56FE\uFF0C\u4E5F\u5C31\u662F\u5982\u4F55\u7ED9\u8FD9\u4E9B DOM \u52A0\u5165 attr\u3001class\u3001style \u7B49 DOM \u5C5E\u6027\u5462\uFF1F Vue \u4E2D\u6709 nextTick \u7684\u6982\u5FF5\u7528\u4EE5\u66F4\u65B0\u89C6\u56FE\uFF0Cmpvue\u8FD9\u5757\u5BF9\u4E8E\u5C0F\u7A0B\u5E8F\u7684 "),n("code",null,"setData"),s(" \u5E94\u8BE5\u600E\u4E48\u5904\u7406\u5462\uFF1F")],-1),ka=s("\u53E6\u5916\u4E2A\u95EE\u9898\u5728\u4E8E\u5C0F\u7A0B\u5E8F\u7684 Virtual DOM \u600E\u4E48\u751F\u6210\uFF1F\u4E5F\u5C31\u662F\u600E\u4E48\u5C06 template \u7F16\u8BD1\u6210"),ba=n("code",null,"render function",-1),ma=s("\u3002\u8FD9\u5F53\u4E2D\u8FD8\u6D89\u53CA\u5230"),da={href:"https://cn.vuejs.org/v2/guide/installation.html#%E8%BF%90%E8%A1%8C%E6%97%B6-%E7%BC%96%E8%AF%91%E5%99%A8-vs-%E5%8F%AA%E5%8C%85%E5%90%AB%E8%BF%90%E8%A1%8C%E6%97%B6",target:"_blank",rel:"noopener noreferrer"},ha=s("\u8FD0\u884C\u65F6-\u7F16\u8BD1\u5668-vs-\u53EA\u5305\u542B\u8FD0\u884C\u65F6"),ga=s("\uFF0C\u663E\u7136\u5982\u679C\u8981\u63D0\u9AD8\u6027\u80FD\u3001\u51CF\u5C11\u5305\u5927\u5C0F\u3001\u8F93\u51FA wxml\u3001mpvue \u4E5F\u8981\u63D0\u4F9B\u9884\u7F16\u8BD1\u7684\u80FD\u529B\u3002\u56E0\u4E3A\u8981\u9884\u8F93\u51FA wxml \u4E14\u6CA1\u6CD5\u52A8\u6001\u6539\u53D8 DOM\uFF0C\u6240\u4EE5\u52A8\u6001\u7EC4\u4EF6\uFF0C\u81EA\u5B9A\u4E49 render\uFF0C\u548C"),ya=n("code",null,'<script type="text/x-template">',-1),_a=s(" \u5B57\u7B26\u4E32\u6A21\u7248\u7B49\u90FD\u4E0D\u652F\u6301("),va={href:"http://mpvue.com/mpvue/#_15",target:"_blank",rel:"noopener noreferrer"},fa=s("\u53C2\u8003"),wa=s(")\u3002"),xa=t(`<p>\u53E6\u5916\u8FD8\u6709\u4E00\u4E9B\u5176\u4ED6\u95EE\u9898\uFF0C\u6700\u540E\u603B\u7ED3\u4E00\u4E0B</p><ul><li>1.\u5982\u4F55\u9884\u7F16\u8BD1\u751F\u6210<code>render function</code></li><li>2.\u5982\u4F55\u9884\u7F16\u8BD1\u751F\u6210 wxml\uFF0Cwxss\uFF0Cwxs</li><li>3.\u5982\u4F55 patch \u51FA diff</li><li>4.\u5982\u4F55\u66F4\u65B0\u89C6\u56FE</li><li>5.\u5982\u4F55\u5EFA\u7ACB\u5C0F\u7A0B\u5E8F\u4E8B\u4EF6\u4EE3\u7406\u673A\u5236\uFF0C\u5728\u4E8B\u4EF6\u4EE3\u7406\u51FD\u6570\u4E2D\u89E6\u53D1\u4E0E\u4E4B\u5BF9\u5E94\u7684vue\u7EC4\u4EF6\u4E8B\u4EF6\u54CD\u5E94</li><li>6.\u5982\u4F55\u5EFA\u7ACBvue\u5B9E\u4F8B\u4E0E\u5C0F\u7A0B\u5E8F Page \u5B9E\u4F8B\u5173\u8054</li><li>7.\u5982\u4F55\u5EFA\u7ACB\u5C0F\u7A0B\u5E8F\u548Cvue\u751F\u547D\u5468\u671F\u6620\u5C04\u5173\u7CFB\uFF0C\u80FD\u5728\u5C0F\u7A0B\u5E8F\u751F\u547D\u5468\u671F\u4E2D\u89E6\u53D1vue\u751F\u547D\u5468\u671F</li></ul><p><strong><a href="(https://github.com/Meituan-Dianping/mpvue/tree/master/src/platforms/mp)">platform/mp\u7684\u76EE\u5F55\u7ED3\u6784</a></strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>.
\u251C\u2500\u2500 compiler //\u89E3\u51B3\u95EE\u98981\uFF0Cmpvue-template-compiler\u6E90\u7801\u90E8\u5206
\u251C\u2500\u2500 runtime //\u89E3\u51B3\u95EE\u98983 4 5 6 7
\u251C\u2500\u2500 util //\u5DE5\u5177\u65B9\u6CD5
\u251C\u2500\u2500 entry-compiler.js //mpvue-template-compiler\u7684\u5165\u53E3\u3002package.json\u76F8\u5173\u547D\u4EE4\u4F1A\u81EA\u52A8\u751F\u6210mpvue-template-compiler\u8FD9\u4E2Apackage\u3002
\u251C\u2500\u2500 entry-runtime.js //\u5BF9\u5916\u63D0\u4F9BVue\u5BF9\u8C61\uFF0C\u5F53\u7136\u662Fmpvue
\u2514\u2500\u2500 join-code-in-build.js //\u7F16\u8BD1\u51FASDK\u65F6\u7684\u4FEE\u590D
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>\u540E\u9762\u7684\u5185\u5BB9\u9010\u6B65\u89E3\u7B54\u8FD9\u51E0\u4E2A\u95EE\u9898\uFF0C\u4E5F\u5C31\u5F04\u660E\u767D\u4E86\u539F\u7406</strong></p><h4 id="mpvue-loader" tabindex="-1"><a class="header-anchor" href="#mpvue-loader" aria-hidden="true">#</a> mpvue-loader</h4>`,6),qa={href:"https://github.com/mpvue/mpvue-loader",target:"_blank",rel:"noopener noreferrer"},ja=s("mpvue-loader"),Pa=s(" \u662F "),Ca={href:"https://github.com/vuejs/vue-loader",target:"_blank",rel:"noopener noreferrer"},Sa=s("vue-loader"),Va=s(" \u7684\u4E00\u4E2A\u6269\u5C55\u5EF6\u4F38\u7248\uFF0C\u7C7B\u4F3C\u4E8E\u8D85\u96C6\u7684\u5173\u7CFB\uFF0C\u9664\u4E86"),Ta={href:"https://github.com/vuejs/vue-loader",target:"_blank",rel:"noopener noreferrer"},Ma=s("vue-loader"),Da=s(" \u672C\u8EAB\u6240\u5177\u5907\u7684\u80FD\u529B\u4E4B\u5916\uFF0C\u5B83\u8FD8\u4F1A\u5229\u7528"),Aa={href:"https://github.com/Meituan-Dianping/mpvue/tree/master/packages/mpvue-template-compiler",target:"_blank",rel:"noopener noreferrer"},Ea=s("mpvue-template-compiler"),Wa=s("\u751F\u6210"),Ia=n("code",null,"render function",-1),Ba=s("\u3002"),La=t(`<ul><li>entry</li></ul><p>\u5B83\u4F1A\u4ECE <code>webpack</code> \u7684\u914D\u7F6E\u4E2D\u7684 entry \u5F00\u59CB\uFF0C\u5206\u6790\u4F9D\u8D56\u6A21\u5757\uFF0C\u5E76\u5206\u522B\u6253\u5305\u3002\u5728entry \u4E2D app \u5C5E\u6027\u53CA\u5176\u5185\u5BB9\u4F1A\u88AB\u6253\u5305\u4E3A\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6240\u9700\u8981\u7684 app.js\uFF0Fapp.json\uFF0Fapp.wxss\uFF0C\u5176\u4F59\u7684\u4F1A\u751F\u6210\u5BF9\u5E94\u7684\u9875\u9762page.js/page.json/page.wxml/page.wxss\uFF0C\u5982\u793A\u4F8B\u7684 entry \u5C06\u4F1A\u751F\u6210\u5982\u4E0B\u8FD9\u4E9B\u6587\u4EF6\uFF0C\u6587\u4EF6\u5185\u5BB9\u4E0B\u6587\u6162\u6162\u8BB2\u6765\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">app</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./src/main.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>               <span class="token comment">// app \u5B57\u6BB5\u88AB\u8BC6\u522B\u4E3A app \u7C7B\u578B</span>
        <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./src/pages/index/main.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">// \u5176\u4F59\u5B57\u6BB5\u88AB\u8BC6\u522B\u4E3A page \u7C7B\u578B</span>
        <span class="token string-property property">&#39;news/home&#39;</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./src/pages/news/home/index.js&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u4EA7\u51FA\u6587\u4EF6\u7684\u7ED3\u6784</span>
<span class="token punctuation">.</span>
\u251C\u2500\u2500 app<span class="token punctuation">.</span>js
\u251C\u2500\u2500 app<span class="token punctuation">.</span>json
\u251C\u2500\u2500\xB7 app<span class="token punctuation">.</span>wxss
\u251C\u2500\u2500 components
\u2502   \u251C\u2500\u2500 card$74bfae61<span class="token punctuation">.</span>wxml
\u2502   \u251C\u2500\u2500 index$023eef02<span class="token punctuation">.</span>wxml
\u2502   \u2514\u2500\u2500 news$0699930b<span class="token punctuation">.</span>wxml
\u251C\u2500\u2500 news
\u2502   \u251C\u2500\u2500 home<span class="token punctuation">.</span>js
\u2502   \u251C\u2500\u2500 home<span class="token punctuation">.</span>wxml
\u2502   \u2514\u2500\u2500 home<span class="token punctuation">.</span>wxss
\u251C\u2500\u2500 pages
\u2502   \u2514\u2500\u2500 index
\u2502       \u251C\u2500\u2500 index<span class="token punctuation">.</span>js
\u2502       \u251C\u2500\u2500 index<span class="token punctuation">.</span>wxml
\u2502       \u2514\u2500\u2500 index<span class="token punctuation">.</span>wxss
\u2514\u2500\u2500 <span class="token keyword">static</span>
    \u251C\u2500\u2500 css
    \u2502   \u251C\u2500\u2500 app<span class="token punctuation">.</span>wxss
    \u2502   \u251C\u2500\u2500 index<span class="token punctuation">.</span>wxss
    \u2502   \u2514\u2500\u2500 news
    \u2502       \u2514\u2500\u2500 home<span class="token punctuation">.</span>wxss
    \u2514\u2500\u2500 js
        \u251C\u2500\u2500 app<span class="token punctuation">.</span>js
        \u251C\u2500\u2500 index<span class="token punctuation">.</span>js
        \u251C\u2500\u2500 manifest<span class="token punctuation">.</span>js
        \u251C\u2500\u2500 news
        \u2502   \u2514\u2500\u2500 home<span class="token punctuation">.</span>js
        \u2514\u2500\u2500 vendor<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><ul><li>wxml \u6BCF\u4E00\u4E2A <code>.vue</code> \u7684\u7EC4\u4EF6\u90FD\u4F1A\u88AB\u751F\u6210\u4E3A\u4E00\u4E2A wxml \u89C4\u8303\u7684 template\uFF0C\u7136\u540E\u901A\u8FC7 wxml \u89C4\u8303\u7684 import \u8BED\u6CD5\u6765\u8FBE\u5230\u4E00\u4E2A\u590D\u7528\uFF0C\u540C\u65F6\u7EC4\u4EF6\u5982\u679C\u6D89\u53CA\u5230 props \u7684 data \u6570\u636E\uFF0C\u6211\u4EEC\u4E5F\u4F1A\u505A\u76F8\u5E94\u7684\u5904\u7406\uFF0C\u4E3E\u4E2A\u5B9E\u9645\u7684\u4F8B\u5B50\uFF1A</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-component<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>other-component</span> <span class="token attr-name">:msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>other-component</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> otherComponent <span class="token keyword">from</span> <span class="token string">&#39;./otherComponent.vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> otherComponent <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;Hello Vue.js!&#39;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>\u8FD9\u6837\u4E00\u4E2A Vue \u7684\u7EC4\u4EF6\u7684\u6A21\u7248\u90E8\u5206\u4F1A\u751F\u6210\u76F8\u5E94\u7684 wxml</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>components/other-component$hash.wxml<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>component$hash<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-component<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleProxy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_h1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>other-component$hash<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ $c[0] }}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ ...$c[0] }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u53EF\u80FD\u5DF2\u7ECF\u6CE8\u610F\u5230\u4E86 other-component(:msg=&quot;msg&quot;) \u88AB\u8F6C\u5316\u6210\u4E86</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>other-component$hash<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ ...$c[0] }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>mpvue \u5728\u8FD0\u884C\u65F6\u4F1A\u4ECE\u6839\u7EC4\u4EF6\u5F00\u59CB\u628A\u6240\u6709\u7684\u7EC4\u4EF6\u5B9E\u4F8B\u6570\u636E\u5408\u5E76\u6210\u4E00\u4E2A\u6811\u5F62\u7684\u6570\u636E\uFF0C\u7136\u540E\u901A\u8FC7 setData \u5230 appData,<code>$c </code>\u662F $children \u7684\u7F29\u5199\u3002\u81F3\u4E8E\u90A3\u4E2A 0 \u5219\u662F\u6211\u4EEC\u7684 compiler \u5904\u7406\u8FC7\u540E\u7684\u4E00\u4E2A\u6807\u8BB0\uFF0C\u4F1A\u4E3A\u6BCF\u4E00\u4E2A\u5B50\u7EC4\u4EF6\u6253\u4E00\u4E2A\u7279\u5B9A\u7684\u4E0D\u91CD\u590D\u7684\u6807\u8BB0\u3002 \u6811\u5F62\u6570\u636E\u7ED3\u6784\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8FD9\u513F\u6570\u636E\u7ED3\u6784\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0Cindex \u662F\u52A8\u6001\u7684</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">$child</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;0&#39;</span><span class="token punctuation">{</span>
      <span class="token comment">// ... root data</span>
      <span class="token literal-property property">$child</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;0&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// ... data</span>
          <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;Hello Vue.js!&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">$child</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...data</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>wxss</li></ul><p>\u8FD9\u4E2A\u90E8\u5206\u7684\u5904\u7406\u540C web \u7684\u5904\u7406\u5DEE\u5F02\u4E0D\u5927\uFF0C\u552F\u4E00\u4E0D\u540C\u5728\u4E8E\u901A\u8FC7\u914D\u7F6E\u751F\u6210 .css \u4E3A .wxss \uFF0C\u5176\u4E2D\u7684\u5BF9\u4E8E css \u7684\u82E5\u5E72\u5904\u7406\uFF0C\u5728 postcss-mpvue-wxss \u548C px2rpx-loader \u8FD9\u4E24\u90E8\u5206\u7684\u6587\u6863\u4E2D\u53C8\u8BE6\u7EC6\u7684\u4ECB\u7ECD\u3002</p><p>app.json\uFF0Fpage.json 1.1.1 \u4EE5\u4E0A</p><p>\u63A8\u8350\u548C\u5C0F\u7A0B\u5E8F\u4E00\u6837\uFF0C\u5C06 app.json\uFF0Fpage.json \u653E\u5230\u9875\u9762\u5165\u53E3\u5904\uFF0C\u4F7F\u7528 copy-webpack-plugin copy \u5230\u5BF9\u5E94\u7684\u751F\u6210\u4F4D\u7F6E\u3002</p><p>1.1.1 \u4EE5\u4E0B</p><p>\u8FD9\u90E8\u5206\u5185\u5BB9\u6765\u6E90\u4E8E app \u548C page \u7684 entry \u6587\u4EF6\uFF0C\u901A\u5E38\u4E60\u60EF\u662F main.js\uFF0C\u4F60\u9700\u8981\u5728\u4F60\u7684\u5165\u53E3\u6587\u4EF6\u4E2D export default { config: {} }\uFF0C\u8FD9\u624D\u80FD\u88AB\u6211\u4EEC\u7684 loader \u8BC6\u522B\u4E3A\u8FD9\u662F\u4E00\u4E2A\u914D\u7F6E\uFF0C\u9700\u8981\u5199\u6210 json \u6587\u4EF6\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./app&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> vueApp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
vueApp<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u8FD9\u4E2A\u662F\u6211\u4EEC\u7EA6\u5B9A\u7684\u989D\u5916\u7684\u914D\u7F6E</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8FD9\u4E2A\u5B57\u6BB5\u4E0B\u7684\u6570\u636E\u4F1A\u88AB\u586B\u5145\u5230 app.json \uFF0F page.json</span>
    <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">pages</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;static/calendar/calendar&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;^pages/list/list&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Will be filled in webpack</span>
        <span class="token literal-property property">window</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">backgroundTextStyle</span><span class="token operator">:</span> <span class="token string">&#39;light&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">navigationBarBackgroundColor</span><span class="token operator">:</span> <span class="token string">&#39;#455A73&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">navigationBarTitleText</span><span class="token operator">:</span> <span class="token string">&#39;\u7F8E\u56E2\u6C7D\u8F66\u7968&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">navigationBarTextStyle</span><span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>\u540C\u65F6\uFF0C\u8FD9\u4E2A\u65F6\u5019\uFF0C\u6211\u4EEC\u4F1A\u6839\u636E entry \u7684\u9875\u9762\u6570\u636E\uFF0C\u81EA\u52A8\u586B\u5145\u5230 app.json \u4E2D\u7684 pages \u5B57\u6BB5\u3002 pages \u5B57\u6BB5\u4E5F\u662F\u53EF\u4EE5\u81EA\u5B9A\u4E49\u7684\uFF0C\u7EA6\u5B9A\u5E26\u6709 ^ \u7B26\u53F7\u5F00\u5934\u7684\u9875\u9762\uFF0C\u4F1A\u653E\u5230\u6570\u7EC4\u7684\u6700\u524D\u9762\u3002</p><p>style scoped \u5728 vue-loader \u4E2D\u5BF9 style scoped \u7684\u5904\u7406\u65B9\u5F0F\u662F\u7ED9\u6BCF\u4E2A\u6837\u5F0F\u52A0\u4E00\u4E2A attr \u6765\u6807\u8BB0 module-id\uFF0C\u7136\u540E\u5728 css \u4E2D\u4E5F\u7ED9\u6BCF\u6761 rule \u540E\u6DFB\u52A0 [module-id]\uFF0C\u6700\u7EC8\u53EF\u4EE5\u5F62\u6210\u4E00\u4E2A css \u7684\u201C\u4F5C\u7528\u57DF\u7A7A\u95F4\u201D\u3002</p><p>\u5728\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u4E2D\u76EE\u524D\u662F\u4E0D\u652F\u6301 attr \u9009\u62E9\u5668\u7684\uFF0C\u6240\u4EE5\u6211\u4EEC\u505A\u4E86\u4E00\u70B9\u6539\u52A8\uFF0C\u628A attr \u4E0A\u7684 [module-id] \u76F4\u63A5\u5199\u5230\u4E86 class \u91CC\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- .vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        // ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.container</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- vue-loader --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-v-23e58823</span><span class="token punctuation">&gt;</span></span>
        // ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.container[data-v-23e58823]</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- mpvue-loader --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container data-v-23e58823<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        // ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.container.data-v-23e58823</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><ul><li>compiler</li></ul><p>\u751F\u4EA7\u51FA\u7684\u5185\u5BB9\u662F\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> __webpack_exports__<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// mpvue-template-compiler\u4F1A\u5229\u7528AST\u9884\u7F16\u8BD1\u751F\u6210\u4E00\u4E2Arender function\u7528\u4EE5\u751F\u6210Virtual DOM\u3002</span>
<span class="token keyword">var</span> <span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">var</span> _vm<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token keyword">var</span> _h<span class="token operator">=</span>_vm<span class="token punctuation">.</span>$createElement<span class="token punctuation">;</span><span class="token keyword">var</span> _c<span class="token operator">=</span>_vm<span class="token punctuation">.</span>_self<span class="token punctuation">.</span>_c<span class="token operator">||</span>_h<span class="token punctuation">;</span>
  <span class="token comment">// _c\u521B\u5EFA\u865A\u62DF\u8282\u70B9\uFF0C\u53C2\u8003https://github.com/Meituan-Dianping/mpvue/blob/master/packages/mpvue/index.js#L3606</span>
  <span class="token comment">// \u4EE5\u53CAhttps://github.com/Meituan-Dianping/mpvue/blob/master/packages/mpvue/index.js#L3680</span>
  <span class="token keyword">return</span> <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">staticClass</span><span class="token operator">:</span> <span class="token string">&quot;my-component&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">&#39;h1&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>_vm<span class="token punctuation">.</span><span class="token function">_v</span><span class="token punctuation">(</span>_vm<span class="token punctuation">.</span><span class="token function">_s</span><span class="token punctuation">(</span>_vm<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _vm<span class="token punctuation">.</span><span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">&#39;other-component&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;msg&quot;</span><span class="token operator">:</span> _vm<span class="token punctuation">.</span>msg<span class="token punctuation">,</span>
      <span class="token string-property property">&quot;mpcomid&quot;</span><span class="token operator">:</span> <span class="token string">&#39;0&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// staticRenderFns\u7684\u4F5C\u7528\u662F\u9759\u6001\u6E32\u67D3\uFF0C\u5728\u66F4\u65B0\u65F6\u4E0D\u4F1A\u8FDB\u884Cpatch\uFF0C\u4F18\u5316\u6027\u80FD\u3002\u800CstaticRenderFns\u662F\u4E2A\u7A7A\u6570\u7EC4\u3002</span>
<span class="token keyword">var</span> staticRenderFns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
render<span class="token punctuation">.</span>_withStripped <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token keyword">var</span> esExports <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">render</span><span class="token operator">:</span> render<span class="token punctuation">,</span> <span class="token literal-property property">staticRenderFns</span><span class="token operator">:</span> staticRenderFns <span class="token punctuation">}</span>
<span class="token comment">/* harmony default export */</span> __webpack_exports__<span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>esExports<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vue-hot-reload-api&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rerender</span><span class="token punctuation">(</span><span class="token string">&quot;data-v-54ad9125&quot;</span><span class="token punctuation">,</span> esExports<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/***/ <span class="token punctuation">}</span>)
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h4 id="compiler" tabindex="-1"><a class="header-anchor" href="#compiler" aria-hidden="true">#</a> compiler</h4>`,26),Oa=s("compiler\u76F8\u5173\uFF0C\u4E5F\u5C31\u662Ftemplate\u9884\u7F16\u8BD1\u8FD9\u5757\uFF0C\u53EF\u4EE5\u53C2\u8003\u300A"),Fa={href:"https://github.com/answershuto/learnVue/blob/master/docs/%E8%81%8A%E8%81%8AVue%E7%9A%84template%E7%BC%96%E8%AF%91.MarkDown#createcompiler",target:"_blank",rel:"noopener noreferrer"},Ra=s("\u804A\u804AVue\u7684template\u7F16\u8BD1"),Ha=s("\u300B\u6765\u641E\u660E\u767D\u3002\u539F\u7406\u662F\u4E00\u6837\u7684\u3002"),$a=s("mpvue\u81EA\u5DF1\u5B9E\u73B0\u4E86"),Ja=n("code",null,"export { compile, compileToFunctions, compileToWxml }",-1),Na=s("("),za={href:"https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/mp/compiler/index.js",target:"_blank",rel:"noopener noreferrer"},Ua=s("\u94FE\u63A5"),Ga=s(")\u5176\u4E2D"),Xa=n("code",null,"compileToWxml",-1),Ka=s("\u662F\u7528\u6765\u751F\u6210wxml\uFF0C\u5177\u4F53\u4EE3\u7801"),Qa={href:"https://github.com/mpvue/mpvue-loader/blob/master/lib/mp-compiler/index.js#L30",target:"_blank",rel:"noopener noreferrer"},Ya=s("\u5728\u8FD9"),Za=s("\u3002"),np=s("\u53E6\u5916mpvue\u662F\u4E0D\u9700\u8981\u63D0\u4F9B"),sp={href:"https://cn.vuejs.org/v2/guide/installation.html#%E8%BF%90%E8%A1%8C%E6%97%B6-%E7%BC%96%E8%AF%91%E5%99%A8-vs-%E5%8F%AA%E5%8C%85%E5%90%AB%E8%BF%90%E8%A1%8C%E6%97%B6",target:"_blank",rel:"noopener noreferrer"},ap=s("\u8FD0\u884C\u65F6-\u7F16\u8BD1\u5668"),pp=s("\u7684\uFF0C\u867D\u7136\u7406\u8BBA\u4E0A\u662F\u80FD\u591F\u505A\u5230\u7684\u3002\u56E0\u4E3A\u5C0F\u7A0B\u5E8F\u4E0D\u80FD\u64CD\u4F5CDOM\uFF0C\u5373\u4FBF\u63D0\u4F9B\u4E86\u8FD0\u884C\u65F6-\u7F16\u8BD1\u5668\u4E5F\u4EA7\u751F\u4E0D\u4E86\u754C\u9762\u3002"),tp=t(`<p>\u8BE6\u7EC6\u8BB2\u89E3compile\u8FC7\u7A0B\uFF1A</p><p>1.\u5C06vue\u6587\u4EF6\u89E3\u6790\u6210\u6A21\u677F\u5BF9\u8C61</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// mpvue-loader/lib/loader.js</span>
<span class="token keyword">var</span> parts <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sourceMap<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5047\u5982vue\u6587\u4EF6\u6E90\u7801\u5982\u4E0B:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;container-bg&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;home-container&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>home<span class="token operator">-</span>quotation<span class="token operator">-</span>view v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in lists&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> <span class="token operator">:</span>reason<span class="token operator">=</span><span class="token string">&quot;item.reason&quot;</span> <span class="token operator">:</span>stockList<span class="token operator">=</span><span class="token string">&quot;item.list&quot;</span> @itemViewClicked<span class="token operator">=</span><span class="token string">&quot;itemViewClicked&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;js&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> homeQuotationView <span class="token keyword">from</span> <span class="token string">&#39;@/components/homeQuotationView&#39;</span>
<span class="token keyword">import</span> topListApi <span class="token keyword">from</span> <span class="token string">&#39;@/api/topListApi&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">lists</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    homeQuotationView
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">loadRankList</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span>data<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> topListApi<span class="token punctuation">.</span><span class="token function">rankList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dateTime <span class="token operator">=</span> data<span class="token punctuation">.</span>dt
        <span class="token keyword">this</span><span class="token punctuation">.</span>lists <span class="token operator">=</span> data<span class="token punctuation">.</span>rankList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>item
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">itemViewClicked</span> <span class="token punctuation">(</span><span class="token parameter">quotationItem</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/pages/topListDetail/main?item=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>quotationItem<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onShow</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadRankList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;stylus&quot;</span> scoped<span class="token operator">&gt;</span>
  <span class="token punctuation">.</span>container<span class="token operator">-</span>bg
    width <span class="token number">100</span><span class="token operator">%</span>
    height <span class="token number">100</span><span class="token operator">%</span>
    background<span class="token operator">-</span>color #<span class="token constant">F2F4FA</span>

  <span class="token punctuation">.</span>home<span class="token operator">-</span>container
    width <span class="token number">100</span><span class="token operator">%</span>
    height <span class="token number">100</span><span class="token operator">%</span>
    overflow<span class="token operator">-</span>x hidden

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><p>\u8C03\u7528<code>parse(content, fileName, this.sourceMap)</code> \u51FD\u6570\u5F97\u5230\u7684\u7ED3\u679C\u5927\u81F4\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;template&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;\\n&lt;view class=&quot;container-bg&quot;&gt;\\n  &lt;view class=&quot;home-container&quot;&gt;\\n    &lt;home-quotation-view v-for=&quot;(item, index) in lists&quot; :key=&quot;index&quot; :reason=&quot;item.reason&quot; :stockList=&quot;item.list&quot; @itemViewClicked=&quot;itemViewClicked&quot; /&gt;\\n  &lt;/view&gt;\\n&lt;/view&gt;\\n&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">end</span><span class="token operator">:</span> <span class="token number">251</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">script</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;script&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;\\n\\n\\n\\n\\n\\n\\n\\n\\nimport homeQuotationView from \\&#39;@/components/homeQuotationView\\&#39;\\nimport topListApi from \\&#39;@/api/topListApi\\&#39;\\n\\nexport default {\\n  data () {\\n    return {\\n      lists: []\\n    }\\n  },\\n  components: {\\n    homeQuotationView\\n  },\\n  methods: {\\n    async loadRankList () {\\n      let {data} = await topListApi.rankList()\\n      if (data) {\\n        this.dateTime = data.dt\\n        this.lists = data.rankList.filter((item) =&gt; {\\n          return !!item\\n        })\\n      }\\n    },\\n    itemViewClicked (quotationItem) {\\n      wx.navigateTo({\\n        url: \`/pages/topListDetail/main?item=\${JSON.stringify(quotationItem)}\`\\n      })\\n    }\\n  },\\n  onShow () {\\n    this.loadRankList()\\n  }\\n}\\n&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token number">282</span><span class="token punctuation">,</span>
    <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">&#39;js&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">&#39;js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">end</span><span class="token operator">:</span> <span class="token number">946</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">styles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;style&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.container-bg\\n  width 100%\\n  height 100%\\n  background-color #F2F4FA\\n\\n.home-container\\n  width 100%\\n  height 100%\\n  overflow-x hidden\\n\\n&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token number">985</span><span class="token punctuation">,</span>
    <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">&#39;stylus&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">scoped</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">end</span><span class="token operator">:</span> <span class="token number">1135</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">customBlocks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>2.\u8C03\u7528mpvue-loader/lib/template-compiler/index.js\u5BFC\u51FA\u7684\u63A5\u53E3\u5E76\u4F20\u5165\u4E0A\u9762\u5F97\u5230\u7684html\u6A21\u677F\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> templateCompilerPath <span class="token operator">=</span> normalize<span class="token punctuation">.</span><span class="token function">lib</span><span class="token punctuation">(</span><span class="token string">&#39;template-compiler/index&#39;</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
<span class="token keyword">var</span> defaultLoaders <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">html</span><span class="token operator">:</span> templateCompilerPath <span class="token operator">+</span> templateCompilerOptions<span class="token punctuation">,</span>
  <span class="token literal-property property">css</span><span class="token operator">:</span> options<span class="token punctuation">.</span>extractCSS
    <span class="token operator">?</span> <span class="token function">getCSSExtractLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> styleLoaderPath <span class="token operator">+</span> <span class="token string">&#39;!&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;css-loader&#39;</span> <span class="token operator">+</span> cssLoaderOptions<span class="token punctuation">,</span>
  <span class="token literal-property property">js</span><span class="token operator">:</span> hasBuble <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token string">&#39;buble-loader&#39;</span> <span class="token operator">+</span> bubleOptions<span class="token punctuation">)</span> <span class="token operator">:</span> hasBabel <span class="token operator">?</span> babelLoaderOptions <span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// check if there are custom loaders specified via</span>
<span class="token comment">// webpack config, otherwise use defaults</span>
<span class="token keyword">var</span> loaders <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> defaultLoaders<span class="token punctuation">,</span> options<span class="token punctuation">.</span>loaders<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ol start="3"><li>\u8C03\u7528mpvue/packages/mpvue-template-compiler/build.js\u7684compile\u63A5\u53E3\uFF1A</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// mpvue-loader/lib/template-compiler/index.js</span>
<span class="token keyword">var</span> compiled <span class="token operator">=</span> <span class="token function">compile</span><span class="token punctuation">(</span>html<span class="token punctuation">,</span> compilerOptions<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>compile\u65B9\u6CD5\u751F\u4EA7\u4E0B\u9762\u7684ast(Abstract Syntax Tree)\u6A21\u677F\uFF0Crender\u51FD\u6570\u548CstaticRenderFns</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">ast</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">tag</span><span class="token operator">:</span> <span class="token string">&#39;view&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">attrsList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">attrsMap</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">&#39;container-bg&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">parent</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">tag</span><span class="token operator">:</span> <span class="token string">&#39;view&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attrsList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attrsMap</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">&#39;home-container&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">parent</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">tag</span><span class="token operator">:</span> <span class="token string">&#39;view&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">attrsList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">attrsMap</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">&#39;container-bg&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">parent</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span>Circular<span class="token punctuation">]</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">plain</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">staticClass</span><span class="token operator">:</span> <span class="token string">&#39;&quot;container-bg&quot;&#39;</span><span class="token punctuation">,</span>
        <span class="token keyword">static</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">staticRoot</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">tag</span><span class="token operator">:</span> <span class="token string">&#39;home-quotation-view&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">attrsList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;:reason&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;item.reason&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;:stockList&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;item.list&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;@itemViewClicked&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;itemViewClicked&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">attrsMap</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">&#39;v-for&#39;</span><span class="token operator">:</span> <span class="token string">&#39;(item, index) in lists&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&#39;:key&#39;</span><span class="token operator">:</span> <span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&#39;:reason&#39;</span><span class="token operator">:</span> <span class="token string">&#39;item.reason&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&#39;:stockList&#39;</span><span class="token operator">:</span> <span class="token string">&#39;item.list&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&#39;@itemViewClicked&#39;</span><span class="token operator">:</span> <span class="token string">&#39;itemViewClicked&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&#39;data-eventid&#39;</span><span class="token operator">:</span> <span class="token string">&#39;{{\\&#39;0-\\&#39;+index}}&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&#39;data-comkey&#39;</span><span class="token operator">:</span> <span class="token string">&#39;{{$k}}&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">parent</span><span class="token operator">:</span> <span class="token punctuation">[</span>Circular<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token keyword">for</span><span class="token operator">:</span> <span class="token string">&#39;lists&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token string">&#39;item&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">iterator1</span><span class="token operator">:</span> <span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">plain</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">hasBindings</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;reason&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;item.reason&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;stockList&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;item.list&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;eventid&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;\\&#39;0-\\&#39;+index&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;mpcomid&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;\\&#39;0-\\&#39;+index&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">itemViewClicked</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;itemViewClicked&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">modifiers</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">eventid</span><span class="token operator">:</span> <span class="token string">&#39;\\&#39;0-\\&#39;+index&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">mpcomid</span><span class="token operator">:</span> <span class="token string">&#39;\\&#39;0-\\&#39;+index&#39;</span><span class="token punctuation">,</span>
        <span class="token keyword">static</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">staticRoot</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">forProcessed</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">plain</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">staticClass</span><span class="token operator">:</span> <span class="token string">&#39;&quot;home-container&quot;&#39;</span><span class="token punctuation">,</span>
      <span class="token keyword">static</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">staticRoot</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plain</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">staticClass</span><span class="token operator">:</span> <span class="token string">&#39;&quot;container-bg&quot;&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">static</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">staticRoot</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">render</span><span class="token operator">:</span> <span class="token string">&#39;with(this){return _c(\\&#39;view\\&#39;,{staticClass:&quot;container-bg&quot;},[_c(\\&#39;view\\&#39;,{staticClass:&quot;home-container&quot;},_l((lists),function(item,index){return _c(\\&#39;home-quotation-view\\&#39;,{key:index,attrs:{&quot;reason&quot;:item.reason,&quot;stockList&quot;:item.list,&quot;eventid&quot;:\\&#39;0-\\&#39;+index,&quot;mpcomid&quot;:\\&#39;0-\\&#39;+index},on:{&quot;itemViewClicked&quot;:itemViewClicked}})}))])}&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">staticRenderFns</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">errors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tips</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br></div></div><p>\u5176\u4E2D\u7684render\u51FD\u6570\u8FD0\u884C\u7684\u7ED3\u679C\u662F\u8FD4\u56DE<code>VNode</code>\u5BF9\u8C61\uFF0C\u5176\u5B9E<code>render</code>\u51FD\u6570\u5E94\u8BE5\u957F\u4E0B\u9762\u8FD9\u6837\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">with</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>   <span class="token comment">//\u521B\u5EFA\u4E00\u4E2A div \u5143\u7D20</span>
      <span class="token literal-property property">attrs</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">}</span>  <span class="token comment">//div \u6DFB\u52A0\u5C5E\u6027 id</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>
        <span class="token function">_m</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">//\u9759\u6001\u8282\u70B9 header\uFF0C\u6B64\u5904\u5BF9\u5E94 staticRenderFns \u6570\u7EC4\u7D22\u5F15\u4E3A 0 \u7684 render \u51FD\u6570</span>
        <span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//\u7A7A\u7684\u6587\u672C\u8282\u70B9</span>
        <span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token comment">//\u4E09\u5143\u8868\u8FBE\u5F0F\uFF0C\u5224\u65AD message \u662F\u5426\u5B58\u5728</span>
         <span class="token comment">//\u5982\u679C\u5B58\u5728\uFF0C\u521B\u5EFA p \u5143\u7D20\uFF0C\u5143\u7D20\u91CC\u9762\u6709\u6587\u672C\uFF0C\u503C\u4E3A toString(message)</span>
        <span class="token operator">?</span><span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">&#39;p&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot;\\n    &quot;</span><span class="token operator">+</span><span class="token function">_s</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;\\n  &quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment">//\u5982\u679C\u4E0D\u5B58\u5728\uFF0C\u521B\u5EFA p \u5143\u7D20\uFF0C\u5143\u7D20\u91CC\u9762\u6709\u6587\u672C\uFF0C\u503C\u4E3A No message. </span>
        <span class="token operator">:</span><span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">&#39;p&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot;\\n    No message.\\n  &quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u5176\u4E2D\u7684<code>_c</code>\u5C31\u662Fvue\u5BF9\u8C61\u7684<code>createElement</code>\u65B9\u6CD5 (\u521B\u5EFA\u5143\u7D20)\uFF0C<code>_m</code>\u662F<code>renderStatic</code>\uFF08\u6E32\u67D3\u9759\u6001\u8282\u70B9\uFF09\uFF0C<code>_v</code> \u662F <code>createTextVNode</code>\uFF08\u521B\u5EFA\u6587\u672Cdom\uFF09\uFF0C<code>_s</code> \u662F <code>toString</code> \uFF08\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF09</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// src/core/instance/render.js</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initRender</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">vm</span><span class="token operator">:</span> Component</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token comment">// bind the createElement fn to this instance</span>
  <span class="token comment">// so that we get proper render context inside it.</span>
  <span class="token comment">// args order: tag, data, children, normalizationType, alwaysNormalize</span>
  <span class="token comment">// internal version is used by render functions compiled from templates</span>
  vm<span class="token punctuation">.</span><span class="token function-variable function">_c</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">createElement</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token comment">// normalization is always applied for the public version, used in</span>
  <span class="token comment">// user-written render functions.</span>
  vm<span class="token punctuation">.</span><span class="token function-variable function">$createElement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">createElement</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token operator">...</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>_s <span class="token operator">=</span> toString
<span class="token operator">...</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>_m <span class="token operator">=</span> renderStatic
<span class="token operator">...</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>_v <span class="token operator">=</span> createTextVNode
<span class="token operator">...</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ol start="4"><li>\u8C03\u7528compileWxml\u65B9\u6CD5\u751F\u4EA7wxml\u6A21\u677F\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u6700\u7EC8\u4F1A\u8C03\u7528 mpvue/packages/mpvue-template-compiler/build.js\u7684compileToWxml\u65B9\u6CD5\u5C06\u7B2C\u4E00\u6B65compile\u51FA\u6765\u7684\u6A21\u677F\u8F6C\u6210\u5C0F\u7A0B\u5E8F\u7684wxml\u6A21\u677F</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// mpvue-loader/lib/template-compiler/index.js</span>
<span class="token function">compileToWxml</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> compiled<span class="token punctuation">,</span> html<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>\u4EE5\u4E0A\u89E3\u7B54\u4E86\u95EE\u98981\u30012</strong></p><h4 id="runtime" tabindex="-1"><a class="header-anchor" href="#runtime" aria-hidden="true">#</a> runtime</h4><p><a href="(https://github.com/Meituan-Dianping/mpvue/tree/master/src/platforms/mp/runtime)">\u76EE\u5F55\u7ED3\u6784</a></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>.
\u251C\u2500\u2500 events.js //\u89E3\u7B54\u95EE\u98985
\u251C\u2500\u2500 index.js //\u5165\u53E3\u63D0\u4F9BVue\u5BF9\u8C61\uFF0C\u4EE5\u53CA$mount\uFF0C\u548C\u5404\u79CD\u521D\u59CB\u5316
\u251C\u2500\u2500 liefcycle //\u89E3\u7B54\u95EE\u98986\u30017
\u251C\u2500\u2500 node-ops.js //\u64CD\u4F5C\u771F\u5B9EDOM\u7684\u76F8\u5173\u5B9E\u73B0\uFF0C\u56E0\u4E3A\u5C0F\u7A0B\u5E8F\u4E0D\u80FD\u64CD\u4F5CDOM\uFF0C\u6240\u4EE5\u8FD9\u91CC\u90FD\u662F\u76F4\u63A5\u8FD4\u56DE
\u251C\u2500\u2500 patch.js //\u89E3\u7B54\u95EE\u98983
\u2514\u2500\u2500 render.js //\u89E3\u7B54\u95EE\u98984
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,23),ep={href:"https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/mp/runtime/patch.js",target:"_blank",rel:"noopener noreferrer"},op=s("patch.js"),cp=n("p",null,[s("\u548Cvue\u4F7F\u7528\u7684"),n("code",null,"createPatchFunction"),s("\u4FDD\u6301\u4E00\u81F4\uFF0C\u4EFB\u7136\u662F\u65E7\u6811\u548C\u65B0\u6811\u8FDB\u884Cpatch\u4EA7\u51FAdiff\uFF0C\u4F46\u662F\u591A\u4E86\u4E00\u884Cthis.$updateDataToMP()\u7528\u4EE5\u66F4\u65B0\u3002")],-1),lp={href:"https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/mp/runtime/render.js",target:"_blank",rel:"noopener noreferrer"},rp=s("render.js"),up=t("<p>\u4E24\u4E2A\u6838\u5FC3\u7684\u65B9\u6CD5<code>initDataToMP</code>\u3001<code>updateDataToMP</code>\u3002</p><p><code>initDataToMP</code>\u6536\u96C6vm\u4E0A\u7684data\uFF0C\u7136\u540E\u8C03\u7528\u5C0F\u7A0B\u5E8FPage\u793A\u4F8B\u7684<code>setData</code>\u6E32\u67D3\u3002</p><p><code>updateDataToMP</code>\u5728\u6BCF\u6B21patch\uFF0C\u4E5F\u5C31\u662F\u4F9D\u8D56\u6536\u96C6\u53D1\u73B0\u6570\u636E\u6539\u53D8\u65F6\u66F4\u65B0(\u53C2\u8003patch.js\u4EE3\u7801)\uFF0C\u8FD9\u90E8\u5206\u4E00\u6837\u4F1A\u4F7F\u7528<code>nextTick</code>\u548C\u961F\u5217\u3002\u6700\u7EC8\u4F7F\u7528\u4E86\u8282\u6D41\u9600<code>throttleSetData</code>\u300250\u6BEB\u79D2\u7528\u6765\u63A7\u5236\u9891\u7387\u4EE5\u89E3\u51B3\u9891\u7E41\u4FEE\u6539Data\uFF0C\u4F1A\u9020\u6210\u5927\u91CF\u4F20\u8F93Data\u6570\u636E\u800C\u5BFC\u81F4\u7684\u6027\u80FD\u95EE\u9898\u3002</p><p>\u5176\u4E2D<code>collectVmData</code>\u6700\u7EC8\u4E5F\u662F\u7528\u5230\u4E86<code>formatVmData</code>\u3002\u5C24\u5176\u8981\u6CE8\u610F\u7684\u662F\u4E00\u53E5\u6CE8\u91CA\uFF1A</p><blockquote><p>getVmData \u8FD9\u513F\u83B7\u53D6\u5F53\u524D\u7EC4\u4EF6\u5185\u7684\u6240\u6709\u6570\u636E\uFF0C\u5305\u542B props\u3001computed \u7684\u6570\u636E</p></blockquote><p>\u6211\u4EEC\u53C8\u77E5\u9053\uFF0Cservice\u5230view\u662F\u4E24\u4E2A\u7EBF\u7A0B\u95F4\u901A\u4FE1\uFF0C\u5982\u679CData\u542B\u6709\u5927\u91CF\u6570\u636E\uFF0C\u589E\u52A0\u4E86\u4F20\u8F93\u6570\u636E\u91CF\uFF0C\u52A0\u5927\u4E86\u4F20\u8F93\u6210\u672C\uFF0C\u5C06\u4F1A\u9020\u6210\u6027\u80FD\u4E0B\u964D\u3002</p>",6),ip={href:"https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/mp/runtime/events.js",target:"_blank",rel:"noopener noreferrer"},kp=s("events.js"),bp=s("\u6B63\u5982\u5B98\u7F51\u6240\u8BF4\u7684\uFF0C\u8FD9\u91CC\u4F7F\u7528"),mp=n("code",null,"eventTypeMap",-1),dp=s("\u505A\u4E86\u5404"),hp={href:"http://mpvue.com/mpvue/#_13",target:"_blank",rel:"noopener noreferrer"},gp=s("\u4E8B\u4EF6\u7684\u9690\u5C04"),yp=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getComKey<span class="token punctuation">,</span> eventTypeMap <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../util/index&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7528\u4E8E\u5C0F\u7A0B\u5E8F\u7684 event type \u5230 web \u7684 event</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> eventTypeMap <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">tap</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;tap&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;click&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">touchstart</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;touchstart&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">touchmove</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;touchmove&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">touchcancel</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;touchcancel&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">touchend</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;touchend&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">longtap</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;longtap&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;input&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">blur</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blur&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">submit</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;submit&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;focus&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scrolltoupper</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;scrolltoupper&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scrolltolower</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;scrolltolower&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scroll</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u4F7F\u7528\u4E86<code>handleProxyWithVue</code>\u65B9\u6CD5\u6765\u4EE3\u7406\u5C0F\u7A0B\u5E8F\u4E8B\u4EF6\u5230vue\u4E8B\u4EF6\u3002</p>`,3),_p=s("\u53E6\u5916\u770B\u4E0B\u4F5C\u8005\u81EA\u5DF1\u5BF9\u8FD9\u90E8\u5206\u7684"),vp={href:"https://tech.meituan.com/mt_mpvue_development_framework.html",target:"_blank",rel:"noopener noreferrer"},fp=s("\u601D\u8DEF"),wp=n("blockquote",null,[n("p",null,[n("strong",null,"\u4E8B\u4EF6\u4EE3\u7406\u673A\u5236"),s("\uFF1A\u7528\u6237\u4EA4\u4E92\u89E6\u53D1\u7684\u6570\u636E\u66F4\u65B0\u901A\u8FC7\u4E8B\u4EF6\u4EE3\u7406\u673A\u5236\u5B8C\u6210\u3002\u5728 Vue.js \u4EE3\u7801\u4E2D\uFF0C\u4E8B\u4EF6\u54CD\u5E94\u51FD\u6570\u5BF9\u5E94\u5230\u7EC4\u4EF6\u7684 method\uFF0C Vue.js \u81EA\u52A8\u7EF4\u62A4\u4E86\u4E0A\u4E0B\u6587\u73AF\u5883\u3002\u7136\u800C\u5728\u5C0F\u7A0B\u5E8F\u4E2D\u5E76\u6CA1\u6709\u7C7B\u4F3C\u7684\u673A\u5236\uFF0C\u53C8\u56E0\u4E3A Vue.js \u6267\u884C\u73AF\u5883\u4E2D\u7EF4\u62A4\u7740\u4E00\u4EFD\u5B9E\u65F6\u7684\u865A\u62DF DOM\uFF0C\u8FD9\u4E0E\u5C0F\u7A0B\u5E8F\u7684\u89C6\u56FE\u5C42\u5B8C\u5168\u5BF9\u5E94\uFF0C\u6211\u4EEC\u601D\u8003\uFF0C\u5728\u5C0F\u7A0B\u5E8F\u7EC4\u4EF6\u8282\u70B9\u4E0A\u89E6\u53D1\u4E8B\u4EF6\u540E\uFF0C\u53EA\u8981\u627E\u5230\u865A\u62DF DOM \u4E0A\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u89E6\u53D1\u5BF9\u5E94\u7684\u4E8B\u4EF6\u4E0D\u5C31\u5B8C\u6210\u4E86\u4E48\uFF1B\u53E6\u4E00\u65B9\u9762\uFF0CVue.js \u4E8B\u4EF6\u54CD\u5E94\u5982\u679C\u89E6\u53D1\u4E86\u6570\u636E\u66F4\u65B0\uFF0C\u5176\u751F\u547D\u5468\u671F\u51FD\u6570\u66F4\u65B0\u5C06\u81EA\u52A8\u89E6\u53D1\uFF0C\u5728\u6B64\u51FD\u6570\u4E0A\u540C\u6B65\u66F4\u65B0\u5C0F\u7A0B\u5E8F\u6570\u636E\uFF0C\u6570\u636E\u540C\u6B65\u4E5F\u5C31\u5B9E\u73B0\u4E86\u3002")])],-1),xp=n("p",null,[n("code",null,"getHandle"),s("\u8FD9\u4E2A\u65B9\u6CD5\u5E94\u8BE5\u5C31\u662F\u4F5C\u8005\u601D\u8DEF\u5F53\u4E2D\u6240\u8BF4\u7684\uFF1A\u627E\u5230\u5BF9\u5E94\u8282\u70B9\uFF0C\u7136\u540E\u627E\u5230handle\u3002")],-1),qp={href:"https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/mp/runtime/lifecycle.js",target:"_blank",rel:"noopener noreferrer"},jp=s("lifecycle.js"),Pp=n("p",null,[s("\u5728"),n("code",null,"initMP"),s("\u65B9\u6CD5\u4E2D\uFF0C\u81EA\u5DF1\u521B\u5EFA\u5C0F\u7A0B\u5E8F\u7684App\u3001Page\u3002\u5B9E\u73B0\u751F\u547D\u5468\u671F\u76F8\u5173\u65B9\u6CD5\uFF0C\u4F7F\u7528"),n("code",null,"callHook"),s("\u4EE3\u7406\u517C\u5BB9\u5C0F\u7A0B\u5E8FApp\u3001Page\u7684\u751F\u547D\u5468\u671F\u3002")],-1),Cp={href:"http://mpvue.com/mpvue/#_4",target:"_blank",rel:"noopener noreferrer"},Sp=s("\u5B98\u65B9\u6587\u6863\u751F\u547D\u5468\u671F"),Vp=s("\u4E2D\u8BF4\u5230\u4E86\uFF1A"),Tp=n("blockquote",null,[n("p",null,"\u540C vue\uFF0C\u4E0D\u540C\u7684\u662F\u6211\u4EEC\u4F1A\u5728\u5C0F\u7A0B\u5E8F onReady \u540E\uFF0C\u518D\u53BB\u89E6\u53D1 vue mounted \u751F\u547D\u5468\u671F")],-1),Mp=s("\u8FD9\u90E8\u5206\u67E5\u770B\uFF0C"),Dp=n("code",null,"onReady",-1),Ap=s("\u4E4B\u540E\u624D\u4F1A\u6267\u884C"),Ep=n("code",null,"next",-1),Wp=s("\uFF0C\u8FD9\u4E2A"),Ip=n("code",null,"next",-1),Bp=s("\u56DE\u8C03\u6700\u7EC8\u662Fvue\u7684"),Lp=n("code",null,"mountComponent",-1),Op=s("\u3002\u53EF\u4EE5\u5728"),Fp={href:"https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/mp/runtime/index.js#L37",target:"_blank",rel:"noopener noreferrer"},Rp=s("index.js"),Hp=s('\u4E2D\u770B\u5230\u3002\u8FD9\u90E8\u5206\u4EE3\u7801\u4E5F\u5C31\u662F\u89E3\u51B3\u4E86"\u5C0F\u7A0B\u5E8F\u751F\u547D\u5468\u671F\u4E2D\u89E6\u53D1vue\u751F\u547D\u5468\u671F"\u3002'),$p=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initMP</span> <span class="token punctuation">(</span><span class="token parameter">mpType<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
    global<span class="token punctuation">.</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// \u751F\u547D\u5468\u671F\u51FD\u6570--\u76D1\u542C\u9875\u9762\u521D\u6B21\u6E32\u67D3\u5B8C\u6210</span>
      <span class="token function">onReady</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mp<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">&#39;ready&#39;</span>

        <span class="token function">callHook</span><span class="token punctuation">(</span>rootVueVM<span class="token punctuation">,</span> <span class="token string">&#39;onReady&#39;</span><span class="token punctuation">)</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u5728\u5C0F\u7A0B\u5E8FonShow\u65F6\uFF0C\u4F7F\u7528$nextTick\u53BB\u7B2C\u4E00\u6B21\u6E32\u67D3\u6570\u636E\uFF0C\u53C2\u8003\u4E0A\u9762\u63D0\u5230\u7684render.js\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initMP</span> <span class="token punctuation">(</span><span class="token parameter">mpType<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  global<span class="token punctuation">.</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// \u751F\u547D\u5468\u671F\u51FD\u6570--\u76D1\u542C\u9875\u9762\u663E\u793A</span>
    <span class="token function">onShow</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      mp<span class="token punctuation">.</span>page <span class="token operator">=</span> <span class="token keyword">this</span>
      mp<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">&#39;show&#39;</span>
      <span class="token function">callHook</span><span class="token punctuation">(</span>rootVueVM<span class="token punctuation">,</span> <span class="token string">&#39;onShow&#39;</span><span class="token punctuation">)</span>

      <span class="token comment">// \u53EA\u6709\u9875\u9762\u9700\u8981 setData</span>
      rootVueVM<span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        rootVueVM<span class="token punctuation">.</span><span class="token function">_initDataToMP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>\u5728mpvue-loader\u751F\u6210template\u65F6\uFF0C\u6BD4\u5982\u70B9\u51FB\u4E8B\u4EF6<code>@click</code>\u4F1A\u53D8\u6210<code>bindtap=&quot;handleProxy&quot;</code>\uFF0C\u4E8B\u4EF6\u7ED1\u5B9A\u5168\u90FD\u4F1A\u4F7F\u7528<code>handleProxy</code>\u8FD9\u4E2A\u65B9\u6CD5\u3002</p><p>\u53EF\u4EE5\u67E5\u770B\u4E0A\u9762<a href="#mpvue-loader">mpvue-loader</a>\u56DE\u987E\u4E00\u4E0B\u3002</p><p>\u6700\u7EC8handleProxy\u8C03\u7528\u7684\u662Fevent.js\u4E2D\u7684<code>handleProxyWithVue</code>\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initMP</span> <span class="token punctuation">(</span><span class="token parameter">mpType<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
    global<span class="token punctuation">.</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function">handleProxy</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> rootVueVM<span class="token punctuation">.</span><span class="token function">$handleProxyWithVue</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,7),Jp={href:"https://github.com/Meituan-Dianping/mpvue/blob/master/src/platforms/mp/runtime/index.js",target:"_blank",rel:"noopener noreferrer"},Np=s("index.js"),zp=t(`<p>\u6700\u540Eindex.js\u5C31\u8D1F\u8D23\u5404\u79CD\u521D\u59CB\u5316\u548Cmount\u3002</p><h3 id="class\u548Cstyle\u4E3A\u4EC0\u4E48\u6682\u4E0D\u652F\u6301\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#class\u548Cstyle\u4E3A\u4EC0\u4E48\u6682\u4E0D\u652F\u6301\u7EC4\u4EF6" aria-hidden="true">#</a> Class\u548CStyle\u4E3A\u4EC0\u4E48\u6682\u4E0D\u652F\u6301\u7EC4\u4EF6</h3><p>\u539F\u56E0\uFF1A\u76EE\u524D\u7684\u7EC4\u4EF6\u662F\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u7684 template \u6807\u7B7E\u5B9E\u73B0\u7684\uFF0C\u7ED9\u7EC4\u4EF6\u6307\u5B9A\u7684class\u548Cstyle\u662F\u6302\u8F7D\u5728template\u6807\u7B7E\u4E0A\uFF0C\u800Ctemplate \u6807\u7B7E\u4E0D\u652F\u6301 class \u53CA style \u5C5E\u6027\u3002</p><p>\u89E3\u51B3\u65B9\u6848\uFF1A \u5728\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u4E0A\u7ED1\u5B9Aclass\u6216style\u5230\u4E00\u4E2Aprops\u5C5E\u6027\u4E0A\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code> // \u7EC4\u4EF6ComponentA.vue
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pClass<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">pClass</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--PageB.vue--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component-a</span> <span class="token attr-name">:pClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cusComponentAClass<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">cusComponentAClass</span><span class="token operator">:</span> <span class="token string">&#39;a-class b-class&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code>&lt;style lang=<span class="token string">&quot;stylus&quot;</span> scoped&gt;
  .a-class
    border red solid 2rpx
  .b-class
    margin-right 20rpx
&lt;/style&gt;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u4F46\u662F\u8FD9\u6837\u4F1A\u6709\u95EE\u9898\u5C31\u662Fstyle\u52A0\u4E0Ascoped\u4E4B\u540E\uFF0C\u7F16\u8BD1\u6A21\u677F\u751F\u6210\u7684\u4EE3\u7801\u662F\u4E0B\u9762\u8FD9\u6837\u7684\uFF1A</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code> <span class="token selector">.a-class.data-v-8f1d914e</span> <span class="token punctuation">{</span>
   <span class="token property">border</span><span class="token punctuation">:</span> #f00 solid 2rpx<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token selector">.b-class.data-v-8f1d914e</span> <span class="token punctuation">{</span>
   margin-right 20rpx
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u6240\u4EE5\u60F3\u8981\u8FD9\u4E9B\u7EC4\u4EF6\u7684class\u751F\u6548\u5C31\u4E0D\u80FD\u4F7F\u7528scoped\u7684style\uFF0C\u6539\u6210\u4E0B\u9762\u8FD9\u6837\uFF0C\u6700\u597D\u81EA\u5DF1\u7ED9a-class\u548Cb-class\u52A0\u524D\u7F00\u4EE5\u9632\u5176\u4ED6\u7684\u6587\u4EF6\u5F15\u7528\u8FD9\u4E9B\u6837\u5F0F\uFF1A</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code> &lt;style lang=<span class="token string">&quot;stylus&quot;</span>&gt;
  .a-class
    border red solid 2rpx
  .b-class
    margin-right 20rpx
&lt;/style&gt;

&lt;style lang=<span class="token string">&quot;stylus&quot;</span> scoped&gt;
  .other-class
    border red solid 2rpx
    
   ...
&lt;/style&gt;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>\u5728\u5B9A\u4E49\u7EC4\u4EF6\u4E0A\u7ED1\u5B9Astyle\u5C5E\u6027\u5230\u4E00\u4E2Aprops\u5C5E\u6027\u4E0A\uFF1A</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code> <span class="token comment">&lt;!--P\u7EC4\u4EF6ComponentA.vue--&gt;</span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pStyle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">pStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--PageB.vue--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component-a</span> <span class="token attr-name">:pStyle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cusComponentAStyle<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">const</span> cusComponentAStyle <span class="token operator">=</span> <span class="token string">&#39;border:red solid 2rpx; margin-right:20rpx;&#39;</span>
<span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      cusComponentAStyle
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code>&lt;style lang=<span class="token string">&quot;stylus&quot;</span> scoped&gt;
  ...
&lt;/style&gt;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u4E5F\u53EF\u4EE5\u901A\u8FC7\u5B9A\u4E49styleObject\uFF0C\u7136\u540E\u901A\u8FC7\u5DE5\u5177\u51FD\u6570\u8F6C\u5316\u4E3AstyleString\uFF0C\u5982\u4E0B\u6240\u793A\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> bstyle <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> <span class="token string">&#39;red solid 2rpx&#39;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&#39;margin-right&#39;</span><span class="token operator">:</span> <span class="token string">&#39;20rpx&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>bstyle<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> cusComponentAStyle <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;; &#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>\u5F53\u7136\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u786E\u5B9A\u53EA\u4F1A\u6539\u53D8\u67D0\u4E2Acss\u6837\u5F0F\uFF0C\u901A\u8FC7pros\u4F20\u5165\u5355\u4E2A\u6837\u5F0F\u7684\u503C\uFF0C\u7136\u540E\u901A\u8FC7:style\u7ED1\u5B9A\u80AF\u5B9A\u6CA1\u95EE\u9898\uFF1A</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--\u7EC4\u4EF6ComponentA.vue--&gt;</span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">&#39;</span>background-color<span class="token punctuation">&#39;</span>: backgroundColor}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;yellow&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- PageB.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component-a</span> <span class="token attr-name">backgroundColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="\u5206\u5305\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u5206\u5305\u52A0\u8F7D" aria-hidden="true">#</a> \u5206\u5305\u52A0\u8F7D</h3><p>package.json\u4FEE\u6539</p><ul><li>\u5347\u7EA7\uFF1A &quot;mpvue-loader&quot;: &quot;^1.1.2-rc.4&quot; &quot;webpack-mpvue-asset-plugin&quot;: &quot;^0.1.1&quot;</li><li>\u65B0\u589E\uFF1A &quot;relative&quot;: &quot;^3.0.2&quot;</li></ul><p>\u6CE8\u610F\u4E8B\u9879</p><ul><li>1.1.2-rc.5 \u4FEE\u590D slot \u6587\u4EF6\u8DEF\u5F84\u751F\u6210\u9519\u8BEF\u7684\u95EE\u9898</li><li>1.1.x \u7248\u672C\u8FD8\u4E0D\u662F\u5F88\u7A33\u5B9A\uFF0C\u5BF9\u7A33\u5B9A\u6027\u8981\u6C42\u8F83\u9AD8\u7684\u9879\u76EE\u5EFA\u8BAE\u6682\u65F6\u4F7F\u7528 1.0.x \u7248\u672C</li></ul><p>\u79FB\u52A8src/main.js\u4E2Dconfig\u76F8\u5173\u5185\u5BB9\u5230\u540C\u7EA7\u76EE\u5F55\u4E0Bmain.json(\u65B0\u5EFA)\u4E2D</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// config: {...} \u9700\u8981\u79FB\u52A8</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>to</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
 <span class="token string-property property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
   <span class="token string">&quot;pages/index/main&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;pages/logs/main&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;subPackages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pages/packageA&quot;</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
       <span class="token string">&quot;counter/main&quot;</span>
     <span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token string-property property">&quot;window&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>webpack \u914D\u7F6E\u914D\u5408\u5347\u7EA7\u6307\u5357</strong></p><ul><li>\u672C\u6B21\u5347\u7EA7\u610F\u5728\u8C03\u6574\u751F\u6210\u6587\u4EF6\u76EE\u5F55\u7ED3\u6784\uFF0C\u5BF9\u4F9D\u8D56\u7684\u6587\u4EF6\u7531\u539F\u6765\u7684\u5199\u6B7B\u7EDD\u5BF9\u8DEF\u5F84\u8BE5\u6539\u4E3A\u76F8\u5BF9\u8DEF\u5F84</li><li>mpvue-loader@1.1.2-rc.4 \u4F9D\u8D56 webpack-mpvue-asset-plugin@0.1.0 \u505A\u4F9D\u8D56\u8D44\u6E90\u5F15\u7528</li><li>\u4E4B\u524D\u5199\u5728 main.js \u4E2D\u7684 config \u4FE1\u606F\uFF0C\u9700\u8981\u5728 main.js \u540C\u7EA7\u76EE\u5F55\u4E0B\u65B0\u5EFA main.json \u6587\u4EF6\uFF0C\u4F7F\u7528 webapck-copy-plugin copy \u5230 build \u76EE\u5F55\u4E0B</li><li>app.json \u4E2D\u5F15\u7528\u7684\u56FE\u7247\u4E0D\u4F1A\u81EA\u52A8 copy \u5230 dist \u76EE\u5F55\u4E0B json \u914D\u7F6E\u6587\u4EF6\u662F\u7531 webapck-copy-plugin copy \u8FC7\u53BB\u7684\uFF0C\u4E0D\u4F1A\u5904\u7406\u4F9D\u8D56\uFF0C\u53EF\u4EE5\u5C06\u56FE\u7247\u653E\u5230\u6839\u76EE\u5F55\u4E0B static \u76EE\u5F55\u4E0B\uFF0C\u4F7F\u7528 webapck-copy-plugin copy \u8FC7\u53BB</li></ul><p>build/webpack.base.conf.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token keyword">var</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;copy-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token operator">+</span><span class="token keyword">var</span> relative <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;relative&#39;</span><span class="token punctuation">)</span>

 <span class="token keyword">function</span> <span class="token function">resolve</span> <span class="token punctuation">(</span><span class="token parameter">dir</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;..&#39;</span><span class="token punctuation">,</span> dir<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

<span class="token operator">-</span><span class="token keyword">function</span> <span class="token function">getEntry</span> <span class="token punctuation">(</span><span class="token parameter">rootSrc<span class="token punctuation">,</span> pattern</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token operator">-</span>  <span class="token keyword">var</span> files <span class="token operator">=</span> glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>rootSrc<span class="token punctuation">,</span> pattern<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">-</span>  <span class="token keyword">return</span> files<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token operator">-</span>    <span class="token keyword">var</span> info <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
<span class="token operator">-</span>    <span class="token keyword">var</span> key <span class="token operator">=</span> info<span class="token punctuation">.</span>dir<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>rootSrc<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> info<span class="token punctuation">.</span>name
<span class="token operator">-</span>    res<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
<span class="token operator">-</span>    <span class="token keyword">return</span> res
<span class="token operator">-</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">+</span><span class="token keyword">function</span> <span class="token function">getEntry</span> <span class="token punctuation">(</span><span class="token parameter">rootSrc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token operator">+</span>  <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">+</span>  glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span>rootSrc <span class="token operator">+</span> <span class="token string">&#39;/pages/**/main.js&#39;</span><span class="token punctuation">)</span>
<span class="token operator">+</span>  <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token operator">+</span>    <span class="token keyword">var</span> key <span class="token operator">=</span> <span class="token function">relative</span><span class="token punctuation">(</span>rootSrc<span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span>    map<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> file<span class="token punctuation">;</span>
<span class="token operator">+</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">+</span>   <span class="token keyword">return</span> map<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

   <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
<span class="token operator">-</span>    <span class="token keyword">new</span> <span class="token class-name">MpvuePlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">+</span>    <span class="token keyword">new</span> <span class="token class-name">MpvuePlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">+</span>    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
<span class="token operator">+</span>      from<span class="token operator">:</span> <span class="token string">&#39;**/*.json&#39;</span><span class="token punctuation">,</span>
<span class="token operator">+</span>      to<span class="token operator">:</span> <span class="token string">&#39;app.json&#39;</span>
<span class="token operator">+</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
<span class="token operator">+</span>      context<span class="token operator">:</span> <span class="token string">&#39;src/&#39;</span>
<span class="token operator">+</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">+</span>    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token comment">// \u5904\u7406 main.json \u91CC\u9762\u5F15\u7528\u7684\u56FE\u7247\uFF0C\u4E0D\u8981\u653E\u4EE3\u7801\u4E2D\u5F15\u7528\u7684\u56FE\u7247</span>
<span class="token operator">+</span>      <span class="token punctuation">{</span>
<span class="token operator">+</span>        from<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../static&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">+</span>        to<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../dist/static&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">+</span>        ignore<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.*&#39;</span><span class="token punctuation">]</span>
<span class="token operator">+</span>      <span class="token punctuation">}</span>
<span class="token operator">+</span>    <span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>build/webpack.dev.conf.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&#39;#source-map&#39;</span><span class="token punctuation">,</span>
   <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">path</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsRoot<span class="token punctuation">,</span>
<span class="token operator">-</span>    filename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;js/[name].js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">-</span>    chunkFilename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;js/[id].js&#39;</span><span class="token punctuation">)</span>
<span class="token operator">+</span>    filename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">+</span>    chunkFilename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;[id].js&#39;</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
     <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
     <span class="token comment">// copy from ./webpack.prod.conf.js</span>
     <span class="token comment">// extract css into its own file</span>
     <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">-</span>      filename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;css/[name].wxss&#39;</span><span class="token punctuation">)</span>
<span class="token operator">+</span>      filename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;[name].wxss&#39;</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">-</span>      name<span class="token operator">:</span> <span class="token string">&#39;vendor&#39;</span><span class="token punctuation">,</span>
<span class="token operator">+</span>      name<span class="token operator">:</span> <span class="token string">&#39;common/vendor&#39;</span><span class="token punctuation">,</span>
       <span class="token function-variable function">minChunks</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// any required modules inside node_modules are extracted to vendor</span>
         <span class="token keyword">return</span> <span class="token punctuation">(</span>
        module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">-</span>      name<span class="token operator">:</span> <span class="token string">&#39;manifest&#39;</span><span class="token punctuation">,</span>
<span class="token operator">-</span>      chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vendor&#39;</span><span class="token punctuation">]</span>
<span class="token operator">+</span>      name<span class="token operator">:</span> <span class="token string">&#39;common/manifest&#39;</span><span class="token punctuation">,</span>
<span class="token operator">+</span>      chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;common/vendor&#39;</span><span class="token punctuation">]</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">-</span>    <span class="token comment">// copy custom static assets</span>
<span class="token operator">-</span>    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token operator">-</span>      <span class="token punctuation">{</span>
<span class="token operator">-</span>        from<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../static&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">-</span>        to<span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsSubDirectory<span class="token punctuation">,</span>
<span class="token operator">-</span>        ignore<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.*&#39;</span><span class="token punctuation">]</span>
<span class="token operator">-</span>      <span class="token punctuation">}</span>
<span class="token operator">-</span>    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><p>build/webpack.prod.conf.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>
    <span class="token keyword">var</span> webpackConfig <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">devtool</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionSourceMap <span class="token operator">?</span> <span class="token string">&#39;#source-map&#39;</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
   <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">path</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsRoot<span class="token punctuation">,</span>
<span class="token operator">-</span>    filename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;js/[name].js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">-</span>    chunkFilename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;js/[id].js&#39;</span><span class="token punctuation">)</span>
<span class="token operator">+</span>    filename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">+</span>    chunkFilename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;[id].js&#39;</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">var</span> webpackConfig <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token comment">// extract css into its own file</span>
     <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">-</span>      <span class="token comment">// filename: utils.assetsPath(&#39;css/[name].[contenthash].css&#39;)</span>
<span class="token operator">-</span>      filename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;css/[name].wxss&#39;</span><span class="token punctuation">)</span>
<span class="token operator">+</span>      <span class="token comment">// filename: utils.assetsPath(&#39;[name].[contenthash].css&#39;)</span>
<span class="token operator">+</span>      filename<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;[name].wxss&#39;</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token comment">// Compress extracted CSS. We are using this plugin so that possible</span>
     <span class="token comment">// duplicated CSS from different components can be deduped.</span>
    <span class="token keyword">var</span> webpackConfig <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
     <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HashedModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token comment">// split vendor js into its own file</span>
     <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">-</span>      name<span class="token operator">:</span> <span class="token string">&#39;vendor&#39;</span><span class="token punctuation">,</span>
<span class="token operator">+</span>      name<span class="token operator">:</span> <span class="token string">&#39;common/vendor&#39;</span><span class="token punctuation">,</span>
       <span class="token function-variable function">minChunks</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// any required modules inside node_modules are extracted to vendor</span>
         <span class="token keyword">return</span> <span class="token punctuation">(</span>
     <span class="token keyword">var</span> webpackConfig <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
     <span class="token comment">// extract webpack runtime and module manifest to its own file in order to</span>
     <span class="token comment">// prevent vendor hash from being updated whenever app bundle is updated</span>
     <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">-</span>      name<span class="token operator">:</span> <span class="token string">&#39;manifest&#39;</span><span class="token punctuation">,</span>
<span class="token operator">-</span>      chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vendor&#39;</span><span class="token punctuation">]</span>
<span class="token operator">-</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">+</span>      name<span class="token operator">:</span> <span class="token string">&#39;common/manifest&#39;</span><span class="token punctuation">,</span>
<span class="token operator">+</span>      chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;common/vendor&#39;</span><span class="token punctuation">]</span>
<span class="token operator">+</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">-</span>    <span class="token comment">// copy custom static assets</span>
<span class="token operator">-</span>    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token operator">-</span>      <span class="token punctuation">{</span>
<span class="token operator">-</span>        from<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../static&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">-</span>        to<span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsSubDirectory<span class="token punctuation">,</span>
<span class="token operator">-</span>        ignore<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.*&#39;</span><span class="token punctuation">]</span>
<span class="token operator">-</span>      <span class="token punctuation">}</span>
<span class="token operator">-</span>    <span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><p>config/index.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./prod.env&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token literal-property property">index</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../dist/index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token literal-property property">assetsRoot</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">-</span>    assetsSubDirectory<span class="token operator">:</span> <span class="token string">&#39;static&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u4E0D\u5C06\u8D44\u6E90\u805A\u5408\u653E\u5728 static \u76EE\u5F55\u4E0B</span>
<span class="token operator">+</span>    assetsSubDirectory<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
     <span class="token literal-property property">assetsPublicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
     <span class="token literal-property property">productionSourceMap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
     <span class="token comment">// Gzip off by default as many popular static hosts such as</span>
@@ <span class="token operator">-</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">7</span> <span class="token operator">+</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">7</span> @@ module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
     <span class="token comment">// \u5728\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u8005\u5DE5\u5177\u4E2D\u4E0D\u9700\u8981\u81EA\u52A8\u6253\u5F00\u6D4F\u89C8\u5668</span>
     <span class="token literal-property property">autoOpenBrowser</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token operator">-</span>    assetsSubDirectory<span class="token operator">:</span> <span class="token string">&#39;static&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u4E0D\u5C06\u8D44\u6E90\u805A\u5408\u653E\u5728 static \u76EE\u5F55\u4E0B</span>
<span class="token operator">+</span>    assetsSubDirectory<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
     <span class="token literal-property property">assetsPublicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
     <span class="token literal-property property">proxyTable</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token comment">// CSS Sourcemaps off by default because relative paths are &quot;buggy&quot;</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="\u95EE\u9898\u4E0E\u5C55\u671B" tabindex="-1"><a class="header-anchor" href="#\u95EE\u9898\u4E0E\u5C55\u671B" aria-hidden="true">#</a> \u95EE\u9898\u4E0E\u5C55\u671B</h3><p>\u6280\u672F\u7684\u66F4\u65B0\u8FED\u4EE3\u662F\u5F88\u5FEB\u7684\uFF0C\u5F88\u591A\u5185\u5BB9\u5728\u5199\u7684\u65F6\u5019\u8FD8\u662F\u8FD9\u6837\u3002\u8FC7\u4E86\u51E0\u5929\u5C31\u53D1\u751F\u4E86\u53D8\u5316\u3002\u53C8\u4ED4\u7EC6\u770B\u4E86\u5C0F\u7A0B\u5E8F\u7684\u6587\u6863\uFF0C\u53D1\u73B0\u5C0F\u7A0B\u5E8F\u539F\u751F\u5F00\u53D1\u6DF1\u53D7vue\u5F71\u54CD\u554A\uFF0C\u8D8A\u6765\u8D8A\u50CF\u4E86\u3002</p>`,46),Up=s("\u5E0C\u671Bmpvue\u80FD\u591F\u4F7F\u7528"),Gp=n("code",null,"wx.nextTick",-1),Xp={href:"https://developers.weixin.qq.com/miniprogram/dev/api/custom-component.html#wxnexttickfunction",target:"_blank",rel:"noopener noreferrer"},Kp=s("\u94FE\u63A5"),Qp=s("\uFF0C\u5C1D\u8BD5\u6765\u4EE3\u66FF50\u6BEB\u79D2"),Yp=s("\u5E0C\u671B\u80FD\u591F\u89E3\u51B3"),Zp={href:"https://github.com/Meituan-Dianping/mpvue/issues/639",target:"_blank",rel:"noopener noreferrer"},nt=s("\u4F7F\u7528\u810F\u68C0\u67E5\u4F18\u5316\u6BCF\u6B21\u66F4\u65B0\u6570\u636E\u65F6\u90FD\u4F1A\u4F20\u8F93\u5927\u91CF\u6570\u636E\u7684\u95EE\u9898, \u89E3\u51B3\u5220\u9664\u56DE\u9000, \u5217\u8868\u5FFD\u7136\u6EDA\u52A8\u5230\u9876\u90E8\u7B49\u95EE\u9898"),st=s("\u3002\u4E5F\u8BB8\u53EF\u4EE5\u9760\u4E0B\u9762\u7684\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u3002"),at=s("\u4F7F\u7528"),pt={href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/",target:"_blank",rel:"noopener noreferrer"},tt=s("\u81EA\u5B9A\u4E49\u7EC4\u4EF6"),et=s("\u4EE3\u66FFtemplate\uFF0C\u8FD9\u6837\u53EF\u4EE5\u89E3\u51B3\u8BF8\u5982:"),ot={href:"http://mpvue.com/mpvue/#_10",target:"_blank",rel:"noopener noreferrer"},ct=s("\u7EC4\u4EF6\u6839\u6807\u7B7E\u4E0D\u80FD\u4F7F\u7528style\u548Cclass"),lt={href:"https://github.com/Meituan-Dianping/mpvue/issues?utf8=%E2%9C%93&q=slot",target:"_blank",rel:"noopener noreferrer"},rt=s("slot\u7684\u5404\u79CD\u95EE\u9898"),ut={href:"http://mpvue.com/mpvue/#vue_1",target:"_blank",rel:"noopener noreferrer"},it=s("Slot\uFF08scoped \u6682\u65F6\u8FD8\u6CA1\u505A\u652F\u6301\uFF09"),kt=n("li",null,'setData\u7684\u6027\u80FD\u63D0\u5347\uFF0C\u56E0\u4E3A\u5B98\u65B9\u8BF4\u7684:"\u5728\u9700\u8981\u9891\u7E41\u66F4\u65B0\u7684\u573A\u666F\u4E0B\uFF0C\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u7684\u66F4\u65B0\u53EA\u5728\u7EC4\u4EF6\u5185\u90E8\u8FDB\u884C\uFF0C\u4E0D\u53D7\u9875\u9762\u5176\u4ED6\u90E8\u5206\u5185\u5BB9\u590D\u6742\u6027\u5F71\u54CD\u3002"\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u7EC4\u4EF6\u5185\u90E8\u7684setData\u53EA\u4F1A\u5F71\u54CD\u7EC4\u4EF6\u8303\u56F4\u3002\u8FD9\u4E2A\u548CVue\u5C31\u5F88\u50CF\u4E86\uFF0C\u6211\u89C9\u5F97\u539F\u7406\u80AF\u5B9A\u662F\u4E00\u81F4\u7684\u3002',-1),bt=n("p",null,"\u5728\u5C0F\u7A0B\u5E8F\u5B8C\u5584\u4E86\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u4E4B\u540E\uFF0C\u6211\u73B0\u5728\u7684\u503E\u5411\u53D8\u6210\u4E86\u81EA\u642D\u6216\u8005\u7F51\u4E0A\u627E\u811A\u624B\u67B6\u6765\u5DE5\u7A0B\u5316\u9879\u76EE\uFF0C\u4F7F\u7528\u8BF8\u5982\uFF1ANPM\u3001PostCSS\u3001pug\u3001babel\u3001ESLint\u3001\u56FE\u7247\u4F18\u5316\u7B49\u529F\u80FD\u3002\u7136\u540E\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u539F\u751F\u5F00\u53D1\u7684\u65B9\u5F0F\u6765\u5F00\u53D1\uFF0C\u56E0\u4E3A\u5B83\u505A\u7684\u8D8A\u6765\u8D8A\u597D\uFF0C\u8D8A\u6765\u8D8A\u50CFvue\u4E86\u3002",-1),mt=n("h2",{id:"\u5C0F\u7A0B\u5E8F-\u5B66\u4E60",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5C0F\u7A0B\u5E8F-\u5B66\u4E60","aria-hidden":"true"},"#"),s(" \u5C0F\u7A0B\u5E8F-\u5B66\u4E60")],-1),dt=n("p",null,"\u7ECF\u5E38\u770B\u5230\u4E00\u4E9B\u540C\u5B66\u5728\u67E5\u627E\u5C0F\u7A0B\u5E8F\u7684\u5B66\u4E60\u8D44\u6599\u548C\u9762\u5BF9\u4E00\u4E9B\u95EE\u9898\u65F6\u65E0\u4ECE\u4E0B\u624B\u3002\u8FD9\u4E00\u8282\u7B14\u8005\u4F1A\u57FA\u4E8E\u81EA\u5DF1\u7684\u7ECF\u9A8C\u544A\u8BC9\u5927\u5BB6\u5982\u4F55\u5B66\u4E60\u5F00\u53D1\u5C0F\u7A0B\u5E8F\u548C\u5982\u4F55\u89E3\u51B3\u9047\u5230\u7684\u95EE\u9898\u3002",-1),ht=n("h3",{id:"\u5B66\u4E60\u5EFA\u8BAE",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5B66\u4E60\u5EFA\u8BAE","aria-hidden":"true"},"#"),s(" \u5B66\u4E60\u5EFA\u8BAE")],-1),gt=n("p",null,[n("strong",null,"\u6587\u6863\u4E00\u5B9A\u8981\u901A\u8BFB"),s("\uFF0C"),n("strong",null,"\u6587\u6863\u4E00\u5B9A\u8981\u901A\u8BFB"),s("\uFF0C"),n("strong",null,"\u6587\u6863\u4E00\u5B9A\u8981\u901A\u8BFB"),s("\u3002\u5982\u679C\u4F60\u60F3\u8F7B\u677E\u7684\u5B9E\u73B0\u5404\u79CD\u529F\u80FD\uFF0C\u5148\u4E0D\u8981\u53BB\u641C\u7F51\u4E0A\u7684\u5404\u79CD\u4E8C\u624B\u8D44\u6599\uFF0C\u8BF7\u4E00\u5B9A\u8981\u719F\u8BFB\u6587\u6863\u3002\u4E0D\u662F\u4E3A\u4E86\u8BB0\u4E0B\u6765\uFF0C\u800C\u662F\u6709\u4E2A\u5927\u6982\u5370\u8C61\uFF0C\u77E5\u9053\u5C0F\u7A0B\u5E8F\u6709\u54EA\u4E9B\u80FD\u529B\u548C\u9650\u5236\u3002\u4E0B\u9762\u7B14\u8005\u5217\u51FA\u4E00\u4E9B\u6587\u6863\u548C\u793E\u533A\u91CC\u5F88\u4F18\u8D28\u7684\u5185\u5BB9\uFF08\u9996\u9875\u7684\u5C31\u4E0D\u5217\u4E86\uFF09\uFF0C\u867D\u7136\u5728\u5F88\u663E\u773C\u7684\u4F4D\u7F6E\uFF0C\u4F46\u662F\u5F88\u591A\u4EBA\u6CA1\u770B\u8FC7\u{1F926}\u3002(\u4E2A\u4EBA\u611F\u89C9\uFF0C\u5E73\u65F6\u5F88\u591A\u5F00\u53D1\u8005\u95EE\u7684\u95EE\u9898\uFF0C\u767E\u5206\u4E4B\u4E5D\u5341\u90FD\u5728\u6587\u6863\u91CC\u6709\u7B54\u6848)")],-1),yt={href:"https://developers.weixin.qq.com/community/develop/list/512",target:"_blank",rel:"noopener noreferrer"},_t=s("\u5C0F\u7A0B\u5E8F-\u5C0F\u6545\u4E8B"),vt=s(" \u53EF\u4EE5\u4E86\u89E3\u5C0F\u7A0B\u5E8F\u7684\u53D1\u5C55\u548C\u5BF9\u4E00\u4E9B\u529F\u80FD\u7684\u6743\u8861\u53D6\u820D\u8FC7\u7A0B"),ft={href:"https://developers.weixin.qq.com/community/develop/list/4",target:"_blank",rel:"noopener noreferrer"},wt=s("\u5C0F\u7A0B\u5E8F\u57FA\u7840\u6559\u7A0B"),xt=s(" \u975E\u5E38\u597D\u548C\u5168\u9762\u7684\u6559\u7A0B\uFF0C\u5899\u88C2\u63A8\u8350"),qt={href:"https://developers.weixin.qq.com/community/develop/list/2",target:"_blank",rel:"noopener noreferrer"},jt=s("\u5B98\u65B9\u516C\u544A"),Pt=s(" \u5C0F\u7A0B\u5E8F\u4ECD\u7136\u5728\u5FEB\u901F\u8FED\u4EE3\u5F53\u4E2D\uFF0C\u4E86\u89E3\u5B98\u65B9\u7684\u52A8\u6001\u5BF9\u4E8E\u5F00\u53D1\u8005\u975E\u5E38\u6709\u5FC5\u8981"),Ct={href:"https://developers.weixin.qq.com/community/develop/buglist",target:"_blank",rel:"noopener noreferrer"},St=s("\u5C0F\u7A0B\u5E8F\u5DF2\u77E5\u95EE\u9898\u548C\u4FEE\u590D\u65E5\u5FD7"),Vt=s(" \u8EB2\u5751\u6307\u5357"),Tt={href:"https://developers.weixin.qq.com/miniprogram/product/",target:"_blank",rel:"noopener noreferrer"},Mt=s("\u8FD0\u8425\u89C4\u8303&\u5E38\u89C1\u62D2\u7EDD\u60C5\u5F62"),Dt=s(" \u5C0F\u7A0B\u5E8F\u5BAA\u6CD5"),At={href:"https://developers.weixin.qq.com/miniprogram/dev/api/authorize-index.html",target:"_blank",rel:"noopener noreferrer"},Et=s("\u9700\u8981\u6388\u6743\u7684\u64CD\u4F5C"),Wt=s(" \u6388\u6743\u662F\u6709\u53EF\u80FD\u6D41\u5931\u7528\u6237\u7684\uFF0C\u8981\u591A\u6CE8\u610F"),It={href:"https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421140183",target:"_blank",rel:"noopener noreferrer"},Bt=s("\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\u6280\u672F\u6587\u6863"),Lt=s(" \u6D89\u53CA\u5230\u548C\u516C\u4F17\u53F7\u4EA4\u4E92\u7B49\u5185\u5BB9\u53EF\u80FD\u4F1A\u7528\u5230"),Ot={href:"https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&t=resource/res_list&verify=1&id=1417674108&token=&lang=zh_CN",target:"_blank",rel:"noopener noreferrer"},Ft=s("\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u6280\u672F\u6587\u6863"),Rt=s(" \u6D89\u53CA\u548CApp\u4EA4\u4E92\u7B49\u5185\u5BB9\u53EF\u80FD\u4F1A\u7528\u5230"),Ht=n("p",null,"\u5229\u7528\u597D\u5FAE\u4FE1\u63D0\u4F9B\u7684\u5404\u79CD\u8F85\u52A9\u5DE5\u5177\u548C\u80FD\u529B",-1),$t={href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/mydev.html",target:"_blank",rel:"noopener noreferrer"},Jt=s("\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u52A9\u624B"),Nt=s(" \u65B9\u4FBF\u67E5\u770B\u5F00\u53D1\u7248\uFF0C\u4F53\u9A8C\u7248\uFF0C\u7EBF\u4E0A\u7248"),zt={href:"https://developers.weixin.qq.com/miniprogram/dev/demo.html",target:"_blank",rel:"noopener noreferrer"},Ut=s("\u5C0F\u7A0B\u5E8F\u793A\u4F8B"),Gt=s(" \u76F4\u89C2\u7684\u4E86\u89E3\u5C0F\u7A0B\u5E8F\u7684\u5404\u79CD\u80FD\u529B\uFF0C\u65B0\u624B\u53EF\u4EE5\u5F53\u505Ademo\u8DD1\u4E00\u4E0B"),Xt={href:"https://developers.weixin.qq.com/miniprogram/analysis/assistant/",target:"_blank",rel:"noopener noreferrer"},Kt=s("\u5C0F\u7A0B\u5E8F\u6570\u636E\u52A9\u624B"),Qt=s(" \u67E5\u770B\u5C0F\u7A0B\u5E8Fpv\uFF0Cuv\uFF0C\u65B9\u4FBF\u4E86\u89E3\u81EA\u5DF1\u7684\u5DE5\u4F5C\u6210\u679C"),Yt=s("\u5229\u7528\u597D\u5C0F\u7A0B\u5E8F\u63D0\u4F9B\u7684"),Zt={href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/debug.html",target:"_blank",rel:"noopener noreferrer"},ne=s("\u8C03\u8BD5\u80FD\u529B"),se=s(" \u73B0\u5728\u5C0F\u7A0B\u5E8F\u5DF2\u7ECF\u6709\u4E86\u771F\u673A\u8C03\u8BD5\uFF0C\u5404\u79CD\u7279\u6B8A\u573A\u666F\u7684\u6D4B\u8BD5(\u626B\u7801\uFF0C\u652F\u4ED8)\uFF0C\u5DF2\u7ECF\u975E\u5E38\u5168\u9762\u3002"),ae=n("li",null,[n("p",null,"\u770B\u5B8C\u6587\u6863\u76F4\u63A5\u4E0A\u624B\u5F00\u53D1\uFF0C\u591A\u52A8\u624B\u55BD\uFF0C\u5E72\u5C31\u5B8C\u4E86!")],-1),pe=n("p",null,"\u5EFA\u8BAE\u7684\u8FDB\u9636\u8DEF\u7EBF:",-1),te=n("pre",null,[n("code",null,`1. \u719F\u8BFB\u6587\u6863 
2. \u53EF\u5F00\u53D1\u4E00\u4E9B\u5C0F\u529F\u80FD\uFF0C\u719F\u6089\u5F00\u53D1\u6D41\u7A0B
3. \u5C1D\u8BD5\u5F00\u53D1\u4E00\u4E9B\u590D\u6742\u7684\u4EFB\u52A1(\u4F8B\u5982\u8BBE\u8BA1\u4E00\u4E2A\u7ED8\u56FE\u5E93\uFF0C\u57CB\u70B9\u5E93) 
4. \u53EF\u4EE5\u7FFB\u9605\u4E00\u4E0B\u4E1A\u754C\u4F18\u79C0\u7684\u5C0F\u7A0B\u5E8F\u6E90\u7801(\u529E\u6CD5\u81EA\u5DF1\u60F3\u{1F914})\uFF0C\u6846\u67B6\u6E90\u7801
5. \u5C06\u5FAE\u4FE1\u5F00\u53D1\u8005\u6839\u636E\u62D6\u5165\u4F60\u7684ide\u7FFB\u4E00\u7FFB\u5E95\u5C42\u4EE3\u7801,\u601D\u8003\u548C\u7406\u89E3\u5C0F\u7A0B\u5E8F\u7684\u8BBE\u8BA1
6. \u6210\u4E3A\u8001\u53F8\u673A
`)],-1),ee=n("h3",{id:"\u5982\u4F55\u89E3\u51B3\u9047\u5230\u7684\u95EE\u9898",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5982\u4F55\u89E3\u51B3\u9047\u5230\u7684\u95EE\u9898","aria-hidden":"true"},"#"),s(" \u5982\u4F55\u89E3\u51B3\u9047\u5230\u7684\u95EE\u9898")],-1),oe=n("p",null,"\u7531\u4E8E\u5C0F\u7A0B\u5E8F\u672C\u8EAB\u7684\u6280\u672F\u67B6\u6784\uFF0C\u5F00\u53D1\u6280\u80FD\u548Cweb\u6280\u672F\u5171\u6027\u5F88\u591A\uFF0C\u6211\u4EEC\u4E4B\u524D\u5728web\u5F00\u53D1\u4E2D\u7684\u5F88\u591A\u5F00\u53D1\u7ECF\u9A8C\u4E5F\u662F\u6709\u6548\u7684\uFF0C\u5927\u591A\u6570\u95EE\u9898\u4E5F\u662F\u5F88\u597D\u89E3\u51B3\u7684(\u770B\u6587\u6863)\u3002\u5E38\u89C1\u7684\u4E00\u4E9B\u95EE\u9898\uFF1A",-1),ce=n("p",null,"\u517C\u5BB9\u6027\u95EE\u9898",-1),le=n("p",null,"\u4E00\u822C\u9047\u5230\u8BBE\u5907\u517C\u5BB9\u6027\u95EE\u9898\uFF0C\u4ECE\u4EE5\u4E0B\u51E0\u4E2A\u89D2\u5EA6\u601D\u8003:",-1),re=s("\u4E0D\u901A\u7684\u5FAE\u4FE1\u7248\u672C\u7684"),ue={href:"https://developers.weixin.qq.com/miniprogram/dev/framework/client-lib.html",target:"_blank",rel:"noopener noreferrer"},ie=s("\u5C0F\u7A0B\u5E8F\u57FA\u7840\u5E93"),ke=s("\u662F\u4E0D\u4E00\u6837\u7684\uFF0C\u5F88\u591A "),be=n("code",null,"API",-1),me=s(" \u662F\u6709\u57FA\u7840\u5E93\u7684\u8981\u6C42\u3002"),de=n("li",null,"\u6837\u5F0F\u5199\u6CD5\u95EE\u9898\uFF0C\u5C0F\u7A0B\u5E8F\u63D0\u4F9B\u4E86rpx\u5355\u4F4D\u8BA9\u6837\u5F0F\u5F00\u53D1\u66F4\u7B80\u5355\uFF0C\u4F46\u5982\u679C\u5355\u4F4D\u6DF7\u7528\u7684\u8BDD\u53EF\u80FD\u4F1A\u5BFC\u81F4\u610F\u60F3\u4E0D\u5230\u7684\u6548\u679C\u3002",-1),he=n("li",null,[s("css\u517C\u5BB9\u6027\u95EE\u9898 \u4F8B\u5982ios7\uFF0C8\u5BF9 "),n("code",null,"flex\u5E03\u5C40"),s(" \u652F\u6301\u7684\u4E0D\u591F\u597D\u3002")],-1),ge=n("li",null,[s("\u8BBE\u5907\u517C\u5BB9\u95EE\u9898\uFF0C\u4F8B\u5982ios\u4E0D\u652F\u6301 "),n("code",null,"webp"),s(" \u56FE\u7247\u683C\u5F0F\u3002")],-1),ye=n("p",null,"\u4EE3\u7801\u903B\u8F91\u95EE\u9898",-1),_e=s("\u5BF9\u4E8E\u5E73\u5E38\u7684\u4E1A\u52A1\u903B\u8F91\u6765\u8BF4\u4E00\u822C\u90FD\u662F\u8DDF\u5C0F\u7A0B\u5E8F\u7684"),ve={href:"https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html",target:"_blank",rel:"noopener noreferrer"},fe=s("\u751F\u547D\u5468\u671F"),we=s("\u6302\u94A9\uFF0C\u5982\u679C\u4E1A\u52A1\u903B\u8F91\u590D\u6742\uFF0C\u4EE3\u7801\u7EC4\u7EC7\u80FD\u529B\u4E0D\u591F\uFF0C\u5F88\u5BB9\u6613\u5C06\u4EE3\u7801\u5199\u7684\u5F88\u4E71\uFF0C\u8FD9\u6837\u51FA\u73B0\u95EE\u9898\u7684\u98CE\u9669\u81EA\u7136\u4E5F\u4F1A\u5F88\u9AD8\u3002 \u6240\u4EE5\u5EFA\u8BAE\u5728\u5F00\u53D1\u590D\u6742\u4E1A\u52A1\u903B\u8F91\u65F6\uFF0C\u4E00\u5B9A\u8981\u5148\u501F\u52A9\u6D41\u7A0B\u56FE\uFF0C\u601D\u7EF4\u8111\u56FE\u7B49\u65B9\u5F0F\u5206\u6790\u6E05\u695A\u4E1A\u52A1\uFF0C\u7136\u540E\u518D\u89C4\u5212\u4EE3\u7801\u903B\u8F91\uFF0C\u62C6\u5206\u51FA\u903B\u8F91\u4E3B\u6B21\u518D\u5F00\u53D1\u3002 \u9047\u5230\u95EE\u9898\u65F6\uFF0C\u63A8\u8350\u5982\u4E0B\u65B9\u6CD5:"),xe=n("ol",null,[n("li",null,[n("code",null,"debugger"),s(" \u5927\u6CD5\uFF0C\u5728\u51FA\u73B0\u95EE\u9898\u7684\u5730\u65B9\u6253\u4E0A\u65AD\u70B9\uFF0C\u4E00\u6B65\u6B65\u67E5\u770B\u4E0A\u4E0B\u6587\u4E2D\u7684\u53D8\u91CF\u5F02\u5E38")]),n("li",null,[n("code",null,"\u4E8C\u5206\u5220\u4EE3\u7801\u5927\u6CD5"),s(" \u9047\u5230\u6781\u5176\u8BE1\u5F02\uFF08\u6CE8\u610F\u662F\u6781\u5176\u8BE1\u5F02\uFF09\u7684\u95EE\u9898\u65F6\uFF0C\u4E8C\u5206\u5220\u4EE3\u7801\u76F4\u5230\u95EE\u9898\u6D88\u5931\uFF0C\u5B9A\u4F4D\u5230\u95EE\u9898\u4EE3\u7801(\u6084\u6084\u544A\u8BC9\u4F60\u4EEC\uFF0C\u7B14\u8005\u7528\u8FD9\u4E2A\u65B9\u6CD5\u5E2E\u540C\u4E8B\u5B9A\u4F4D\u5230\u597D\u51E0\u4E2A\u8BE1\u5F02\u7684\u95EE\u9898)")])],-1),qe=n("p",null,"\u6027\u80FD\u95EE\u9898",-1),je=s("\u5B98\u65B9\u63D0\u4F9B\u7684"),Pe={href:"https://developers.weixin.qq.com/miniprogram/dev/framework/performance/",target:"_blank",rel:"noopener noreferrer"},Ce=s("\u6027\u80FD\u4F18\u5316\u5DE5\u5177\uFF0C\u548C\u6587\u6863"),Se=s("\u4E3A\u7B2C\u4E00\u8D44\u6599\uFF0C\u6BD5\u7ADF\u4ED6\u4EEC\u81EA\u5DF1\u5199\u7684\u5751\uFF0C\u81EA\u5DF1\u6700\u6E05\u695A\u3002\u53E6\u5916\u4E0A\u9762\u5DF2\u7ECF\u4ECB\u7ECD\u8FC7\u4E00\u4E9B\u6027\u80FD\u4F18\u5316\u7684\u65B9\u6CD5\u4E86\uFF0C\u53C2\u7167\u4E1A\u52A1\u573A\u666F\u5BF9\u75C7\u4E0B\u836F\u5373\u53EF\u3002"),Ve=n("li",null,[n("p",null,"\u5404\u79CD\u5947\u602A\u7684\u95EE\u9898"),n("p",null,[s("\u4E8B\u5B9E\u4E0A\uFF0C90%\u7684\u95EE\u9898\u8FD8\u662F\u4E0D\u770B\u6587\u6863\u5BFC\u81F4\u7684\uFF0C\u6240\u4EE5\u4F60\u4EEC\u61C2\u5F97\u3002\u53E6\u5916\u4E00\u4E9B\u95EE\u9898\u53C2\u8003\u4E0A\u8FF0\u4E5F\u53EF\u4EE5\u5B9A\u4F4D\u5230\uFF0C\u5982\u679C\u8FD8\u6709\u4E0D\u80FD\u89E3\u51B3\u7684\u95EE\u9898\u600E\u4E48\u529E\uFF1F \u90A3\u53EF\u80FD\u662F\u5FAE\u4FE1\u7684"),n("code",null,"bug"),s("\uFF0C\u6240\u4EE5\u53BB\u5DF2\u77E5\u95EE\u9898\u6587\u6863\uFF0C\u5B98\u65B9\u793E\u533A\u7FFB\u4E00\u7FFB\uFF0C\u4E00\u822C\u90FD\u6709\u86DB\u4E1D\u9A6C\u8FF9\u3002\u5B9E\u5728\u4E0D\u884C\u4E5F\u53EF\u4EE5\u5411\u8001\u53F8\u673A\u63D0\u95EE\uFF0C\u6CE8\u610F\u63D0\u95EE\u59FF\u52BF\uFF0C\u6700\u597D\u63D0\u4F9B\u6700\u5C0F\u53EF\u590D\u73B0demo\uFF0C\u4EE3\u7801\u7247\u6BB5\u529F\u80FD\u4E86\u89E3\u4E00\u4E0B")])],-1),Te=n("h3",{id:"\u603B\u7ED3-1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u603B\u7ED3-1","aria-hidden":"true"},"#"),s(" \u603B\u7ED3")],-1),Me=n("p",null,"\u795D\u5927\u5BB6\u5F00\u53D1\u6109\u5FEB!",-1),De=n("h2",{id:"\u53C2\u8003\u94FE\u63A5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u53C2\u8003\u94FE\u63A5","aria-hidden":"true"},"#"),s(" \u53C2\u8003\u94FE\u63A5")],-1),Ae=n("p",null,"\u4EE5\u4E0A\u5185\u5BB9\u90E8\u5206\u6765\u81EA\uFF1A",-1),Ee={href:"https://zhuanlan.zhihu.com/p/22754296",target:"_blank",rel:"noopener noreferrer"},We=s("\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u67B6\u6784\u5206\u6790 (\u4E0A)"),Ie={href:"https://zhuanlan.zhihu.com/p/25105936",target:"_blank",rel:"noopener noreferrer"},Be=s("\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u67B6\u6784\u89E3\u6790"),Le={href:"http://daxue.qq.com/content/online/id/4107",target:"_blank",rel:"noopener noreferrer"},Oe=s("2018\u5FAE\u4FE1\u516C\u5F00\u8BFE\u7B2C\u4E03\u5B63\u4E0A\u6D77\u7AD9\xB7\u5C0F\u7A0B\u5E8F\u4E13\u573A"),Fe={href:"https://juejin.im/entry/5a54b73b6fb9a01ca7135335",target:"_blank",rel:"noopener noreferrer"},Re=s("\u5C0F\u7A0B\u5E8F\u4E2D\u4F7F\u7528iconfont"),He={href:"http://www.infoq.com/cn/news/2018/07/wchat-miniprog-support",target:"_blank",rel:"noopener noreferrer"},$e=s("\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u7684\u4E0B\u4E00\u6B65\uFF1A\u652F\u6301NPM\u3001\u5C0F\u7A0B\u5E8F\u4E91\u3001\u53EF\u89C6\u5316\u7F16\u7A0B\u3001\u652F\u6301\u5206\u5305"),Je={href:"http://mpvue.com/build/mpvue-loader/",target:"_blank",rel:"noopener noreferrer"},Ne=s("mpvue-docs"),ze={href:"https://juejin.im/post/5afd836251882567105ff8b4",target:"_blank",rel:"noopener noreferrer"},Ue=s("\u4F7F\u7528Mpvue\u5F00\u53D1\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u7684\u6700\u4F73\u5B9E\u8DF5"),Ge={href:"https://tech.meituan.com/mt_mpvue_development_framework.html",target:"_blank",rel:"noopener noreferrer"},Xe=s("\u7528Vue.js\u5F00\u53D1\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\uFF1A\u5F00\u6E90\u6846\u67B6mpvue\u89E3\u6790"),Ke={href:"https://github.com/answershuto/learnVue",target:"_blank",rel:"noopener noreferrer"},Qe=s("learnVue");function Ye(Ze,no){const a=e("ExternalLinkIcon");return o(),c(l,null,[i,n("ul",null,[n("li",null,[n("p",null,[n("a",k,[b,p(a)]),m])]),n("li",null,[n("p",null,[n("a",d,[h,p(a)]),g])]),n("li",null,[n("p",null,[n("a",y,[_,p(a)]),v])]),n("li",null,[n("p",null,[n("a",f,[w,p(a)]),x])])]),q,n("ol",null,[j,n("li",null,[P,n("a",C,[S,p(a)]),V,T,M])]),D,n("h3",A,[E,W,n("a",I,[B,p(a)])]),L,n("p",null,[O,n("a",F,[R,p(a)]),H]),$,J,N,z,n("ol",null,[U,G,n("li",null,[X,n("a",K,[Q,p(a)]),Y]),Z]),nn,sn,n("ol",null,[an,n("li",null,[pn,n("a",tn,[en,p(a)])]),on]),cn,n("p",null,[ln,n("a",rn,[un,p(a)]),kn,bn,mn,dn,hn,gn,yn,_n,vn]),fn,n("ul",null,[n("li",null,[wn,n("p",null,[xn,n("a",qn,[jn,p(a)]),Pn])]),n("li",null,[Cn,n("p",null,[Sn,n("a",Vn,[Tn,p(a)]),Mn])])]),Dn,An,n("p",null,[En,n("a",Wn,[In,p(a)]),Bn]),Ln,n("ul",null,[On,Fn,Rn,Hn,n("li",null,[$n,n("a",Jn,[Nn,p(a)]),zn]),Un]),Gn,n("p",null,[Xn,n("a",Kn,[Qn,p(a)]),Yn]),Zn,n("p",null,[ns,n("a",ss,[as,p(a)]),ps]),ts,n("ul",null,[es,n("li",null,[n("p",null,[os,n("a",cs,[ls,p(a)]),rs])]),n("li",null,[n("p",null,[us,n("a",is,[ks,p(a)]),bs]),ms]),ds,hs,n("li",null,[n("p",null,[gs,n("a",ys,[_s,p(a)]),vs])]),fs,n("li",null,[n("p",null,[ws,n("a",xs,[qs,p(a)])]),js]),Ps]),Cs,n("p",null,[Ss,Vs,Ts,Ms,n("a",Ds,[As,p(a)]),Es]),n("p",null,[Ws,Is,n("a",Bs,[Ls,p(a)]),Os]),Fs,Rs,Hs,n("p",null,[$s,Js,n("a",Ns,[zs,p(a)]),Us]),Gs,n("p",null,[Xs,n("a",Ks,[Qs,p(a)]),Ys]),Zs,n("p",null,[na,n("a",sa,[aa,p(a)]),pa,n("a",ta,[ea,p(a)]),oa,n("a",ca,[la,p(a)]),ra]),ua,ia,n("p",null,[ka,ba,ma,n("a",da,[ha,p(a)]),ga,ya,_a,n("a",va,[fa,p(a)]),wa]),xa,n("p",null,[n("a",qa,[ja,p(a)]),Pa,n("a",Ca,[Sa,p(a)]),Va,n("a",Ta,[Ma,p(a)]),Da,n("a",Aa,[Ea,p(a)]),Wa,Ia,Ba]),La,n("p",null,[Oa,n("a",Fa,[Ra,p(a)]),Ha]),n("p",null,[$a,Ja,Na,n("a",za,[Ua,p(a)]),Ga,Xa,Ka,n("a",Qa,[Ya,p(a)]),Za]),n("p",null,[np,n("a",sp,[ap,p(a)]),pp]),tp,n("p",null,[n("strong",null,[n("a",ep,[op,p(a)])])]),cp,n("p",null,[n("strong",null,[n("a",lp,[rp,p(a)])])]),up,n("p",null,[n("strong",null,[n("a",ip,[kp,p(a)])])]),n("p",null,[bp,mp,dp,n("a",hp,[gp,p(a)])]),yp,n("p",null,[_p,n("a",vp,[fp,p(a)])]),wp,xp,n("p",null,[n("strong",null,[n("a",qp,[jp,p(a)])])]),Pp,n("p",null,[n("a",Cp,[Sp,p(a)]),Vp]),Tp,n("p",null,[Mp,Dp,Ap,Ep,Wp,Ip,Bp,Lp,Op,n("a",Fp,[Rp,p(a)]),Hp]),$p,n("p",null,[n("strong",null,[n("a",Jp,[Np,p(a)])])]),zp,n("p",null,[Up,Gp,n("a",Xp,[Kp,p(a)]),Qp]),n("p",null,[Yp,n("a",Zp,[nt,p(a)]),st]),n("p",null,[at,n("a",pt,[tt,p(a)]),et]),n("ul",null,[n("li",null,[n("a",ot,[ct,p(a)])]),n("li",null,[n("a",lt,[rt,p(a)])]),n("li",null,[n("a",ut,[it,p(a)])]),kt]),bt,mt,dt,ht,n("ol",null,[n("li",null,[gt,n("ul",null,[n("li",null,[n("a",yt,[_t,p(a)]),vt]),n("li",null,[n("a",ft,[wt,p(a)]),xt]),n("li",null,[n("a",qt,[jt,p(a)]),Pt]),n("li",null,[n("a",Ct,[St,p(a)]),Vt]),n("li",null,[n("a",Tt,[Mt,p(a)]),Dt]),n("li",null,[n("a",At,[Et,p(a)]),Wt]),n("li",null,[n("a",It,[Bt,p(a)]),Lt]),n("li",null,[n("a",Ot,[Ft,p(a)]),Rt])])]),n("li",null,[Ht,n("ul",null,[n("li",null,[n("a",$t,[Jt,p(a)]),Nt]),n("li",null,[n("a",zt,[Ut,p(a)]),Gt]),n("li",null,[n("a",Xt,[Kt,p(a)]),Qt]),n("li",null,[Yt,n("a",Zt,[ne,p(a)]),se])])]),ae]),pe,te,ee,oe,n("ol",null,[n("li",null,[ce,le,n("ol",null,[n("li",null,[re,n("a",ue,[ie,p(a)]),ke,be,me]),de,he,ge])]),n("li",null,[ye,n("p",null,[_e,n("a",ve,[fe,p(a)]),we]),xe]),n("li",null,[qe,n("p",null,[je,n("a",Pe,[Ce,p(a)]),Se])]),Ve]),Te,Me,De,Ae,n("ul",null,[n("li",null,[n("a",Ee,[We,p(a)])]),n("li",null,[n("a",Ie,[Be,p(a)])]),n("li",null,[n("a",Le,[Oe,p(a)])]),n("li",null,[n("a",Fe,[Re,p(a)])]),n("li",null,[n("a",He,[$e,p(a)])]),n("li",null,[n("a",Je,[Ne,p(a)])]),n("li",null,[n("a",ze,[Ue,p(a)])]),n("li",null,[n("a",Ge,[Xe,p(a)])]),n("li",null,[n("a",Ke,[Qe,p(a)])])])],64)}var po=r(u,[["render",Ye]]);export{po as default};
